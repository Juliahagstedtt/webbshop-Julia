(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Hd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Jh={exports:{}},Ko={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function DA(){if(Yy)return Ko;Yy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Ko.Fragment=e,Ko.jsx=r,Ko.jsxs=r,Ko}var Ky;function IA(){return Ky||(Ky=1,Jh.exports=DA()),Jh.exports}var W=IA(),Wh={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function OA(){if(Xy)return De;Xy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),m=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function S($,ee,ue){this.props=$,this.context=ee,this.refs=v,this.updater=ue||b}S.prototype.isReactComponent={},S.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=S.prototype;function R($,ee,ue){this.props=$,this.context=ee,this.refs=v,this.updater=ue||b}var D=R.prototype=new A;D.constructor=R,g(D,S.prototype),D.isPureReactComponent=!0;var V=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function N($,ee,ue,oe,ge,Ce){return ue=Ce.ref,{$$typeof:i,type:$,key:ee,ref:ue!==void 0?ue:null,props:Ce}}function w($,ee){return N($.type,ee,void 0,void 0,void 0,$.props)}function x($){return typeof $=="object"&&$!==null&&$.$$typeof===i}function I($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ue){return ee[ue]})}var j=/\/+/g;function B($,ee){return typeof $=="object"&&$!==null&&$.key!=null?I(""+$.key):ee.toString(36)}function P(){}function fe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(P,P):($.status="pending",$.then(function(ee){$.status==="pending"&&($.status="fulfilled",$.value=ee)},function(ee){$.status==="pending"&&($.status="rejected",$.reason=ee)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function he($,ee,ue,oe,ge){var Ce=typeof $;(Ce==="undefined"||Ce==="boolean")&&($=null);var Ee=!1;if($===null)Ee=!0;else switch(Ce){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch($.$$typeof){case i:case e:Ee=!0;break;case T:return Ee=$._init,he(Ee($._payload),ee,ue,oe,ge)}}if(Ee)return ge=ge($),Ee=oe===""?"."+B($,0):oe,V(ge)?(ue="",Ee!=null&&(ue=Ee.replace(j,"$&/")+"/"),he(ge,ee,ue,"",function(Ln){return Ln})):ge!=null&&(x(ge)&&(ge=w(ge,ue+(ge.key==null||$&&$.key===ge.key?"":(""+ge.key).replace(j,"$&/")+"/")+Ee)),ee.push(ge)),1;Ee=0;var tt=oe===""?".":oe+":";if(V($))for(var We=0;We<$.length;We++)oe=$[We],Ce=tt+B(oe,We),Ee+=he(oe,ee,ue,Ce,ge);else if(We=p($),typeof We=="function")for($=We.call($),We=0;!(oe=$.next()).done;)oe=oe.value,Ce=tt+B(oe,We++),Ee+=he(oe,ee,ue,Ce,ge);else if(Ce==="object"){if(typeof $.then=="function")return he(fe($),ee,ue,oe,ge);throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K($,ee,ue){if($==null)return $;var oe=[],ge=0;return he($,oe,"","",function(Ce){return ee.call(ue,Ce,ge++)}),oe}function ae($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(ue){($._status===0||$._status===-1)&&($._status=1,$._result=ue)},function(ue){($._status===0||$._status===-1)&&($._status=2,$._result=ue)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var de=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Se(){}return De.Children={map:K,forEach:function($,ee,ue){K($,function(){ee.apply(this,arguments)},ue)},count:function($){var ee=0;return K($,function(){ee++}),ee},toArray:function($){return K($,function(ee){return ee})||[]},only:function($){if(!x($))throw Error("React.Children.only expected to receive a single React element child.");return $}},De.Component=S,De.Fragment=r,De.Profiler=o,De.PureComponent=R,De.StrictMode=a,De.Suspense=_,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,De.__COMPILER_RUNTIME={__proto__:null,c:function($){return k.H.useMemoCache($)}},De.cache=function($){return function(){return $.apply(null,arguments)}},De.cloneElement=function($,ee,ue){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var oe=g({},$.props),ge=$.key,Ce=void 0;if(ee!=null)for(Ee in ee.ref!==void 0&&(Ce=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!z.call(ee,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ee.ref===void 0||(oe[Ee]=ee[Ee]);var Ee=arguments.length-2;if(Ee===1)oe.children=ue;else if(1<Ee){for(var tt=Array(Ee),We=0;We<Ee;We++)tt[We]=arguments[We+2];oe.children=tt}return N($.type,ge,void 0,void 0,Ce,oe)},De.createContext=function($){return $={$$typeof:h,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:u,_context:$},$},De.createElement=function($,ee,ue){var oe,ge={},Ce=null;if(ee!=null)for(oe in ee.key!==void 0&&(Ce=""+ee.key),ee)z.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=ee[oe]);var Ee=arguments.length-2;if(Ee===1)ge.children=ue;else if(1<Ee){for(var tt=Array(Ee),We=0;We<Ee;We++)tt[We]=arguments[We+2];ge.children=tt}if($&&$.defaultProps)for(oe in Ee=$.defaultProps,Ee)ge[oe]===void 0&&(ge[oe]=Ee[oe]);return N($,Ce,void 0,void 0,null,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function($){return{$$typeof:c,render:$}},De.isValidElement=x,De.lazy=function($){return{$$typeof:T,_payload:{_status:-1,_result:$},_init:ae}},De.memo=function($,ee){return{$$typeof:y,type:$,compare:ee===void 0?null:ee}},De.startTransition=function($){var ee=k.T,ue={};k.T=ue;try{var oe=$(),ge=k.S;ge!==null&&ge(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Se,de)}catch(Ce){de(Ce)}finally{k.T=ee}},De.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},De.use=function($){return k.H.use($)},De.useActionState=function($,ee,ue){return k.H.useActionState($,ee,ue)},De.useCallback=function($,ee){return k.H.useCallback($,ee)},De.useContext=function($){return k.H.useContext($)},De.useDebugValue=function(){},De.useDeferredValue=function($,ee){return k.H.useDeferredValue($,ee)},De.useEffect=function($,ee,ue){var oe=k.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect($,ee)},De.useId=function(){return k.H.useId()},De.useImperativeHandle=function($,ee,ue){return k.H.useImperativeHandle($,ee,ue)},De.useInsertionEffect=function($,ee){return k.H.useInsertionEffect($,ee)},De.useLayoutEffect=function($,ee){return k.H.useLayoutEffect($,ee)},De.useMemo=function($,ee){return k.H.useMemo($,ee)},De.useOptimistic=function($,ee){return k.H.useOptimistic($,ee)},De.useReducer=function($,ee,ue){return k.H.useReducer($,ee,ue)},De.useRef=function($){return k.H.useRef($)},De.useState=function($){return k.H.useState($)},De.useSyncExternalStore=function($,ee,ue){return k.H.useSyncExternalStore($,ee,ue)},De.useTransition=function(){return k.H.useTransition()},De.version="19.1.0",De}var Zy;function Gd(){return Zy||(Zy=1,Wh.exports=OA()),Wh.exports}var te=Gd();const vd=Hd(te);var ed={exports:{}},Xo={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function NA(){return Jy||(Jy=1,function(i){function e(K,ae){var de=K.length;K.push(ae);e:for(;0<de;){var Se=de-1>>>1,$=K[Se];if(0<o($,ae))K[Se]=ae,K[de]=$,de=Se;else break e}}function r(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ae=K[0],de=K.pop();if(de!==ae){K[0]=de;e:for(var Se=0,$=K.length,ee=$>>>1;Se<ee;){var ue=2*(Se+1)-1,oe=K[ue],ge=ue+1,Ce=K[ge];if(0>o(oe,de))ge<$&&0>o(Ce,oe)?(K[Se]=Ce,K[ge]=de,Se=ge):(K[Se]=oe,K[ue]=de,Se=ue);else if(ge<$&&0>o(Ce,de))K[Se]=Ce,K[ge]=de,Se=ge;else break e}}return ae}function o(K,ae){var de=K.sortIndex-ae.sortIndex;return de!==0?de:K.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,c=h.now();i.unstable_now=function(){return h.now()-c}}var _=[],y=[],T=1,m=null,p=3,b=!1,g=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(K){for(var ae=r(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=K)a(y),ae.sortIndex=ae.expirationTime,e(_,ae);else break;ae=r(y)}}function k(K){if(v=!1,V(K),!g)if(r(_)!==null)g=!0,z||(z=!0,B());else{var ae=r(y);ae!==null&&he(k,ae.startTime-K)}}var z=!1,N=-1,w=5,x=-1;function I(){return S?!0:!(i.unstable_now()-x<w)}function j(){if(S=!1,z){var K=i.unstable_now();x=K;var ae=!0;try{e:{g=!1,v&&(v=!1,R(N),N=-1),b=!0;var de=p;try{t:{for(V(K),m=r(_);m!==null&&!(m.expirationTime>K&&I());){var Se=m.callback;if(typeof Se=="function"){m.callback=null,p=m.priorityLevel;var $=Se(m.expirationTime<=K);if(K=i.unstable_now(),typeof $=="function"){m.callback=$,V(K),ae=!0;break t}m===r(_)&&a(_),V(K)}else a(_);m=r(_)}if(m!==null)ae=!0;else{var ee=r(y);ee!==null&&he(k,ee.startTime-K),ae=!1}}break e}finally{m=null,p=de,b=!1}ae=void 0}}finally{ae?B():z=!1}}}var B;if(typeof D=="function")B=function(){D(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,fe=P.port2;P.port1.onmessage=j,B=function(){fe.postMessage(null)}}else B=function(){A(j,0)};function he(K,ae){N=A(function(){K(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return p},i.unstable_next=function(K){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var de=p;p=ae;try{return K()}finally{p=de}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=p;p=K;try{return ae()}finally{p=de}},i.unstable_scheduleCallback=function(K,ae,de){var Se=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Se+de:Se):de=Se,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=de+$,K={id:T++,callback:ae,priorityLevel:K,startTime:de,expirationTime:$,sortIndex:-1},de>Se?(K.sortIndex=de,e(y,K),r(_)===null&&K===r(y)&&(v?(R(N),N=-1):v=!0,he(k,de-Se))):(K.sortIndex=$,e(_,K),g||b||(g=!0,z||(z=!0,B()))),K},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(K){var ae=p;return function(){var de=p;p=ae;try{return K.apply(this,arguments)}finally{p=de}}}}(nd)),nd}var Wy;function MA(){return Wy||(Wy=1,td.exports=NA()),td.exports}var rd={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function VA(){if(ev)return Ft;ev=1;var i=Gd();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,y,T){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:m==null?null:""+m,children:_,containerInfo:y,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ft.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(_,y,null,T)},Ft.flushSync=function(_){var y=h.T,T=a.p;try{if(h.T=null,a.p=2,_)return _()}finally{h.T=y,a.p=T,a.d.f()}},Ft.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ft.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ft.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,m=c(T,y.crossOrigin),p=typeof y.integrity=="string"?y.integrity:void 0,b=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:b}):T==="script"&&a.d.X(_,{crossOrigin:m,integrity:p,fetchPriority:b,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ft.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=c(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ft.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,m=c(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ft.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=c(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ft.requestFormReset=function(_){a.d.r(_)},Ft.unstable_batchedUpdates=function(_,y){return _(y)},Ft.useFormState=function(_,y,T){return h.H.useFormState(_,y,T)},Ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var tv;function kA(){if(tv)return rd.exports;tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rd.exports=VA(),rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function jA(){if(nv)return Xo;nv=1;var i=MA(),e=Gd(),r=kA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var d=s.return;if(d===null)break;var E=d.alternate;if(E===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===E.child){for(E=d.child;E;){if(E===s)return c(d),t;if(E===l)return c(d),n;E=E.sibling}throw Error(a(188))}if(s.return!==l.return)s=d,l=E;else{for(var M=!1,L=d.child;L;){if(L===s){M=!0,s=d,l=E;break}if(L===l){M=!0,l=d,s=E;break}L=L.sibling}if(!M){for(L=E.child;L;){if(L===s){M=!0,s=E,l=d;break}if(L===l){M=!0,l=E,s=d;break}L=L.sibling}if(!M)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var P=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===P?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case z:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case D:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:fe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return fe(t(n))}catch{}}return null}var he=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Se=[],$=-1;function ee(t){return{current:t}}function ue(t){0>$||(t.current=Se[$],Se[$]=null,$--)}function oe(t,n){$++,Se[$]=t.current,t.current=n}var ge=ee(null),Ce=ee(null),Ee=ee(null),tt=ee(null);function We(t,n){switch(oe(Ee,n),oe(Ce,t),oe(ge,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ay(n),t=Ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ge),oe(ge,t)}function Ln(){ue(ge),ue(Ce),ue(Ee)}function $r(t){t.memoizedState!==null&&oe(tt,t);var n=ge.current,s=Ty(n,t.type);n!==s&&(oe(Ce,t),oe(ge,s))}function cr(t){Ce.current===t&&(ue(ge),ue(Ce)),tt.current===t&&(ue(tt),Fo._currentValue=de)}var ji=Object.prototype.hasOwnProperty,Li=i.unstable_scheduleCallback,Pi=i.unstable_cancelCallback,za=i.unstable_shouldYield,Sl=i.unstable_requestPaint,yn=i.unstable_now,Zc=i.unstable_getCurrentPriorityLevel,Ba=i.unstable_ImmediatePriority,Ds=i.unstable_UserBlockingPriority,Ui=i.unstable_NormalPriority,Jc=i.unstable_LowPriority,Is=i.unstable_IdlePriority,qa=i.log,Rl=i.unstable_setDisableYieldValue,lt=null,He=null;function sn(t){if(typeof qa=="function"&&Rl(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var qt=Math.clz32?Math.clz32:zi,Cl=Math.log,Wc=Math.LN2;function zi(t){return t>>>=0,t===0?32:31-(Cl(t)/Wc|0)|0}var Bi=256,qi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Os(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var d=0,E=t.suspendedLanes,M=t.pingedLanes;t=t.warmLanes;var L=l&134217727;return L!==0?(l=L&~E,l!==0?d=On(l):(M&=L,M!==0?d=On(M):s||(s=L&~t,s!==0&&(d=On(s))))):(L=l&~E,L!==0?d=On(L):M!==0?d=On(M):s||(s=l&~t,s!==0&&(d=On(s)))),d===0?0:n!==0&&n!==d&&(n&E)===0&&(E=d&-d,s=n&-n,E>=s||E===32&&(s&4194048)!==0)?n:d}function $i(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $a(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var t=Bi;return Bi<<=1,(Bi&4194048)===0&&(Bi=256),t}function Ha(){var t=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),t}function fr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ga(t,n,s,l,d,E){var M=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var L=t.entanglements,q=t.expirationTimes,Y=t.hiddenUpdates;for(s=M&~s;0<s;){var ne=31-qt(s),ie=1<<ne;L[ne]=0,q[ne]=-1;var X=Y[ne];if(X!==null)for(Y[ne]=null,ne=0;ne<X.length;ne++){var Z=X[ne];Z!==null&&(Z.lane&=-536870913)}s&=~ie}l!==0&&Pn(t,l,0),E!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=E&~(M&~n))}function Pn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Qa(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-qt(s),d=1<<l;d&n|t[l]&n&&(t[l]|=n),s&=~d}}function Fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ns(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:qy(t.type))}function xl(t,n){var s=ae.p;try{return ae.p=t,n()}finally{ae.p=s}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,pt="__reactProps$"+nt,vn="__reactContainer$"+nt,Ya="__reactEvents$"+nt,ef="__reactListeners$"+nt,Gr="__reactHandles$"+nt,Dl="__reactResources$"+nt,Fi="__reactMarker$"+nt;function Qr(t){delete t[bt],delete t[pt],delete t[Ya],delete t[ef],delete t[Gr]}function dr(t){var n=t[bt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[vn]||s[bt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Cy(t);t!==null;){if(s=t[bt])return s;t=Cy(t)}return n}t=s,s=t.parentNode}return null}function Un(t){if(t=t[bt]||t[vn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Yt(t){var n=t[Dl];return n||(n=t[Dl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ft(t){t[Fi]=!0}var Ka=new Set,Ms={};function Nn(t,n){mr(t,n),mr(t+"Capture",n)}function mr(t,n){for(Ms[t]=n,t=0;t<n.length;t++)Ka.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Hi={};function Nl(t){return ji.call(Hi,t)?!0:ji.call(Ol,t)?!1:Il.test(t)?Hi[t]=!0:(Ol[t]=!0,!1)}function Yr(t,n,s){if(Nl(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Bn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Vt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Gi,Ml;function pr(t){if(Gi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Gi=n&&n[1]||"",Ml=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gi+t+Ml}var Vs=!1;function ks(t,n){if(!t||Vs)return"";Vs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var X=Z}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(Z){X=Z}t.call(ie.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=l.DetermineComponentFrameRoot(),M=E[0],L=E[1];if(M&&L){var q=M.split(`
`),Y=L.split(`
`);for(d=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(l===q.length||d===Y.length)for(l=q.length-1,d=Y.length-1;1<=l&&0<=d&&q[l]!==Y[d];)d--;for(;1<=l&&0<=d;l--,d--)if(q[l]!==Y[d]){if(l!==1||d!==1)do if(l--,d--,0>d||q[l]!==Y[d]){var ne=`
`+q[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=d);break}}}finally{Vs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?pr(s):""}function Xa(t){switch(t.tag){case 26:case 27:case 5:return pr(t.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return ks(t.type,!1);case 11:return ks(t.type.render,!1);case 1:return ks(t.type,!0);case 31:return pr("Activity");default:return""}}function js(t){try{var n="";do n+=Xa(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Za(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tf(t){var n=Za(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,E=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(M){l=""+M,E.call(this,M)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ls(t){t._valueTracker||(t._valueTracker=tf(t))}function Ja(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Za(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nf=/[\n"\\]/g;function gt(t){return t.replace(nf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,s,l,d,E,M,L){t.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.type=M:t.removeAttribute("type"),n!=null?M==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kt(n)):t.value!==""+Kt(n)&&(t.value=""+Kt(n)):M!=="submit"&&M!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,M,Kt(n)):s!=null?Kr(t,M,Kt(s)):l!=null&&t.removeAttribute("value"),d==null&&E!=null&&(t.defaultChecked=!!E),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+Kt(L):t.removeAttribute("name")}function Yi(t,n,s,l,d,E,M,L){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.type=E),n!=null||s!=null){if(!(E!=="submit"&&E!=="reset"||n!=null))return;s=s!=null?""+Kt(s):"",n=n!=null?""+Kt(n):s,L||n===t.value||(t.value=n),t.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=L?t.checked:!!l,t.defaultChecked=!!l,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(t.name=M)}function Kr(t,n,s){n==="number"&&Qi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function gr(t,n,s,l){if(t=t.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=n.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Kt(s),n=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function Ye(t,n,s){if(n!=null&&(n=""+Kt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Kt(s):""}function Ki(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(he(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Kt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Xi.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Wa(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&s[d]!==l&&Vl(t,d,l)}else for(var E in n)n.hasOwnProperty(E)&&Vl(t,E,n[E])}function eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(t){return sf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yr=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,_r=null;function to(t){var n=Un(t);if(n&&(t=n.stateNode)){var s=t[pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(an(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var d=l[pt]||null;if(!d)throw Error(a(90));an(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ja(l)}break e;case"textarea":Ye(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&gr(t,!!s.multiple,n,!1)}}}var qn=!1;function kl(t,n,s){if(qn)return t(n,s);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(vr!==null||_r!==null)&&(xu(),vr&&(n=vr,t=_r,_r=vr=null,to(n),t)))for(n=0;n<t.length;n++)to(t[n])}}function Zi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[pt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){En=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{En=!1}var $n=null,Xr=null,br=null;function no(){if(br)return br;var t,n=Xr,s=n.length,l,d="value"in $n?$n.value:$n.textContent,E=d.length;for(t=0;t<s&&n[t]===d[t];t++);var M=s-t;for(l=1;l<=M&&n[s-l]===d[E-l];l++);return br=d.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function ro(){return!1}function xt(t){function n(s,l,d,E,M){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(s=t[L],this[L]=s?s(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Hn:ro,this.isPropagationStopped=ro,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=xt($e),Wi=T({},$e,{view:0,detail:0}),jl=xt(Wi),zs,Bs,Gn,es=T({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(zs=t.screenX-Gn.screenX,Bs=t.screenY-Gn.screenY):Bs=zs=0,Gn=t),zs)},movementY:function(t){return"movementY"in t?t.movementY:Bs}}),An=xt(es),Ll=T({},es,{dataTransfer:0}),af=xt(Ll),ts=T({},Wi,{relatedTarget:0}),qs=xt(ts),io=T({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=xt(io),Pl=T({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fs=xt(Pl),of=T({},$e,{data:0}),so=xt(of),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ao(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zl[t])?!!n[t]:!1}function rs(){return ao}var Bl=T({},Wi,{key:function(t){if(t.key){var n=ns[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ul[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=xt(Bl),ql=T({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oo=xt(ql),Er=T({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),$l=xt(Er),Fl=T({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hl=xt(Fl),Gl=T({},es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gs=xt(Gl),Xt=T({},$e,{newState:0,oldState:0}),Ql=xt(Xt),Yl=[9,13,27,32],Qn=Mn&&"CompositionEvent"in window,f=null;Mn&&"documentMode"in document&&(f=document.documentMode);var C=Mn&&"TextEvent"in window&&!f,O=Mn&&(!Qn||f&&8<f&&11>=f),U=" ",G=!1;function J(t,n){switch(t){case"keyup":return Yl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Et(t,n){switch(t){case"compositionend":return ce(n);case"keypress":return n.which!==32?null:(G=!0,U);case"textInput":return t=n.data,t===U&&G?null:t;default:return null}}function Le(t,n){if(je)return t==="compositionend"||!Qn&&J(t,n)?(t=no(),br=Xr=$n=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return O&&n.locale!=="ko"?null:n.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Dt[t.type]:n==="textarea"}function Ar(t,n,s,l){vr?_r?_r.push(l):_r=[l]:vr=l,n=Vu(n,"onChange"),0<n.length&&(s=new Us("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var kt=null,Yn=null;function lo(t){yy(t,0)}function Kl(t){var n=zn(t);if(Ja(n))return t}function Pm(t,n){if(t==="change")return n}var Um=!1;if(Mn){var lf;if(Mn){var uf="oninput"in document;if(!uf){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),uf=typeof zm.oninput=="function"}lf=uf}else lf=!1;Um=lf&&(!document.documentMode||9<document.documentMode)}function Bm(){kt&&(kt.detachEvent("onpropertychange",qm),Yn=kt=null)}function qm(t){if(t.propertyName==="value"&&Kl(Yn)){var n=[];Ar(n,Yn,t,bn(t)),kl(lo,n)}}function sE(t,n,s){t==="focusin"?(Bm(),kt=n,Yn=s,kt.attachEvent("onpropertychange",qm)):t==="focusout"&&Bm()}function aE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kl(Yn)}function oE(t,n){if(t==="click")return Kl(n)}function lE(t,n){if(t==="input"||t==="change")return Kl(n)}function uE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:uE;function uo(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!ji.call(n,d)||!on(t[d],n[d]))return!1}return!0}function $m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,n){var s=$m(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=$m(s)}}function Hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Qi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Qi(t.document)}return n}function cf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var cE=Mn&&"documentMode"in document&&11>=document.documentMode,Qs=null,ff=null,co=null,hf=!1;function Qm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hf||Qs==null||Qs!==Qi(l)||(l=Qs,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),co&&uo(co,l)||(co=l,l=Vu(ff,"onSelect"),0<l.length&&(n=new Us("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Qs)))}function is(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ys={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},df={},Ym={};Mn&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function ss(t){if(df[t])return df[t];if(!Ys[t])return t;var n=Ys[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ym)return df[t]=n[s];return t}var Km=ss("animationend"),Xm=ss("animationiteration"),Zm=ss("animationstart"),fE=ss("transitionrun"),hE=ss("transitionstart"),dE=ss("transitioncancel"),Jm=ss("transitionend"),Wm=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function Vn(t,n){Wm.set(t,n),Nn(n,[t])}var ep=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var s=ep.get(t);return s!==void 0?s:(n={value:t,source:n,stack:js(n)},ep.set(t,n),n)}return{value:t,source:n,stack:js(n)}}var wn=[],Ks=0,pf=0;function Xl(){for(var t=Ks,n=pf=Ks=0;n<t;){var s=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var d=wn[n];wn[n++]=null;var E=wn[n];if(wn[n++]=null,l!==null&&d!==null){var M=l.pending;M===null?d.next=d:(d.next=M.next,M.next=d),l.pending=d}E!==0&&tp(s,d,E)}}function Zl(t,n,s,l){wn[Ks++]=t,wn[Ks++]=n,wn[Ks++]=s,wn[Ks++]=l,pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gf(t,n,s,l){return Zl(t,n,s,l),Jl(t)}function Xs(t,n){return Zl(t,null,null,n),Jl(t)}function tp(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,E=t.return;E!==null;)E.childLanes|=s,l=E.alternate,l!==null&&(l.childLanes|=s),E.tag===22&&(t=E.stateNode,t===null||t._visibility&1||(d=!0)),t=E,E=E.return;return t.tag===3?(E=t.stateNode,d&&n!==null&&(d=31-qt(s),t=E.hiddenUpdates,l=t[d],l===null?t[d]=[n]:l.push(n),n.lane=s|536870912),E):null}function Jl(t){if(50<jo)throw jo=0,Ah=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zs={};function mE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,s,l){return new mE(t,n,s,l)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tr(t,n){var s=t.alternate;return s===null?(s=ln(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function np(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Wl(t,n,s,l,d,E){var M=0;if(l=t,typeof t=="function")yf(t)&&(M=1);else if(typeof t=="string")M=gA(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=ln(31,s,n,d),t.elementType=x,t.lanes=E,t;case g:return as(s.children,d,E,n);case v:M=8,d|=24;break;case S:return t=ln(12,s,n,d|2),t.elementType=S,t.lanes=E,t;case k:return t=ln(13,s,n,d),t.elementType=k,t.lanes=E,t;case z:return t=ln(19,s,n,d),t.elementType=z,t.lanes=E,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case D:M=10;break e;case R:M=9;break e;case V:M=11;break e;case N:M=14;break e;case w:M=16,l=null;break e}M=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=ln(M,s,n,d),n.elementType=t,n.type=l,n.lanes=E,n}function as(t,n,s,l){return t=ln(7,t,l,n),t.lanes=s,t}function vf(t,n,s){return t=ln(6,t,null,n),t.lanes=s,t}function _f(t,n,s){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Js=[],Ws=0,eu=null,tu=0,Sn=[],Rn=0,os=null,wr=1,Sr="";function ls(t,n){Js[Ws++]=tu,Js[Ws++]=eu,eu=t,tu=n}function rp(t,n,s){Sn[Rn++]=wr,Sn[Rn++]=Sr,Sn[Rn++]=os,os=t;var l=wr;t=Sr;var d=32-qt(l)-1;l&=~(1<<d),s+=1;var E=32-qt(n)+d;if(30<E){var M=d-d%5;E=(l&(1<<M)-1).toString(32),l>>=M,d-=M,wr=1<<32-qt(n)+d|s<<d|l,Sr=E+t}else wr=1<<E|s<<d|l,Sr=t}function bf(t){t.return!==null&&(ls(t,1),rp(t,1,0))}function Ef(t){for(;t===eu;)eu=Js[--Ws],Js[Ws]=null,tu=Js[--Ws],Js[Ws]=null;for(;t===os;)os=Sn[--Rn],Sn[Rn]=null,Sr=Sn[--Rn],Sn[Rn]=null,wr=Sn[--Rn],Sn[Rn]=null}var Zt=null,ut=null,qe=!1,us=null,Kn=!1,Af=Error(a(519));function cs(t){var n=Error(a(418,""));throw mo(Tn(n,t)),Af}function ip(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[bt]=t,n[pt]=l,s){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(s=0;s<Po.length;s++)Ve(Po[s],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),Yi(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ls(n);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Ki(n,l.value,l.defaultValue,l.children),Ls(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Ey(n.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=ku),n=!0):n=!1,n||cs(t)}function sp(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Zt=Zt.return}}function fo(t){if(t!==Zt)return!1;if(!qe)return sp(t),qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ph(t.type,t.memoizedProps)),s=!s),s&&ut&&cs(t),sp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ut=jn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ut=null}}else n===27?(n=ut,hi(t.type)?(t=qh,qh=null,ut=t):ut=n):ut=Zt?jn(t.stateNode.nextSibling):null;return!0}function ho(){ut=Zt=null,qe=!1}function ap(){var t=us;return t!==null&&(en===null?en=t:en.push.apply(en,t),us=null),t}function mo(t){us===null?us=[t]:us.push(t)}var Tf=ee(null),fs=null,Rr=null;function Zr(t,n,s){oe(Tf,n._currentValue),n._currentValue=s}function Cr(t){t._currentValue=Tf.current,ue(Tf)}function wf(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Sf(t,n,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var E=d.dependencies;if(E!==null){var M=d.child;E=E.firstContext;e:for(;E!==null;){var L=E;E=d;for(var q=0;q<n.length;q++)if(L.context===n[q]){E.lanes|=s,L=E.alternate,L!==null&&(L.lanes|=s),wf(E.return,s,t),l||(M=null);break e}E=L.next}}else if(d.tag===18){if(M=d.return,M===null)throw Error(a(341));M.lanes|=s,E=M.alternate,E!==null&&(E.lanes|=s),wf(M,s,t),M=null}else M=d.child;if(M!==null)M.return=d;else for(M=d;M!==null;){if(M===t){M=null;break}if(d=M.sibling,d!==null){d.return=M.return,M=d;break}M=M.return}d=M}}function po(t,n,s,l){t=null;for(var d=n,E=!1;d!==null;){if(!E){if((d.flags&524288)!==0)E=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var M=d.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var L=d.type;on(d.pendingProps.value,M.value)||(t!==null?t.push(L):t=[L])}}else if(d===tt.current){if(M=d.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Fo):t=[Fo])}d=d.return}t!==null&&Sf(n,t,s,l),n.flags|=262144}function nu(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hs(t){fs=t,Rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return op(fs,t)}function ru(t,n){return fs===null&&hs(t),op(t,n)}function op(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Rr===null){if(t===null)throw Error(a(308));Rr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Rr=Rr.next=n;return s}var pE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},gE=i.unstable_scheduleCallback,yE=i.unstable_NormalPriority,Tt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new pE,data:new Map,refCount:0}}function go(t){t.refCount--,t.refCount===0&&gE(yE,function(){t.controller.abort()})}var yo=null,Cf=0,ea=0,ta=null;function vE(t,n){if(yo===null){var s=yo=[];Cf=0,ea=Dh(),ta={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Cf++,n.then(lp,lp),n}function lp(){if(--Cf===0&&yo!==null){ta!==null&&(ta.status="fulfilled");var t=yo;yo=null,ea=0,ta=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _E(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<s.length;d++)(0,s[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var up=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&vE(t,n),up!==null&&up(t,n)};var ds=ee(null);function xf(){var t=ds.current;return t!==null?t:et.pooledCache}function iu(t,n){n===null?oe(ds,ds.current):oe(ds,n.pool)}function cp(){var t=xf();return t===null?null:{parent:Tt._currentValue,pool:t}}var vo=Error(a(460)),fp=Error(a(474)),su=Error(a(542)),Df={then:function(){}};function hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function au(){}function dp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(au,au),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t;default:if(typeof n.status=="string")n.then(au,au);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t}throw _o=n,vo}}var _o=null;function mp(){if(_o===null)throw Error(a(459));var t=_o;return _o=null,t}function pp(t){if(t===vo||t===su)throw Error(a(483))}var Jr=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ei(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=Jl(t),tp(t,null,s),n}return Zl(t,l,n,s),Jl(t)}function bo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Qa(t,s)}}function Nf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,E=null;if(s=s.firstBaseUpdate,s!==null){do{var M={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};E===null?d=E=M:E=E.next=M,s=s.next}while(s!==null);E===null?d=E=n:E=E.next=n}else d=E=n;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:E,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Mf=!1;function Eo(){if(Mf){var t=ta;if(t!==null)throw t}}function Ao(t,n,s,l){Mf=!1;var d=t.updateQueue;Jr=!1;var E=d.firstBaseUpdate,M=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var q=L,Y=q.next;q.next=null,M===null?E=Y:M.next=Y,M=q;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,L=ne.lastBaseUpdate,L!==M&&(L===null?ne.firstBaseUpdate=Y:L.next=Y,ne.lastBaseUpdate=q))}if(E!==null){var ie=d.baseState;M=0,ne=Y=q=null,L=E;do{var X=L.lane&-536870913,Z=X!==L.lane;if(Z?(Pe&X)===X:(l&X)===X){X!==0&&X===ea&&(Mf=!0),ne!==null&&(ne=ne.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var we=t,be=L;X=n;var Ze=s;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){ie=we.call(Ze,ie,X);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,X=typeof we=="function"?we.call(Ze,ie,X):we,X==null)break e;ie=T({},ie,X);break e;case 2:Jr=!0}}X=L.callback,X!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ne===null?(Y=ne=Z,q=ie):ne=ne.next=Z,M|=X;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;Z=L,L=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);ne===null&&(q=ie),d.baseState=q,d.firstBaseUpdate=Y,d.lastBaseUpdate=ne,E===null&&(d.shared.lanes=0),li|=M,t.lanes=M,t.memoizedState=ie}}function gp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function yp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)gp(s[t],n)}var na=ee(null),ou=ee(0);function vp(t,n){t=Vr,oe(ou,t),oe(na,n),Vr=t|n.baseLanes}function Vf(){oe(ou,Vr),oe(na,na.current)}function kf(){Vr=ou.current,ue(na),ue(ou)}var ti=0,Ie=null,Ke=null,yt=null,lu=!1,ra=!1,ms=!1,uu=0,To=0,ia=null,bE=0;function ht(){throw Error(a(321))}function jf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!on(t[s],n[s]))return!1;return!0}function Lf(t,n,s,l,d,E){return ti=E,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?tg:ng,ms=!1,E=s(l,d),ms=!1,ra&&(E=bp(n,s,l,d)),_p(t),E}function _p(t){K.H=pu;var n=Ke!==null&&Ke.next!==null;if(ti=0,yt=Ke=Ie=null,lu=!1,To=0,ia=null,n)throw Error(a(300));t===null||It||(t=t.dependencies,t!==null&&nu(t)&&(It=!0))}function bp(t,n,s,l){Ie=t;var d=0;do{if(ra&&(ia=null),To=0,ra=!1,25<=d)throw Error(a(301));if(d+=1,yt=Ke=null,t.updateQueue!=null){var E=t.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}K.H=CE,E=n(s,l)}while(ra);return E}function EE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?wo(n):n,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ie.flags|=1024),n}function Pf(){var t=uu!==0;return uu=0,t}function Uf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function zf(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}ti=0,yt=Ke=Ie=null,ra=!1,To=uu=0,ia=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Ke===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var n=yt===null?Ie.memoizedState:yt.next;if(n!==null)yt=n,Ke=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function Bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(t){var n=To;return To+=1,ia===null&&(ia=[]),t=dp(ia,t,n),n=Ie,(yt===null?n.memoizedState:yt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?tg:ng),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wo(t);if(t.$$typeof===D)return $t(t)}throw Error(a(438,String(t)))}function qf(t){var n=null,s=Ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bf(),Ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function xr(t,n){return typeof n=="function"?n(t):n}function fu(t){var n=vt();return $f(n,Ke,t)}function $f(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var d=t.baseQueue,E=l.pending;if(E!==null){if(d!==null){var M=d.next;d.next=E.next,E.next=M}n.baseQueue=d=E,l.pending=null}if(E=t.baseState,d===null)t.memoizedState=E;else{n=d.next;var L=M=null,q=null,Y=n,ne=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(Pe&ie)===ie:(ti&ie)===ie){var X=Y.revertLane;if(X===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===ea&&(ne=!0);else if((ti&X)===X){Y=Y.next,X===ea&&(ne=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},q===null?(L=q=ie,M=E):q=q.next=ie,Ie.lanes|=X,li|=X;ie=Y.action,ms&&s(E,ie),E=Y.hasEagerState?Y.eagerState:s(E,ie)}else X={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},q===null?(L=q=X,M=E):q=q.next=X,Ie.lanes|=ie,li|=ie;Y=Y.next}while(Y!==null&&Y!==n);if(q===null?M=E:q.next=L,!on(E,t.memoizedState)&&(It=!0,ne&&(s=ta,s!==null)))throw s;t.memoizedState=E,t.baseState=M,t.baseQueue=q,l.lastRenderedState=E}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ff(t){var n=vt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,E=n.memoizedState;if(d!==null){s.pending=null;var M=d=d.next;do E=t(E,M.action),M=M.next;while(M!==d);on(E,n.memoizedState)||(It=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),s.lastRenderedState=E}return[E,l]}function Ep(t,n,s){var l=Ie,d=vt(),E=qe;if(E){if(s===void 0)throw Error(a(407));s=s()}else s=n();var M=!on((Ke||d).memoizedState,s);M&&(d.memoizedState=s,It=!0),d=d.queue;var L=wp.bind(null,l,d,t);if(So(2048,8,L,[t]),d.getSnapshot!==n||M||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,sa(9,hu(),Tp.bind(null,l,d,s,n),null),et===null)throw Error(a(349));E||(ti&124)!==0||Ap(l,n,s)}return s}function Ap(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n=Bf(),Ie.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Tp(t,n,s,l){n.value=s,n.getSnapshot=l,Sp(n)&&Rp(t)}function wp(t,n,s){return s(function(){Sp(n)&&Rp(t)})}function Sp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!on(t,s)}catch{return!0}}function Rp(t){var n=Xs(t,2);n!==null&&dn(n,t,2)}function Hf(t){var n=Jt();if(typeof t=="function"){var s=t;if(t=s(),ms){sn(!0);try{s()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:t},n}function Cp(t,n,s,l){return t.baseState=s,$f(t,Ke,typeof l=="function"?l:xr)}function AE(t,n,s,l,d){if(mu(t))throw Error(a(485));if(t=n.action,t!==null){var E={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){E.listeners.push(M)}};K.T!==null?s(!0):E.isTransition=!1,l(E),s=n.pending,s===null?(E.next=n.pending=E,xp(n,E)):(E.next=s.next,n.pending=s.next=E)}}function xp(t,n){var s=n.action,l=n.payload,d=t.state;if(n.isTransition){var E=K.T,M={};K.T=M;try{var L=s(d,l),q=K.S;q!==null&&q(M,L),Dp(t,n,L)}catch(Y){Gf(t,n,Y)}finally{K.T=E}}else try{E=s(d,l),Dp(t,n,E)}catch(Y){Gf(t,n,Y)}}function Dp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ip(t,n,l)},function(l){return Gf(t,n,l)}):Ip(t,n,s)}function Ip(t,n,s){n.status="fulfilled",n.value=s,Op(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,xp(t,s)))}function Gf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Op(n),n=n.next;while(n!==l)}t.action=null}function Op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Np(t,n){return n}function Mp(t,n){if(qe){var s=et.formState;if(s!==null){e:{var l=Ie;if(qe){if(ut){t:{for(var d=ut,E=Kn;d.nodeType!==8;){if(!E){d=null;break t}if(d=jn(d.nextSibling),d===null){d=null;break t}}E=d.data,d=E==="F!"||E==="F"?d:null}if(d){ut=jn(d.nextSibling),l=d.data==="F!";break e}}cs(l)}l=!1}l&&(n=s[0])}}return s=Jt(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},s.queue=l,s=Jp.bind(null,Ie,l),l.dispatch=s,l=Hf(!1),E=Zf.bind(null,Ie,!1,l.queue),l=Jt(),d={state:n,dispatch:null,action:t,pending:null},l.queue=d,s=AE.bind(null,Ie,d,E,s),d.dispatch=s,l.memoizedState=t,[n,s,!1]}function Vp(t){var n=vt();return kp(n,Ke,t)}function kp(t,n,s){if(n=$f(t,n,Np)[0],t=fu(xr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=wo(n)}catch(M){throw M===vo?su:M}else l=n;n=vt();var d=n.queue,E=d.dispatch;return s!==n.memoizedState&&(Ie.flags|=2048,sa(9,hu(),TE.bind(null,d,s),null)),[l,E,t]}function TE(t,n){t.action=n}function jp(t){var n=vt(),s=Ke;if(s!==null)return kp(n,s,t);vt(),n=n.memoizedState,s=vt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function sa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Bf(),Ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function hu(){return{destroy:void 0,resource:void 0}}function Lp(){return vt().memoizedState}function du(t,n,s,l){var d=Jt();l=l===void 0?null:l,Ie.flags|=t,d.memoizedState=sa(1|n,hu(),s,l)}function So(t,n,s,l){var d=vt();l=l===void 0?null:l;var E=d.memoizedState.inst;Ke!==null&&l!==null&&jf(l,Ke.memoizedState.deps)?d.memoizedState=sa(n,E,s,l):(Ie.flags|=t,d.memoizedState=sa(1|n,E,s,l))}function Pp(t,n){du(8390656,8,t,n)}function Up(t,n){So(2048,8,t,n)}function zp(t,n){return So(4,2,t,n)}function Bp(t,n){return So(4,4,t,n)}function qp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $p(t,n,s){s=s!=null?s.concat([t]):null,So(4,4,qp.bind(null,n,t),s)}function Qf(){}function Fp(t,n){var s=vt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&jf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Hp(t,n){var s=vt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&jf(n,l[1]))return l[0];if(l=t(),ms){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[l,n],l}function Yf(t,n,s){return s===void 0||(ti&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Yg(),Ie.lanes|=t,li|=t,s)}function Gp(t,n,s,l){return on(s,n)?s:na.current!==null?(t=Yf(t,s,l),on(t,n)||(It=!0),t):(ti&42)===0?(It=!0,t.memoizedState=s):(t=Yg(),Ie.lanes|=t,li|=t,n)}function Qp(t,n,s,l,d){var E=ae.p;ae.p=E!==0&&8>E?E:8;var M=K.T,L={};K.T=L,Zf(t,!1,n,s);try{var q=d(),Y=K.S;if(Y!==null&&Y(L,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ne=_E(q,l);Ro(t,n,ne,hn(t))}else Ro(t,n,l,hn(t))}catch(ie){Ro(t,n,{then:function(){},status:"rejected",reason:ie},hn())}finally{ae.p=E,K.T=M}}function wE(){}function Kf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var d=Yp(t).queue;Qp(t,d,n,de,s===null?wE:function(){return Kp(t),s(l)})}function Yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kp(t){var n=Yp(t).next.queue;Ro(t,n,{},hn())}function Xf(){return $t(Fo)}function Xp(){return vt().memoizedState}function Zp(){return vt().memoizedState}function SE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=hn();t=Wr(s);var l=ei(n,t,s);l!==null&&(dn(l,n,s),bo(l,n,s)),n={cache:Rf()},t.payload=n;return}n=n.return}}function RE(t,n,s){var l=hn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},mu(t)?Wp(n,s):(s=gf(t,n,s,l),s!==null&&(dn(s,t,l),eg(s,n,l)))}function Jp(t,n,s){var l=hn();Ro(t,n,s,l)}function Ro(t,n,s,l){var d={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(mu(t))Wp(n,d);else{var E=t.alternate;if(t.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var M=n.lastRenderedState,L=E(M,s);if(d.hasEagerState=!0,d.eagerState=L,on(L,M))return Zl(t,n,d,0),et===null&&Xl(),!1}catch{}finally{}if(s=gf(t,n,d,l),s!==null)return dn(s,t,l),eg(s,n,l),!0}return!1}function Zf(t,n,s,l){if(l={lane:2,revertLane:Dh(),action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(n)throw Error(a(479))}else n=gf(t,s,l,2),n!==null&&dn(n,t,2)}function mu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Wp(t,n){ra=lu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function eg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Qa(t,s)}}var pu={readContext:$t,use:cu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},tg={readContext:$t,use:cu,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Pp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,du(4194308,4,qp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return du(4194308,4,t,n)},useInsertionEffect:function(t,n){du(4,2,t,n)},useMemo:function(t,n){var s=Jt();n=n===void 0?null:n;var l=t();if(ms){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Jt();if(s!==void 0){var d=s(n);if(ms){sn(!0);try{s(n)}finally{sn(!1)}}}else d=n;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=RE.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=Hf(t);var n=t.queue,s=Jp.bind(null,Ie,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Qf,useDeferredValue:function(t,n){var s=Jt();return Yf(s,t,n)},useTransition:function(){var t=Hf(!1);return t=Qp.bind(null,Ie,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ie,d=Jt();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),et===null)throw Error(a(349));(Pe&124)!==0||Ap(l,n,s)}d.memoizedState=s;var E={value:s,getSnapshot:n};return d.queue=E,Pp(wp.bind(null,l,E,t),[t]),l.flags|=2048,sa(9,hu(),Tp.bind(null,l,E,s,n),null),s},useId:function(){var t=Jt(),n=et.identifierPrefix;if(qe){var s=Sr,l=wr;s=(l&~(1<<32-qt(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=uu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=bE++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Xf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t){var n=Jt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Zf.bind(null,Ie,!0,s),s.dispatch=n,[t,n]},useMemoCache:qf,useCacheRefresh:function(){return Jt().memoizedState=SE.bind(null,Ie)}},ng={readContext:$t,use:cu,useCallback:Fp,useContext:$t,useEffect:Up,useImperativeHandle:$p,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Hp,useReducer:fu,useRef:Lp,useState:function(){return fu(xr)},useDebugValue:Qf,useDeferredValue:function(t,n){var s=vt();return Gp(s,Ke.memoizedState,t,n)},useTransition:function(){var t=fu(xr)[0],n=vt().memoizedState;return[typeof t=="boolean"?t:wo(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Xf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,n){var s=vt();return Cp(s,Ke,t,n)},useMemoCache:qf,useCacheRefresh:Zp},CE={readContext:$t,use:cu,useCallback:Fp,useContext:$t,useEffect:Up,useImperativeHandle:$p,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Hp,useReducer:Ff,useRef:Lp,useState:function(){return Ff(xr)},useDebugValue:Qf,useDeferredValue:function(t,n){var s=vt();return Ke===null?Yf(s,t,n):Gp(s,Ke.memoizedState,t,n)},useTransition:function(){var t=Ff(xr)[0],n=vt().memoizedState;return[typeof t=="boolean"?t:wo(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Xf,useFormState:jp,useActionState:jp,useOptimistic:function(t,n){var s=vt();return Ke!==null?Cp(s,Ke,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:qf,useCacheRefresh:Zp},aa=null,Co=0;function gu(t){var n=Co;return Co+=1,aa===null&&(aa=[]),dp(aa,t,n)}function xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function yu(t,n){throw n.$$typeof===m?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){var n=t._init;return n(t._payload)}function ig(t){function n(H,F){if(t){var Q=H.deletions;Q===null?(H.deletions=[F],H.flags|=16):Q.push(F)}}function s(H,F){if(!t)return null;for(;F!==null;)n(H,F),F=F.sibling;return null}function l(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function d(H,F){return H=Tr(H,F),H.index=0,H.sibling=null,H}function E(H,F,Q){return H.index=Q,t?(Q=H.alternate,Q!==null?(Q=Q.index,Q<F?(H.flags|=67108866,F):Q):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function M(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function L(H,F,Q,re){return F===null||F.tag!==6?(F=vf(Q,H.mode,re),F.return=H,F):(F=d(F,Q),F.return=H,F)}function q(H,F,Q,re){var pe=Q.type;return pe===g?ne(H,F,Q.props.children,re,Q.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&rg(pe)===F.type)?(F=d(F,Q.props),xo(F,Q),F.return=H,F):(F=Wl(Q.type,Q.key,Q.props,null,H.mode,re),xo(F,Q),F.return=H,F)}function Y(H,F,Q,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=_f(Q,H.mode,re),F.return=H,F):(F=d(F,Q.children||[]),F.return=H,F)}function ne(H,F,Q,re,pe){return F===null||F.tag!==7?(F=as(Q,H.mode,re,pe),F.return=H,F):(F=d(F,Q),F.return=H,F)}function ie(H,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=vf(""+F,H.mode,Q),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case p:return Q=Wl(F.type,F.key,F.props,null,H.mode,Q),xo(Q,F),Q.return=H,Q;case b:return F=_f(F,H.mode,Q),F.return=H,F;case w:var re=F._init;return F=re(F._payload),ie(H,F,Q)}if(he(F)||B(F))return F=as(F,H.mode,Q,null),F.return=H,F;if(typeof F.then=="function")return ie(H,gu(F),Q);if(F.$$typeof===D)return ie(H,ru(H,F),Q);yu(H,F)}return null}function X(H,F,Q,re){var pe=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pe!==null?null:L(H,F,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case p:return Q.key===pe?q(H,F,Q,re):null;case b:return Q.key===pe?Y(H,F,Q,re):null;case w:return pe=Q._init,Q=pe(Q._payload),X(H,F,Q,re)}if(he(Q)||B(Q))return pe!==null?null:ne(H,F,Q,re,null);if(typeof Q.then=="function")return X(H,F,gu(Q),re);if(Q.$$typeof===D)return X(H,F,ru(H,Q),re);yu(H,Q)}return null}function Z(H,F,Q,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get(Q)||null,L(F,H,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case p:return H=H.get(re.key===null?Q:re.key)||null,q(F,H,re,pe);case b:return H=H.get(re.key===null?Q:re.key)||null,Y(F,H,re,pe);case w:var Ne=re._init;return re=Ne(re._payload),Z(H,F,Q,re,pe)}if(he(re)||B(re))return H=H.get(Q)||null,ne(F,H,re,pe,null);if(typeof re.then=="function")return Z(H,F,Q,gu(re),pe);if(re.$$typeof===D)return Z(H,F,Q,ru(F,re),pe);yu(F,re)}return null}function we(H,F,Q,re){for(var pe=null,Ne=null,ye=F,Ae=F=0,Nt=null;ye!==null&&Ae<Q.length;Ae++){ye.index>Ae?(Nt=ye,ye=null):Nt=ye.sibling;var Be=X(H,ye,Q[Ae],re);if(Be===null){ye===null&&(ye=Nt);break}t&&ye&&Be.alternate===null&&n(H,ye),F=E(Be,F,Ae),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be,ye=Nt}if(Ae===Q.length)return s(H,ye),qe&&ls(H,Ae),pe;if(ye===null){for(;Ae<Q.length;Ae++)ye=ie(H,Q[Ae],re),ye!==null&&(F=E(ye,F,Ae),Ne===null?pe=ye:Ne.sibling=ye,Ne=ye);return qe&&ls(H,Ae),pe}for(ye=l(ye);Ae<Q.length;Ae++)Nt=Z(ye,H,Ae,Q[Ae],re),Nt!==null&&(t&&Nt.alternate!==null&&ye.delete(Nt.key===null?Ae:Nt.key),F=E(Nt,F,Ae),Ne===null?pe=Nt:Ne.sibling=Nt,Ne=Nt);return t&&ye.forEach(function(yi){return n(H,yi)}),qe&&ls(H,Ae),pe}function be(H,F,Q,re){if(Q==null)throw Error(a(151));for(var pe=null,Ne=null,ye=F,Ae=F=0,Nt=null,Be=Q.next();ye!==null&&!Be.done;Ae++,Be=Q.next()){ye.index>Ae?(Nt=ye,ye=null):Nt=ye.sibling;var yi=X(H,ye,Be.value,re);if(yi===null){ye===null&&(ye=Nt);break}t&&ye&&yi.alternate===null&&n(H,ye),F=E(yi,F,Ae),Ne===null?pe=yi:Ne.sibling=yi,Ne=yi,ye=Nt}if(Be.done)return s(H,ye),qe&&ls(H,Ae),pe;if(ye===null){for(;!Be.done;Ae++,Be=Q.next())Be=ie(H,Be.value,re),Be!==null&&(F=E(Be,F,Ae),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return qe&&ls(H,Ae),pe}for(ye=l(ye);!Be.done;Ae++,Be=Q.next())Be=Z(ye,H,Ae,Be.value,re),Be!==null&&(t&&Be.alternate!==null&&ye.delete(Be.key===null?Ae:Be.key),F=E(Be,F,Ae),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return t&&ye.forEach(function(xA){return n(H,xA)}),qe&&ls(H,Ae),pe}function Ze(H,F,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===g&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case p:e:{for(var pe=Q.key;F!==null;){if(F.key===pe){if(pe=Q.type,pe===g){if(F.tag===7){s(H,F.sibling),re=d(F,Q.props.children),re.return=H,H=re;break e}}else if(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&rg(pe)===F.type){s(H,F.sibling),re=d(F,Q.props),xo(re,Q),re.return=H,H=re;break e}s(H,F);break}else n(H,F);F=F.sibling}Q.type===g?(re=as(Q.props.children,H.mode,re,Q.key),re.return=H,H=re):(re=Wl(Q.type,Q.key,Q.props,null,H.mode,re),xo(re,Q),re.return=H,H=re)}return M(H);case b:e:{for(pe=Q.key;F!==null;){if(F.key===pe)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){s(H,F.sibling),re=d(F,Q.children||[]),re.return=H,H=re;break e}else{s(H,F);break}else n(H,F);F=F.sibling}re=_f(Q,H.mode,re),re.return=H,H=re}return M(H);case w:return pe=Q._init,Q=pe(Q._payload),Ze(H,F,Q,re)}if(he(Q))return we(H,F,Q,re);if(B(Q)){if(pe=B(Q),typeof pe!="function")throw Error(a(150));return Q=pe.call(Q),be(H,F,Q,re)}if(typeof Q.then=="function")return Ze(H,F,gu(Q),re);if(Q.$$typeof===D)return Ze(H,F,ru(H,Q),re);yu(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(s(H,F.sibling),re=d(F,Q),re.return=H,H=re):(s(H,F),re=vf(Q,H.mode,re),re.return=H,H=re),M(H)):s(H,F)}return function(H,F,Q,re){try{Co=0;var pe=Ze(H,F,Q,re);return aa=null,pe}catch(ye){if(ye===vo||ye===su)throw ye;var Ne=ln(29,ye,null,H.mode);return Ne.lanes=re,Ne.return=H,Ne}finally{}}}var oa=ig(!0),sg=ig(!1),Cn=ee(null),Xn=null;function ni(t){var n=t.alternate;oe(wt,wt.current&1),oe(Cn,t),Xn===null&&(n===null||na.current!==null||n.memoizedState!==null)&&(Xn=t)}function ag(t){if(t.tag===22){if(oe(wt,wt.current),oe(Cn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else ri()}function ri(){oe(wt,wt.current),oe(Cn,Cn.current)}function Dr(t){ue(Cn),Xn===t&&(Xn=null),ue(wt)}var wt=ee(0);function vu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Bh(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Jf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Wf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=hn(),d=Wr(l);d.payload=n,s!=null&&(d.callback=s),n=ei(t,d,l),n!==null&&(dn(n,t,l),bo(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=hn(),d=Wr(l);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=ei(t,d,l),n!==null&&(dn(n,t,l),bo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=hn(),l=Wr(s);l.tag=2,n!=null&&(l.callback=n),n=ei(t,l,s),n!==null&&(dn(n,t,s),bo(n,t,s))}};function og(t,n,s,l,d,E,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,E,M):n.prototype&&n.prototype.isPureReactComponent?!uo(s,l)||!uo(d,E):!0}function lg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Wf.enqueueReplaceState(n,n.state,null)}function ps(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var _u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ug(t){_u(t)}function cg(t){console.error(t)}function fg(t){_u(t)}function bu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function eh(t,n,s){return s=Wr(s),s.tag=3,s.payload={element:null},s.callback=function(){bu(t,n)},s}function dg(t){return t=Wr(t),t.tag=3,t}function mg(t,n,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var E=l.value;t.payload=function(){return d(E)},t.callback=function(){hg(n,s,l)}}var M=s.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(t.callback=function(){hg(n,s,l),typeof d!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function xE(t,n,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&po(n,s,d,!0),s=Cn.current,s!==null){switch(s.tag){case 13:return Xn===null?wh():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===Df?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Rh(t,l,d)),!1;case 22:return s.flags|=65536,l===Df?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Rh(t,l,d)),!1}throw Error(a(435,s.tag))}return Rh(t,l,d),wh(),!1}if(qe)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Af&&(t=Error(a(422),{cause:l}),mo(Tn(t,s)))):(l!==Af&&(n=Error(a(423),{cause:l}),mo(Tn(n,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Tn(l,s),d=eh(t.stateNode,l,d),Nf(t,d),ct!==4&&(ct=2)),!1;var E=Error(a(520),{cause:l});if(E=Tn(E,s),ko===null?ko=[E]:ko.push(E),ct!==4&&(ct=2),n===null)return!0;l=Tn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=eh(s.stateNode,l,t),Nf(s,t),!1;case 1:if(n=s.type,E=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ui===null||!ui.has(E))))return s.flags|=65536,d&=-d,s.lanes|=d,d=dg(d),mg(d,t,s,l),Nf(s,d),!1}s=s.return}while(s!==null);return!1}var pg=Error(a(461)),It=!1;function jt(t,n,s,l){n.child=t===null?sg(n,null,s,l):oa(n,t.child,s,l)}function gg(t,n,s,l,d){s=s.render;var E=n.ref;if("ref"in l){var M={};for(var L in l)L!=="ref"&&(M[L]=l[L])}else M=l;return hs(n),l=Lf(t,n,s,M,E,d),L=Pf(),t!==null&&!It?(Uf(t,n,d),Ir(t,n,d)):(qe&&L&&bf(n),n.flags|=1,jt(t,n,l,d),n.child)}function yg(t,n,s,l,d){if(t===null){var E=s.type;return typeof E=="function"&&!yf(E)&&E.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=E,vg(t,n,E,l,d)):(t=Wl(s.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(E=t.child,!lh(t,d)){var M=E.memoizedProps;if(s=s.compare,s=s!==null?s:uo,s(M,l)&&t.ref===n.ref)return Ir(t,n,d)}return n.flags|=1,t=Tr(E,l),t.ref=n.ref,t.return=n,n.child=t}function vg(t,n,s,l,d){if(t!==null){var E=t.memoizedProps;if(uo(E,l)&&t.ref===n.ref)if(It=!1,n.pendingProps=l=E,lh(t,d))(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,Ir(t,n,d)}return th(t,n,s,l,d)}function _g(t,n,s){var l=n.pendingProps,d=l.children,E=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=E!==null?E.baseLanes|s:s,t!==null){for(d=n.child=t.child,E=0;d!==null;)E=E|d.lanes|d.childLanes,d=d.sibling;n.childLanes=E&~l}else n.childLanes=0,n.child=null;return bg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(n,E!==null?E.cachePool:null),E!==null?vp(n,E):Vf(),ag(n);else return n.lanes=n.childLanes=536870912,bg(t,n,E!==null?E.baseLanes|s:s,s)}else E!==null?(iu(n,E.cachePool),vp(n,E),ri(),n.memoizedState=null):(t!==null&&iu(n,null),Vf(),ri());return jt(t,n,d,s),n.child}function bg(t,n,s,l){var d=xf();return d=d===null?null:{parent:Tt._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&iu(n,null),Vf(),ag(n),t!==null&&po(t,n,l,!0),null}function Eu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function th(t,n,s,l,d){return hs(n),s=Lf(t,n,s,l,void 0,d),l=Pf(),t!==null&&!It?(Uf(t,n,d),Ir(t,n,d)):(qe&&l&&bf(n),n.flags|=1,jt(t,n,s,d),n.child)}function Eg(t,n,s,l,d,E){return hs(n),n.updateQueue=null,s=bp(n,l,s,d),_p(t),l=Pf(),t!==null&&!It?(Uf(t,n,E),Ir(t,n,E)):(qe&&l&&bf(n),n.flags|=1,jt(t,n,s,E),n.child)}function Ag(t,n,s,l,d){if(hs(n),n.stateNode===null){var E=Zs,M=s.contextType;typeof M=="object"&&M!==null&&(E=$t(M)),E=new s(l,E),n.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Wf,n.stateNode=E,E._reactInternals=n,E=n.stateNode,E.props=l,E.state=n.memoizedState,E.refs={},If(n),M=s.contextType,E.context=typeof M=="object"&&M!==null?$t(M):Zs,E.state=n.memoizedState,M=s.getDerivedStateFromProps,typeof M=="function"&&(Jf(n,s,M,l),E.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(M=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),M!==E.state&&Wf.enqueueReplaceState(E,E.state,null),Ao(n,l,E,d),Eo(),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){E=n.stateNode;var L=n.memoizedProps,q=ps(s,L);E.props=q;var Y=E.context,ne=s.contextType;M=Zs,typeof ne=="object"&&ne!==null&&(M=$t(ne));var ie=s.getDerivedStateFromProps;ne=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L||Y!==M)&&lg(n,E,l,M),Jr=!1;var X=n.memoizedState;E.state=X,Ao(n,l,E,d),Eo(),Y=n.memoizedState,L||X!==Y||Jr?(typeof ie=="function"&&(Jf(n,s,ie,l),Y=n.memoizedState),(q=Jr||og(n,s,q,l,X,Y,M))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=Y),E.props=l,E.state=Y,E.context=M,l=q):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{E=n.stateNode,Of(t,n),M=n.memoizedProps,ne=ps(s,M),E.props=ne,ie=n.pendingProps,X=E.context,Y=s.contextType,q=Zs,typeof Y=="object"&&Y!==null&&(q=$t(Y)),L=s.getDerivedStateFromProps,(Y=typeof L=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==ie||X!==q)&&lg(n,E,l,q),Jr=!1,X=n.memoizedState,E.state=X,Ao(n,l,E,d),Eo();var Z=n.memoizedState;M!==ie||X!==Z||Jr||t!==null&&t.dependencies!==null&&nu(t.dependencies)?(typeof L=="function"&&(Jf(n,s,L,l),Z=n.memoizedState),(ne=Jr||og(n,s,ne,l,X,Z,q)||t!==null&&t.dependencies!==null&&nu(t.dependencies))?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(l,Z,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(l,Z,q)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||M===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Z),E.props=l,E.state=Z,E.context=q,l=ne):(typeof E.componentDidUpdate!="function"||M===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),l=!1)}return E=l,Eu(t,n),l=(n.flags&128)!==0,E||l?(E=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:E.render(),n.flags|=1,t!==null&&l?(n.child=oa(n,t.child,null,d),n.child=oa(n,null,s,d)):jt(t,n,s,d),n.memoizedState=E.state,t=n.child):t=Ir(t,n,d),t}function Tg(t,n,s,l){return ho(),n.flags|=256,jt(t,n,s,l),n.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(t){return{baseLanes:t,cachePool:cp()}}function ih(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=xn),t}function wg(t,n,s){var l=n.pendingProps,d=!1,E=(n.flags&128)!==0,M;if((M=E)||(M=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),M&&(d=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(d?ni(n):ri(),qe){var L=ut,q;if(q=L){e:{for(q=L,L=Kn;q.nodeType!==8;){if(!L){L=null;break e}if(q=jn(q.nextSibling),q===null){L=null;break e}}L=q}L!==null?(n.memoizedState={dehydrated:L,treeContext:os!==null?{id:wr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},q=ln(18,null,null,0),q.stateNode=L,q.return=n,n.child=q,Zt=n,ut=null,q=!0):q=!1}q||cs(n)}if(L=n.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Bh(L)?n.lanes=32:n.lanes=536870912,null;Dr(n)}return L=l.children,l=l.fallback,d?(ri(),d=n.mode,L=Au({mode:"hidden",children:L},d),l=as(l,d,s,null),L.return=n,l.return=n,L.sibling=l,n.child=L,d=n.child,d.memoizedState=rh(s),d.childLanes=ih(t,M,s),n.memoizedState=nh,l):(ni(n),sh(n,L))}if(q=t.memoizedState,q!==null&&(L=q.dehydrated,L!==null)){if(E)n.flags&256?(ni(n),n.flags&=-257,n=ah(t,n,s)):n.memoizedState!==null?(ri(),n.child=t.child,n.flags|=128,n=null):(ri(),d=l.fallback,L=n.mode,l=Au({mode:"visible",children:l.children},L),d=as(d,L,s,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,oa(n,t.child,null,s),l=n.child,l.memoizedState=rh(s),l.childLanes=ih(t,M,s),n.memoizedState=nh,n=d);else if(ni(n),Bh(L)){if(M=L.nextSibling&&L.nextSibling.dataset,M)var Y=M.dgst;M=Y,l=Error(a(419)),l.stack="",l.digest=M,mo({value:l,source:null,stack:null}),n=ah(t,n,s)}else if(It||po(t,n,s,!1),M=(s&t.childLanes)!==0,It||M){if(M=et,M!==null&&(l=s&-s,l=(l&42)!==0?1:Fr(l),l=(l&(M.suspendedLanes|s))!==0?0:l,l!==0&&l!==q.retryLane))throw q.retryLane=l,Xs(t,l),dn(M,t,l),pg;L.data==="$?"||wh(),n=ah(t,n,s)}else L.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=q.treeContext,ut=jn(L.nextSibling),Zt=n,qe=!0,us=null,Kn=!1,t!==null&&(Sn[Rn++]=wr,Sn[Rn++]=Sr,Sn[Rn++]=os,wr=t.id,Sr=t.overflow,os=n),n=sh(n,l.children),n.flags|=4096);return n}return d?(ri(),d=l.fallback,L=n.mode,q=t.child,Y=q.sibling,l=Tr(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&65011712,Y!==null?d=Tr(Y,d):(d=as(d,L,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,L=t.child.memoizedState,L===null?L=rh(s):(q=L.cachePool,q!==null?(Y=Tt._currentValue,q=q.parent!==Y?{parent:Y,pool:Y}:q):q=cp(),L={baseLanes:L.baseLanes|s,cachePool:q}),d.memoizedState=L,d.childLanes=ih(t,M,s),n.memoizedState=nh,l):(ni(n),s=t.child,t=s.sibling,s=Tr(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(M=n.deletions,M===null?(n.deletions=[t],n.flags|=16):M.push(t)),n.child=s,n.memoizedState=null,s)}function sh(t,n){return n=Au({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Au(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ah(t,n,s){return oa(n,t.child,null,s),t=sh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Sg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),wf(t.return,n,s)}function oh(t,n,s,l,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=s,E.tailMode=d)}function Rg(t,n,s){var l=n.pendingProps,d=l.revealOrder,E=l.tail;if(jt(t,n,l.children,s),l=wt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sg(t,s,n);else if(t.tag===19)Sg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(wt,l),d){case"forwards":for(s=n.child,d=null;s!==null;)t=s.alternate,t!==null&&vu(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),oh(n,!1,d,s,E);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&vu(t)===null){n.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}oh(n,!0,s,null,E);break;case"together":oh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ir(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),li|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(po(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Tr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Tr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nu(t)))}function DE(t,n,s){switch(n.tag){case 3:We(n,n.stateNode.containerInfo),Zr(n,Tt,t.memoizedState.cache),ho();break;case 27:case 5:$r(n);break;case 4:We(n,n.stateNode.containerInfo);break;case 10:Zr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ni(n),n.flags|=128,null):(s&n.child.childLanes)!==0?wg(t,n,s):(ni(n),t=Ir(t,n,s),t!==null?t.sibling:null);ni(n);break;case 19:var d=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(po(t,n,s,!1),l=(s&n.childLanes)!==0),d){if(l)return Rg(t,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(wt,wt.current),l)break;return null;case 22:case 23:return n.lanes=0,_g(t,n,s);case 24:Zr(n,Tt,t.memoizedState.cache)}return Ir(t,n,s)}function Cg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)It=!0;else{if(!lh(t,s)&&(n.flags&128)===0)return It=!1,DE(t,n,s);It=(t.flags&131072)!==0}else It=!1,qe&&(n.flags&1048576)!==0&&rp(n,tu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")yf(l)?(t=ps(l,t),n.tag=1,n=Ag(null,n,l,t,s)):(n.tag=0,n=th(null,n,l,t,s));else{if(l!=null){if(d=l.$$typeof,d===V){n.tag=11,n=gg(null,n,l,t,s);break e}else if(d===N){n.tag=14,n=yg(null,n,l,t,s);break e}}throw n=fe(l)||l,Error(a(306,n,""))}}return n;case 0:return th(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,d=ps(l,n.pendingProps),Ag(t,n,l,d,s);case 3:e:{if(We(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var E=n.memoizedState;d=E.element,Of(t,n),Ao(n,l,null,s);var M=n.memoizedState;if(l=M.cache,Zr(n,Tt,l),l!==E.cache&&Sf(n,[Tt],s,!0),Eo(),l=M.element,E.isDehydrated)if(E={element:l,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=E,n.memoizedState=E,n.flags&256){n=Tg(t,n,l,s);break e}else if(l!==d){d=Tn(Error(a(424)),n),mo(d),n=Tg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=jn(t.firstChild),Zt=n,qe=!0,us=null,Kn=!0,s=sg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ho(),l===d){n=Ir(t,n,s);break e}jt(t,n,l,s)}n=n.child}return n;case 26:return Eu(t,n),t===null?(s=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=s:qe||(s=n.type,t=n.pendingProps,l=ju(Ee.current).createElement(s),l[bt]=n,l[pt]=t,Pt(l,s,t),ft(l),n.stateNode=l):n.memoizedState=Oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $r(n),t===null&&qe&&(l=n.stateNode=xy(n.type,n.pendingProps,Ee.current),Zt=n,Kn=!0,d=ut,hi(n.type)?(qh=d,ut=jn(l.firstChild)):ut=d),jt(t,n,n.pendingProps.children,s),Eu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((d=l=ut)&&(l=rA(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Zt=n,ut=jn(l.firstChild),Kn=!1,d=!0):d=!1),d||cs(n)),$r(n),d=n.type,E=n.pendingProps,M=t!==null?t.memoizedProps:null,l=E.children,Ph(d,E)?l=null:M!==null&&Ph(d,M)&&(n.flags|=32),n.memoizedState!==null&&(d=Lf(t,n,EE,null,null,s),Fo._currentValue=d),Eu(t,n),jt(t,n,l,s),n.child;case 6:return t===null&&qe&&((t=s=ut)&&(s=iA(s,n.pendingProps,Kn),s!==null?(n.stateNode=s,Zt=n,ut=null,t=!0):t=!1),t||cs(n)),null;case 13:return wg(t,n,s);case 4:return We(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=oa(n,null,l,s):jt(t,n,l,s),n.child;case 11:return gg(t,n,n.type,n.pendingProps,s);case 7:return jt(t,n,n.pendingProps,s),n.child;case 8:return jt(t,n,n.pendingProps.children,s),n.child;case 12:return jt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Zr(n,n.type,l.value),jt(t,n,l.children,s),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,hs(n),d=$t(d),l=l(d),n.flags|=1,jt(t,n,l,s),n.child;case 14:return yg(t,n,n.type,n.pendingProps,s);case 15:return vg(t,n,n.type,n.pendingProps,s);case 19:return Rg(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=Au(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Tr(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return _g(t,n,s);case 24:return hs(n),l=$t(Tt),t===null?(d=xf(),d===null&&(d=et,E=Rf(),d.pooledCache=E,E.refCount++,E!==null&&(d.pooledCacheLanes|=s),d=E),n.memoizedState={parent:l,cache:d},If(n),Zr(n,Tt,d)):((t.lanes&s)!==0&&(Of(t,n),Ao(n,null,null,s),Eo()),d=t.memoizedState,E=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Zr(n,Tt,l)):(l=E.cache,Zr(n,Tt,l),l!==d.cache&&Sf(n,[Tt],s,!0))),jt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Or(t){t.flags|=4}function xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jy(n)){if(n=Cn.current,n!==null&&((Pe&4194048)===Pe?Xn!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||n!==Xn))throw _o=Df,fp;t.flags|=8192}}function Tu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ha():536870912,t.lanes|=n,fa|=n)}function Do(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function IE(t,n,s){var l=n.pendingProps;switch(Ef(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Cr(Tt),Ln(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(fo(n)?Or(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ap())),st(n),null;case 26:return s=n.memoizedState,t===null?(Or(n),s!==null?(st(n),xg(n,s)):(st(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Or(n),st(n),xg(n,s)):(st(n),n.flags&=-16777217):(t.memoizedProps!==l&&Or(n),st(n),n.flags&=-16777217),null;case 27:cr(n),s=Ee.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Or(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return st(n),null}t=ge.current,fo(n)?ip(n):(t=xy(d,l,s),n.stateNode=t,Or(n))}return st(n),null;case 5:if(cr(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Or(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return st(n),null}if(t=ge.current,fo(n))ip(n);else{switch(d=ju(Ee.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(s,{is:l.is}):d.createElement(s)}}t[bt]=n,t[pt]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(Pt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Or(n)}}return st(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Or(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ee.current,fo(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,d=Zt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[bt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ey(t.nodeValue,s)),t||cs(n)}else t=ju(t).createTextNode(l),t[bt]=n,n.stateNode=t}return st(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=fo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[bt]=n}else ho(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),d=!1}else d=ap(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Dr(n),n):(Dr(n),null)}if(Dr(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var E=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(E=l.memoizedState.cachePool.pool),E!==d&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Tu(n,n.updateQueue),st(n),null;case 4:return Ln(),t===null&&Mh(n.stateNode.containerInfo),st(n),null;case 10:return Cr(n.type),st(n),null;case 19:if(ue(wt),d=n.memoizedState,d===null)return st(n),null;if(l=(n.flags&128)!==0,E=d.rendering,E===null)if(l)Do(d,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(E=vu(t),E!==null){for(n.flags|=128,Do(d,!1),t=E.updateQueue,n.updateQueue=t,Tu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)np(s,t),s=s.sibling;return oe(wt,wt.current&1|2),n.child}t=t.sibling}d.tail!==null&&yn()>Ru&&(n.flags|=128,l=!0,Do(d,!1),n.lanes=4194304)}else{if(!l)if(t=vu(E),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Tu(n,t),Do(d,!0),d.tail===null&&d.tailMode==="hidden"&&!E.alternate&&!qe)return st(n),null}else 2*yn()-d.renderingStartTime>Ru&&s!==536870912&&(n.flags|=128,l=!0,Do(d,!1),n.lanes=4194304);d.isBackwards?(E.sibling=n.child,n.child=E):(t=d.last,t!==null?t.sibling=E:n.child=E,d.last=E)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=yn(),n.sibling=null,t=wt.current,oe(wt,l?t&1|2:t&1),n):(st(n),null);case 22:case 23:return Dr(n),kf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),s=n.updateQueue,s!==null&&Tu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&ue(ds),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Cr(Tt),st(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function OE(t,n){switch(Ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Cr(Tt),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cr(n),null;case 13:if(Dr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ho()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ue(wt),null;case 4:return Ln(),null;case 10:return Cr(n.type),null;case 22:case 23:return Dr(n),kf(),t!==null&&ue(ds),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Cr(Tt),null;case 25:return null;default:return null}}function Dg(t,n){switch(Ef(n),n.tag){case 3:Cr(Tt),Ln();break;case 26:case 27:case 5:cr(n);break;case 4:Ln();break;case 13:Dr(n);break;case 19:ue(wt);break;case 10:Cr(n.type);break;case 22:case 23:Dr(n),kf(),t!==null&&ue(ds);break;case 24:Cr(Tt)}}function Io(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var E=s.create,M=s.inst;l=E(),M.destroy=l}s=s.next}while(s!==d)}}catch(L){Je(n,n.return,L)}}function ii(t,n,s){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var E=d.next;l=E;do{if((l.tag&t)===t){var M=l.inst,L=M.destroy;if(L!==void 0){M.destroy=void 0,d=n;var q=s,Y=L;try{Y()}catch(ne){Je(d,q,ne)}}}l=l.next}while(l!==E)}}catch(ne){Je(n,n.return,ne)}}function Ig(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{yp(n,s)}catch(l){Je(t,t.return,l)}}}function Og(t,n,s){s.props=ps(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Je(t,n,l)}}function Oo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(d){Je(t,n,d)}}function Zn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){Je(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Je(t,n,d)}else s.current=null}function Ng(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){Je(t,t.return,d)}}function uh(t,n,s){try{var l=t.stateNode;JE(l,t.type,s,n),l[pt]=n}catch(d){Je(t,t.return,d)}}function Mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hi(t.type)||t.tag===4}function ch(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ku));else if(l!==4&&(l===27&&hi(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(fh(t,n,s),t=t.sibling;t!==null;)fh(t,n,s),t=t.sibling}function wu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&hi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(wu(t,n,s),t=t.sibling;t!==null;)wu(t,n,s),t=t.sibling}function Vg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Pt(n,l,s),n[bt]=t,n[pt]=s}catch(E){Je(t,t.return,E)}}var Nr=!1,dt=!1,hh=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function NE(t,n){if(t=t.containerInfo,jh=qu,t=Gm(t),cf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,E=l.focusNode;l=l.focusOffset;try{s.nodeType,E.nodeType}catch{s=null;break e}var M=0,L=-1,q=-1,Y=0,ne=0,ie=t,X=null;t:for(;;){for(var Z;ie!==s||d!==0&&ie.nodeType!==3||(L=M+d),ie!==E||l!==0&&ie.nodeType!==3||(q=M+l),ie.nodeType===3&&(M+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)X=ie,ie=Z;for(;;){if(ie===t)break t;if(X===s&&++Y===d&&(L=M),X===E&&++ne===l&&(q=M),(Z=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Z}s=L===-1||q===-1?null:{start:L,end:q}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lh={focusedElem:t,selectionRange:s},qu=!1,Ot=n;Ot!==null;)if(n=Ot,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ot=t;else for(;Ot!==null;){switch(n=Ot,E=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&E!==null){t=void 0,s=n,d=E.memoizedProps,E=E.memoizedState,l=s.stateNode;try{var we=ps(s.type,d,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(we,E),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Je(s,s.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)zh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ot=t;break}Ot=n.return}}function jg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:si(t,s),l&4&&Io(5,s);break;case 1:if(si(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(M){Je(s,s.return,M)}else{var d=ps(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(M){Je(s,s.return,M)}}l&64&&Ig(s),l&512&&Oo(s,s.return);break;case 3:if(si(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{yp(t,n)}catch(M){Je(s,s.return,M)}}break;case 27:n===null&&l&4&&Vg(s);case 26:case 5:si(t,s),n===null&&l&4&&Ng(s),l&512&&Oo(s,s.return);break;case 12:si(t,s);break;case 13:si(t,s),l&4&&Ug(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=BE.bind(null,s),sA(t,s))));break;case 22:if(l=s.memoizedState!==null||Nr,!l){n=n!==null&&n.memoizedState!==null||dt,d=Nr;var E=dt;Nr=l,(dt=n)&&!E?ai(t,s,(s.subtreeFlags&8772)!==0):si(t,s),Nr=d,dt=E}break;case 30:break;default:si(t,s)}}function Lg(t){var n=t.alternate;n!==null&&(t.alternate=null,Lg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,Wt=!1;function Mr(t,n,s){for(s=s.child;s!==null;)Pg(t,n,s),s=s.sibling}function Pg(t,n,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,s)}catch{}switch(s.tag){case 26:dt||Zn(s,n),Mr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:dt||Zn(s,n);var l=rt,d=Wt;hi(s.type)&&(rt=s.stateNode,Wt=!1),Mr(t,n,s),zo(s.stateNode),rt=l,Wt=d;break;case 5:dt||Zn(s,n);case 6:if(l=rt,d=Wt,rt=null,Mr(t,n,s),rt=l,Wt=d,rt!==null)if(Wt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(E){Je(s,n,E)}else try{rt.removeChild(s.stateNode)}catch(E){Je(s,n,E)}break;case 18:rt!==null&&(Wt?(t=rt,Ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Yo(t)):Ry(rt,s.stateNode));break;case 4:l=rt,d=Wt,rt=s.stateNode.containerInfo,Wt=!0,Mr(t,n,s),rt=l,Wt=d;break;case 0:case 11:case 14:case 15:dt||ii(2,s,n),dt||ii(4,s,n),Mr(t,n,s);break;case 1:dt||(Zn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Og(s,n,l)),Mr(t,n,s);break;case 21:Mr(t,n,s);break;case 22:dt=(l=dt)||s.memoizedState!==null,Mr(t,n,s),dt=l;break;default:Mr(t,n,s)}}function Ug(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yo(t)}catch(s){Je(n,n.return,s)}}function ME(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(a(435,t.tag))}}function dh(t,n){var s=ME(t);n.forEach(function(l){var d=qE.bind(null,t,l);s.has(l)||(s.add(l),l.then(d,d))})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],E=t,M=n,L=M;e:for(;L!==null;){switch(L.tag){case 27:if(hi(L.type)){rt=L.stateNode,Wt=!1;break e}break;case 5:rt=L.stateNode,Wt=!1;break e;case 3:case 4:rt=L.stateNode.containerInfo,Wt=!0;break e}L=L.return}if(rt===null)throw Error(a(160));Pg(E,M,d),rt=null,Wt=!1,E=d.alternate,E!==null&&(E.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zg(n,t),n=n.sibling}var kn=null;function zg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ii(3,t,t.return),Io(3,t),ii(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(dt||s===null||Zn(s,s.return)),l&64&&Nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=kn;if(un(n,t),cn(t),l&512&&(dt||s===null||Zn(s,s.return)),l&4){var E=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":E=d.getElementsByTagName("title")[0],(!E||E[Fi]||E[bt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=d.createElement(l),d.head.insertBefore(E,d.querySelector("head > title"))),Pt(E,l,s),E[bt]=t,ft(E),l=E;break e;case"link":var M=Vy("link","href",d).get(l+(s.href||""));if(M){for(var L=0;L<M.length;L++)if(E=M[L],E.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&E.getAttribute("rel")===(s.rel==null?null:s.rel)&&E.getAttribute("title")===(s.title==null?null:s.title)&&E.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){M.splice(L,1);break t}}E=d.createElement(l),Pt(E,l,s),d.head.appendChild(E);break;case"meta":if(M=Vy("meta","content",d).get(l+(s.content||""))){for(L=0;L<M.length;L++)if(E=M[L],E.getAttribute("content")===(s.content==null?null:""+s.content)&&E.getAttribute("name")===(s.name==null?null:s.name)&&E.getAttribute("property")===(s.property==null?null:s.property)&&E.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&E.getAttribute("charset")===(s.charSet==null?null:s.charSet)){M.splice(L,1);break t}}E=d.createElement(l),Pt(E,l,s),d.head.appendChild(E);break;default:throw Error(a(468,l))}E[bt]=t,ft(E),l=E}t.stateNode=l}else ky(d,t.type,t.stateNode);else t.stateNode=My(d,l,t.memoizedProps);else E!==l?(E===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):E.count--,l===null?ky(d,t.type,t.stateNode):My(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&uh(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(dt||s===null||Zn(s,s.return)),s!==null&&l&4&&uh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(dt||s===null||Zn(s,s.return)),t.flags&32){d=t.stateNode;try{_n(d,"")}catch(Z){Je(t,t.return,Z)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,uh(t,d,s!==null?s.memoizedProps:d)),l&1024&&(hh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Z){Je(t,t.return,Z)}}break;case 3:if(Uu=null,d=kn,kn=Lu(n.containerInfo),un(n,t),kn=d,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Yo(n.containerInfo)}catch(Z){Je(t,t.return,Z)}hh&&(hh=!1,Bg(t));break;case 4:l=kn,kn=Lu(t.stateNode.containerInfo),un(n,t),cn(t),kn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(_h=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dh(t,l)));break;case 22:d=t.memoizedState!==null;var q=s!==null&&s.memoizedState!==null,Y=Nr,ne=dt;if(Nr=Y||d,dt=ne||q,un(n,t),dt=ne,Nr=Y,cn(t),l&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(s===null||q||Nr||dt||gs(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){q=s=n;try{if(E=q.stateNode,d)M=E.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{L=q.stateNode;var ie=q.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;L.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){Je(q,q.return,Z)}}}else if(n.tag===6){if(s===null){q=n;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(Z){Je(q,q.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,dh(t,s))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Mg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,E=ch(t);wu(t,E,d);break;case 5:var M=s.stateNode;s.flags&32&&(_n(M,""),s.flags&=-33);var L=ch(t);wu(t,L,M);break;case 3:case 4:var q=s.stateNode.containerInfo,Y=ch(t);fh(t,Y,q);break;default:throw Error(a(161))}}catch(ne){Je(t,t.return,ne)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jg(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ii(4,n,n.return),gs(n);break;case 1:Zn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Og(n,n.return,s),gs(n);break;case 27:zo(n.stateNode);case 26:case 5:Zn(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function ai(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=t,E=n,M=E.flags;switch(E.tag){case 0:case 11:case 15:ai(d,E,s),Io(4,E);break;case 1:if(ai(d,E,s),l=E,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Je(l,l.return,Y)}if(l=E,d=l.updateQueue,d!==null){var L=l.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)gp(q[d],L)}catch(Y){Je(l,l.return,Y)}}s&&M&64&&Ig(E),Oo(E,E.return);break;case 27:Vg(E);case 26:case 5:ai(d,E,s),s&&l===null&&M&4&&Ng(E),Oo(E,E.return);break;case 12:ai(d,E,s);break;case 13:ai(d,E,s),s&&M&4&&Ug(d,E);break;case 22:E.memoizedState===null&&ai(d,E,s),Oo(E,E.return);break;case 30:break;default:ai(d,E,s)}n=n.sibling}}function mh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&go(s))}function ph(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&go(t))}function Jn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(t,n,s,l),n=n.sibling}function qg(t,n,s,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,s,l),d&2048&&Io(9,n);break;case 1:Jn(t,n,s,l);break;case 3:Jn(t,n,s,l),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&go(t)));break;case 12:if(d&2048){Jn(t,n,s,l),t=n.stateNode;try{var E=n.memoizedProps,M=E.id,L=E.onPostCommit;typeof L=="function"&&L(M,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){Je(n,n.return,q)}}else Jn(t,n,s,l);break;case 13:Jn(t,n,s,l);break;case 23:break;case 22:E=n.stateNode,M=n.alternate,n.memoizedState!==null?E._visibility&2?Jn(t,n,s,l):No(t,n):E._visibility&2?Jn(t,n,s,l):(E._visibility|=2,la(t,n,s,l,(n.subtreeFlags&10256)!==0)),d&2048&&mh(M,n);break;case 24:Jn(t,n,s,l),d&2048&&ph(n.alternate,n);break;default:Jn(t,n,s,l)}}function la(t,n,s,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var E=t,M=n,L=s,q=l,Y=M.flags;switch(M.tag){case 0:case 11:case 15:la(E,M,L,q,d),Io(8,M);break;case 23:break;case 22:var ne=M.stateNode;M.memoizedState!==null?ne._visibility&2?la(E,M,L,q,d):No(E,M):(ne._visibility|=2,la(E,M,L,q,d)),d&&Y&2048&&mh(M.alternate,M);break;case 24:la(E,M,L,q,d),d&&Y&2048&&ph(M.alternate,M);break;default:la(E,M,L,q,d)}n=n.sibling}}function No(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,d=l.flags;switch(l.tag){case 22:No(s,l),d&2048&&mh(l.alternate,l);break;case 24:No(s,l),d&2048&&ph(l.alternate,l);break;default:No(s,l)}n=n.sibling}}var Mo=8192;function ua(t){if(t.subtreeFlags&Mo)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 26:ua(t),t.flags&Mo&&t.memoizedState!==null&&vA(kn,t.memoizedState,t.memoizedProps);break;case 5:ua(t);break;case 3:case 4:var n=kn;kn=Lu(t.stateNode.containerInfo),ua(t),kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Mo,Mo=16777216,ua(t),Mo=n):ua(t));break;default:ua(t)}}function Fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ot=l,Gg(l,t)}Fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 0:case 11:case 15:Vo(t),t.flags&2048&&ii(9,t,t.return);break;case 3:Vo(t);break;case 12:Vo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Su(t)):Vo(t);break;default:Vo(t)}}function Su(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ot=l,Gg(l,t)}Fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ii(8,n,n.return),Su(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Su(n));break;default:Su(n)}t=t.sibling}}function Gg(t,n){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:ii(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:go(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ot=l;else e:for(s=t;Ot!==null;){l=Ot;var d=l.sibling,E=l.return;if(Lg(l),l===s){Ot=null;break e}if(d!==null){d.return=E,Ot=d;break e}Ot=E}}}var VE={getCacheForType:function(t){var n=$t(Tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},kE=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Me=null,Pe=0,Qe=0,fn=null,oi=!1,ca=!1,gh=!1,Vr=0,ct=0,li=0,ys=0,yh=0,xn=0,fa=0,ko=null,en=null,vh=!1,_h=0,Ru=1/0,Cu=null,ui=null,Lt=0,ci=null,ha=null,da=0,bh=0,Eh=null,Qg=null,jo=0,Ah=null;function hn(){if((Ge&2)!==0&&Pe!==0)return Pe&-Pe;if(K.T!==null){var t=ea;return t!==0?t:Dh()}return Hr()}function Yg(){xn===0&&(xn=(Pe&536870912)===0||qe?Fa():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),xn}function dn(t,n,s){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ma(t,0),fi(t,Pe,xn,!1)),hr(t,s),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(ys|=s),ct===4&&fi(t,Pe,xn,!1)),Wn(t))}function Kg(t,n,s){if((Ge&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||$i(t,n),d=l?PE(t,n):Sh(t,n,!0),E=l;do{if(d===0){ca&&!l&&fi(t,n,0,!1);break}else{if(s=t.current.alternate,E&&!jE(s)){d=Sh(t,n,!1),E=!1;continue}if(d===2){if(E=n,t.errorRecoveryDisabledLanes&E)var M=0;else M=t.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;e:{var L=t;d=ko;var q=L.current.memoizedState.isDehydrated;if(q&&(ma(L,M).flags|=256),M=Sh(L,M,!1),M!==2){if(gh&&!q){L.errorRecoveryDisabledLanes|=E,ys|=E,d=4;break e}E=en,en=d,E!==null&&(en===null?en=E:en.push.apply(en,E))}d=M}if(E=!1,d!==2)continue}}if(d===1){ma(t,0),fi(t,n,0,!0);break}e:{switch(l=t,E=d,E){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:fi(l,n,xn,!oi);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=_h+300-yn(),10<d)){if(fi(l,n,xn,!oi),Os(l,0,!0)!==0)break e;l.timeoutHandle=wy(Xg.bind(null,l,s,en,Cu,vh,n,xn,ys,fa,oi,E,2,-0,0),d);break e}Xg(l,s,en,Cu,vh,n,xn,ys,fa,oi,E,0,-0,0)}}break}while(!0);Wn(t)}function Xg(t,n,s,l,d,E,M,L,q,Y,ne,ie,X,Z){if(t.timeoutHandle=-1,ie=n.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&($o={stylesheets:null,count:0,unsuspend:yA},$g(n),ie=_A(),ie!==null)){t.cancelPendingCommit=ie(ry.bind(null,t,n,E,s,l,d,M,L,q,ne,1,X,Z)),fi(t,E,M,!Y);return}ry(t,n,E,s,l,d,M,L,q)}function jE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],E=d.getSnapshot;d=d.value;try{if(!on(E(),d))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fi(t,n,s,l){n&=~yh,n&=~ys,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var d=n;0<d;){var E=31-qt(d),M=1<<E;l[E]=-1,d&=~M}s!==0&&Pn(t,s,n)}function xu(){return(Ge&6)===0?(Lo(0),!1):!0}function Th(){if(Me!==null){if(Qe===0)var t=Me.return;else t=Me,Rr=fs=null,zf(t),aa=null,Co=0,t=Me;for(;t!==null;)Dg(t.alternate,t),t=t.return;Me=null}}function ma(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,eA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Th(),et=t,Me=s=Tr(t.current,null),Pe=n,Qe=0,fn=null,oi=!1,ca=$i(t,n),gh=!1,fa=xn=yh=ys=li=ct=0,en=ko=null,vh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var d=31-qt(l),E=1<<d;n|=t[d],l&=~E}return Vr=n,Xl(),s}function Zg(t,n){Ie=null,K.H=pu,n===vo||n===su?(n=mp(),Qe=3):n===fp?(n=mp(),Qe=4):Qe=n===pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Me===null&&(ct=1,bu(t,Tn(n,t.current)))}function Jg(){var t=K.H;return K.H=pu,t===null?pu:t}function Wg(){var t=K.A;return K.A=VE,t}function wh(){ct=4,oi||(Pe&4194048)!==Pe&&Cn.current!==null||(ca=!0),(li&134217727)===0&&(ys&134217727)===0||et===null||fi(et,Pe,xn,!1)}function Sh(t,n,s){var l=Ge;Ge|=2;var d=Jg(),E=Wg();(et!==t||Pe!==n)&&(Cu=null,ma(t,n)),n=!1;var M=ct;e:do try{if(Qe!==0&&Me!==null){var L=Me,q=fn;switch(Qe){case 8:Th(),M=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var Y=Qe;if(Qe=0,fn=null,pa(t,L,q,Y),s&&ca){M=0;break e}break;default:Y=Qe,Qe=0,fn=null,pa(t,L,q,Y)}}LE(),M=ct;break}catch(ne){Zg(t,ne)}while(!0);return n&&t.shellSuspendCounter++,Rr=fs=null,Ge=l,K.H=d,K.A=E,Me===null&&(et=null,Pe=0,Xl()),M}function LE(){for(;Me!==null;)ey(Me)}function PE(t,n){var s=Ge;Ge|=2;var l=Jg(),d=Wg();et!==t||Pe!==n?(Cu=null,Ru=yn()+500,ma(t,n)):ca=$i(t,n);e:do try{if(Qe!==0&&Me!==null){n=Me;var E=fn;t:switch(Qe){case 1:Qe=0,fn=null,pa(t,n,E,1);break;case 2:case 9:if(hp(E)){Qe=0,fn=null,ty(n);break}n=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Wn(t)},E.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:hp(E)?(Qe=0,fn=null,ty(n)):(Qe=0,fn=null,pa(t,n,E,7));break;case 5:var M=null;switch(Me.tag){case 26:M=Me.memoizedState;case 5:case 27:var L=Me;if(!M||jy(M)){Qe=0,fn=null;var q=L.sibling;if(q!==null)Me=q;else{var Y=L.return;Y!==null?(Me=Y,Du(Y)):Me=null}break t}}Qe=0,fn=null,pa(t,n,E,5);break;case 6:Qe=0,fn=null,pa(t,n,E,6);break;case 8:Th(),ct=6;break e;default:throw Error(a(462))}}UE();break}catch(ne){Zg(t,ne)}while(!0);return Rr=fs=null,K.H=l,K.A=d,Ge=s,Me!==null?0:(et=null,Pe=0,Xl(),ct)}function UE(){for(;Me!==null&&!za();)ey(Me)}function ey(t){var n=Cg(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,n===null?Du(t):Me=n}function ty(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Eg(s,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Eg(s,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:zf(n);default:Dg(s,n),n=Me=np(n,Vr),n=Cg(s,n,Vr)}t.memoizedProps=t.pendingProps,n===null?Du(t):Me=n}function pa(t,n,s,l){Rr=fs=null,zf(n),aa=null,Co=0;var d=n.return;try{if(xE(t,d,n,s,Pe)){ct=1,bu(t,Tn(s,t.current)),Me=null;return}}catch(E){if(d!==null)throw Me=d,E;ct=1,bu(t,Tn(s,t.current)),Me=null;return}n.flags&32768?(qe||l===1?t=!0:ca||(Pe&536870912)!==0?t=!1:(oi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ny(n,t)):Du(n)}function Du(t){var n=t;do{if((n.flags&32768)!==0){ny(n,oi);return}t=n.return;var s=IE(n.alternate,n,Vr);if(s!==null){Me=s;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);ct===0&&(ct=5)}function ny(t,n){do{var s=OE(t.alternate,t);if(s!==null){s.flags&=32767,Me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=s}while(t!==null);ct=6,Me=null}function ry(t,n,s,l,d,E,M,L,q){t.cancelPendingCommit=null;do Iu();while(Lt!==0);if((Ge&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(E=n.lanes|n.childLanes,E|=pf,Ga(t,s,E,M,L,q),t===et&&(Me=et=null,Pe=0),ha=n,ci=t,da=s,bh=E,Eh=d,Qg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$E(Ui,function(){return ly(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=ae.p,ae.p=2,M=Ge,Ge|=4;try{NE(t,n,s)}finally{Ge=M,ae.p=d,K.T=l}}Lt=1,iy(),sy(),ay()}}function iy(){if(Lt===1){Lt=0;var t=ci,n=ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=ae.p;ae.p=2;var d=Ge;Ge|=4;try{zg(n,t);var E=Lh,M=Gm(t.containerInfo),L=E.focusedElem,q=E.selectionRange;if(M!==L&&L&&L.ownerDocument&&Hm(L.ownerDocument.documentElement,L)){if(q!==null&&cf(L)){var Y=q.start,ne=q.end;if(ne===void 0&&(ne=Y),"selectionStart"in L)L.selectionStart=Y,L.selectionEnd=Math.min(ne,L.value.length);else{var ie=L.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Z=X.getSelection(),we=L.textContent.length,be=Math.min(q.start,we),Ze=q.end===void 0?be:Math.min(q.end,we);!Z.extend&&be>Ze&&(M=Ze,Ze=be,be=M);var H=Fm(L,be),F=Fm(L,Ze);if(H&&F&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var Q=ie.createRange();Q.setStart(H.node,H.offset),Z.removeAllRanges(),be>Ze?(Z.addRange(Q),Z.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),Z.addRange(Q))}}}}for(ie=[],Z=L;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ie.length;L++){var re=ie[L];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}qu=!!jh,Lh=jh=null}finally{Ge=d,ae.p=l,K.T=s}}t.current=n,Lt=2}}function sy(){if(Lt===2){Lt=0;var t=ci,n=ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=ae.p;ae.p=2;var d=Ge;Ge|=4;try{jg(t,n.alternate,n)}finally{Ge=d,ae.p=l,K.T=s}}Lt=3}}function ay(){if(Lt===4||Lt===3){Lt=0,Sl();var t=ci,n=ha,s=da,l=Qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,ha=ci=null,oy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ui=null),Ns(s),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,d=ae.p,ae.p=2,K.T=null;try{for(var E=t.onRecoverableError,M=0;M<l.length;M++){var L=l[M];E(L.value,{componentStack:L.stack})}}finally{K.T=n,ae.p=d}}(da&3)!==0&&Iu(),Wn(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Ah?jo++:(jo=0,Ah=t):jo=0,Lo(0)}}function oy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,go(n)))}function Iu(t){return iy(),sy(),ay(),ly()}function ly(){if(Lt!==5)return!1;var t=ci,n=bh;bh=0;var s=Ns(da),l=K.T,d=ae.p;try{ae.p=32>s?32:s,K.T=null,s=Eh,Eh=null;var E=ci,M=da;if(Lt=0,ha=ci=null,da=0,(Ge&6)!==0)throw Error(a(331));var L=Ge;if(Ge|=4,Hg(E.current),qg(E,E.current,M,s),Ge=L,Lo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,E)}catch{}return!0}finally{ae.p=d,K.T=l,oy(t,n)}}function uy(t,n,s){n=Tn(s,n),n=eh(t.stateNode,n,2),t=ei(t,n,2),t!==null&&(hr(t,2),Wn(t))}function Je(t,n,s){if(t.tag===3)uy(t,t,s);else for(;n!==null;){if(n.tag===3){uy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ui===null||!ui.has(l))){t=Tn(s,t),s=dg(2),l=ei(n,s,2),l!==null&&(mg(s,l,n,t),hr(l,2),Wn(l));break}}n=n.return}}function Rh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new kE;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(s)||(gh=!0,d.add(s),t=zE.bind(null,t,n,s),n.then(t,t))}function zE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,et===t&&(Pe&s)===s&&(ct===4||ct===3&&(Pe&62914560)===Pe&&300>yn()-_h?(Ge&2)===0&&ma(t,0):yh|=s,fa===Pe&&(fa=0)),Wn(t)}function cy(t,n){n===0&&(n=Ha()),t=Xs(t,n),t!==null&&(hr(t,n),Wn(t))}function BE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),cy(t,s)}function qE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),cy(t,s)}function $E(t,n){return Li(t,n)}var Ou=null,ga=null,Ch=!1,Nu=!1,xh=!1,vs=0;function Wn(t){t!==ga&&t.next===null&&(ga===null?Ou=ga=t:ga=ga.next=t),Nu=!0,Ch||(Ch=!0,HE())}function Lo(t,n){if(!xh&&Nu){xh=!0;do for(var s=!1,l=Ou;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var E=0;else{var M=l.suspendedLanes,L=l.pingedLanes;E=(1<<31-qt(42|t)+1)-1,E&=d&~(M&~L),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(s=!0,my(l,E))}else E=Pe,E=Os(l,l===et?E:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(E&3)===0||$i(l,E)||(s=!0,my(l,E));l=l.next}while(s);xh=!1}}function FE(){fy()}function fy(){Nu=Ch=!1;var t=0;vs!==0&&(WE()&&(t=vs),vs=0);for(var n=yn(),s=null,l=Ou;l!==null;){var d=l.next,E=hy(l,n);E===0?(l.next=null,s===null?Ou=d:s.next=d,d===null&&(ga=s)):(s=l,(t!==0||(E&3)!==0)&&(Nu=!0)),l=d}Lo(t)}function hy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,E=t.pendingLanes&-62914561;0<E;){var M=31-qt(E),L=1<<M,q=d[M];q===-1?((L&s)===0||(L&l)!==0)&&(d[M]=$a(L,n)):q<=n&&(t.expiredLanes|=L),E&=~L}if(n=et,s=Pe,s=Os(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||$i(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Pi(l),Ns(s)){case 2:case 8:s=Ds;break;case 32:s=Ui;break;case 268435456:s=Is;break;default:s=Ui}return l=dy.bind(null,t),s=Li(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Pi(l),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Iu()&&t.callbackNode!==s)return null;var l=Pe;return l=Os(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kg(t,l,n),hy(t,yn()),t.callbackNode!=null&&t.callbackNode===s?dy.bind(null,t):null)}function my(t,n){if(Iu())return null;Kg(t,n,!0)}function HE(){tA(function(){(Ge&6)!==0?Li(Ba,FE):fy()})}function Dh(){return vs===0&&(vs=Fa()),vs}function py(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ps(""+t)}function gy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function GE(t,n,s,l,d){if(n==="submit"&&s&&s.stateNode===d){var E=py((d[pt]||null).action),M=l.submitter;M&&(n=(n=M[pt]||null)?py(n.formAction):M.getAttribute("formAction"),n!==null&&(E=n,M=null));var L=new Us("action","action",null,l,d);t.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(vs!==0){var q=M?gy(d,M):new FormData(d);Kf(s,{pending:!0,data:q,method:d.method,action:E},null,q)}}else typeof E=="function"&&(L.preventDefault(),q=M?gy(d,M):new FormData(d),Kf(s,{pending:!0,data:q,method:d.method,action:E},E,q))},currentTarget:d}]})}}for(var Ih=0;Ih<mf.length;Ih++){var Oh=mf[Ih],QE=Oh.toLowerCase(),YE=Oh[0].toUpperCase()+Oh.slice(1);Vn(QE,"on"+YE)}Vn(Km,"onAnimationEnd"),Vn(Xm,"onAnimationIteration"),Vn(Zm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(fE,"onTransitionRun"),Vn(hE,"onTransitionStart"),Vn(dE,"onTransitionCancel"),Vn(Jm,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function yy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var E=void 0;if(n)for(var M=l.length-1;0<=M;M--){var L=l[M],q=L.instance,Y=L.currentTarget;if(L=L.listener,q!==E&&d.isPropagationStopped())break e;E=L,d.currentTarget=Y;try{E(d)}catch(ne){_u(ne)}d.currentTarget=null,E=q}else for(M=0;M<l.length;M++){if(L=l[M],q=L.instance,Y=L.currentTarget,L=L.listener,q!==E&&d.isPropagationStopped())break e;E=L,d.currentTarget=Y;try{E(d)}catch(ne){_u(ne)}d.currentTarget=null,E=q}}}}function Ve(t,n){var s=n[Ya];s===void 0&&(s=n[Ya]=new Set);var l=t+"__bubble";s.has(l)||(vy(n,t,2,!1),s.add(l))}function Nh(t,n,s){var l=0;n&&(l|=4),vy(s,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Mh(t){if(!t[Mu]){t[Mu]=!0,Ka.forEach(function(s){s!=="selectionchange"&&(KE.has(s)||Nh(s,!1,t),Nh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,Nh("selectionchange",!1,n))}}function vy(t,n,s,l){switch(qy(n)){case 2:var d=AA;break;case 8:d=TA;break;default:d=Qh}s=d.bind(null,n,s,t),d=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,s,{capture:!0,passive:d}):t.addEventListener(n,s,!0):d!==void 0?t.addEventListener(n,s,{passive:d}):t.addEventListener(n,s,!1)}function Vh(t,n,s,l,d){var E=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var M=l.tag;if(M===3||M===4){var L=l.stateNode.containerInfo;if(L===d)break;if(M===4)for(M=l.return;M!==null;){var q=M.tag;if((q===3||q===4)&&M.stateNode.containerInfo===d)return;M=M.return}for(;L!==null;){if(M=dr(L),M===null)return;if(q=M.tag,q===5||q===6||q===26||q===27){l=E=M;continue e}L=L.parentNode}}l=l.return}kl(function(){var Y=E,ne=bn(s),ie=[];e:{var X=Wm.get(t);if(X!==void 0){var Z=Us,we=t;switch(t){case"keypress":if(Fn(s)===0)break e;case"keydown":case"keyup":Z=Hs;break;case"focusin":we="focus",Z=qs;break;case"focusout":we="blur",Z=qs;break;case"beforeblur":case"afterblur":Z=qs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=$l;break;case Km:case Xm:case Zm:Z=$s;break;case Jm:Z=Hl;break;case"scroll":case"scrollend":Z=jl;break;case"wheel":Z=Gs;break;case"copy":case"cut":case"paste":Z=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=oo;break;case"toggle":case"beforetoggle":Z=Ql}var be=(n&4)!==0,Ze=!be&&(t==="scroll"||t==="scrollend"),H=be?X!==null?X+"Capture":null:X;be=[];for(var F=Y,Q;F!==null;){var re=F;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||H===null||(re=Zi(F,H),re!=null&&be.push(Uo(F,re,Q))),Ze)break;F=F.return}0<be.length&&(X=new Z(X,we,null,s,ne),ie.push({event:X,listeners:be}))}}if((n&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",X&&s!==yr&&(we=s.relatedTarget||s.fromElement)&&(dr(we)||we[vn]))break e;if((Z||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(we=s.relatedTarget||s.toElement,Z=Y,we=we?dr(we):null,we!==null&&(Ze=u(we),be=we.tag,we!==Ze||be!==5&&be!==27&&be!==6)&&(we=null)):(Z=null,we=Y),Z!==we)){if(be=An,re="onMouseLeave",H="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(be=oo,re="onPointerLeave",H="onPointerEnter",F="pointer"),Ze=Z==null?X:zn(Z),Q=we==null?X:zn(we),X=new be(re,F+"leave",Z,s,ne),X.target=Ze,X.relatedTarget=Q,re=null,dr(ne)===Y&&(be=new be(H,F+"enter",we,s,ne),be.target=Q,be.relatedTarget=Ze,re=be),Ze=re,Z&&we)t:{for(be=Z,H=we,F=0,Q=be;Q;Q=ya(Q))F++;for(Q=0,re=H;re;re=ya(re))Q++;for(;0<F-Q;)be=ya(be),F--;for(;0<Q-F;)H=ya(H),Q--;for(;F--;){if(be===H||H!==null&&be===H.alternate)break t;be=ya(be),H=ya(H)}be=null}else be=null;Z!==null&&_y(ie,X,Z,be,!1),we!==null&&Ze!==null&&_y(ie,Ze,we,be,!0)}}e:{if(X=Y?zn(Y):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var pe=Pm;else if(At(X))if(Um)pe=lE;else{pe=aE;var Ne=sE}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&eo(Y.elementType)&&(pe=Pm):pe=oE;if(pe&&(pe=pe(t,Y))){Ar(ie,pe,s,ne);break e}Ne&&Ne(t,X,Y),t==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Kr(X,"number",X.value)}switch(Ne=Y?zn(Y):window,t){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(Qs=Ne,ff=Y,co=null);break;case"focusout":co=ff=Qs=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,Qm(ie,s,ne);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":Qm(ie,s,ne)}var ye;if(Qn)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else je?J(t,s)&&(Ae="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(O&&s.locale!=="ko"&&(je||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&je&&(ye=no()):($n=ne,Xr="value"in $n?$n.value:$n.textContent,je=!0)),Ne=Vu(Y,Ae),0<Ne.length&&(Ae=new so(Ae,t,null,s,ne),ie.push({event:Ae,listeners:Ne}),ye?Ae.data=ye:(ye=ce(s),ye!==null&&(Ae.data=ye)))),(ye=C?Et(t,s):Le(t,s))&&(Ae=Vu(Y,"onBeforeInput"),0<Ae.length&&(Ne=new so("onBeforeInput","beforeinput",null,s,ne),ie.push({event:Ne,listeners:Ae}),Ne.data=ye)),GE(ie,t,Y,s,ne)}yy(ie,n)})}function Uo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Vu(t,n){for(var s=n+"Capture",l=[];t!==null;){var d=t,E=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||E===null||(d=Zi(t,s),d!=null&&l.unshift(Uo(t,d,E)),d=Zi(t,n),d!=null&&l.push(Uo(t,d,E))),t.tag===3)return l;t=t.return}return[]}function ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _y(t,n,s,l,d){for(var E=n._reactName,M=[];s!==null&&s!==l;){var L=s,q=L.alternate,Y=L.stateNode;if(L=L.tag,q!==null&&q===l)break;L!==5&&L!==26&&L!==27||Y===null||(q=Y,d?(Y=Zi(s,E),Y!=null&&M.unshift(Uo(s,Y,q))):d||(Y=Zi(s,E),Y!=null&&M.push(Uo(s,Y,q)))),s=s.return}M.length!==0&&t.push({event:n,listeners:M})}var XE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(XE,`
`).replace(ZE,"")}function Ey(t,n){return n=by(n),by(t)===n}function ku(){}function Xe(t,n,s,l,d,E){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,s,l);break;case"style":Wa(t,l,E);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(s==="formAction"?(n!=="input"&&Xe(t,n,"name",d.name,d,null),Xe(t,n,"formEncType",d.formEncType,d,null),Xe(t,n,"formMethod",d.formMethod,d,null),Xe(t,n,"formTarget",d.formTarget,d,null)):(Xe(t,n,"encType",d.encType,d,null),Xe(t,n,"method",d.method,d,null),Xe(t,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ku);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Yr(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=rf.get(s)||s,Yr(t,s,l))}}function kh(t,n,s,l,d,E){switch(s){case"style":Wa(t,l,E);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),n=s.slice(2,d?s.length-7:void 0),E=t[pt]||null,E=E!=null?E[s]:null,typeof E=="function"&&t.removeEventListener(n,E,d),typeof l=="function")){typeof E!="function"&&E!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Yr(t,s,l)}}}function Pt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,d=!1,E;for(E in s)if(s.hasOwnProperty(E)){var M=s[E];if(M!=null)switch(E){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(t,n,E,M,s,null)}}d&&Xe(t,n,"srcSet",s.srcSet,s,null),l&&Xe(t,n,"src",s.src,s,null);return;case"input":Ve("invalid",t);var L=E=M=d=null,q=null,Y=null;for(l in s)if(s.hasOwnProperty(l)){var ne=s[l];if(ne!=null)switch(l){case"name":d=ne;break;case"type":M=ne;break;case"checked":q=ne;break;case"defaultChecked":Y=ne;break;case"value":E=ne;break;case"defaultValue":L=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,n));break;default:Xe(t,n,l,ne,s,null)}}Yi(t,E,L,q,Y,M,d,!1),Ls(t);return;case"select":Ve("invalid",t),l=M=E=null;for(d in s)if(s.hasOwnProperty(d)&&(L=s[d],L!=null))switch(d){case"value":E=L;break;case"defaultValue":M=L;break;case"multiple":l=L;default:Xe(t,n,d,L,s,null)}n=E,s=M,t.multiple=!!l,n!=null?gr(t,!!l,n,!1):s!=null&&gr(t,!!l,s,!0);return;case"textarea":Ve("invalid",t),E=d=l=null;for(M in s)if(s.hasOwnProperty(M)&&(L=s[M],L!=null))switch(M){case"value":l=L;break;case"defaultValue":d=L;break;case"children":E=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:Xe(t,n,M,L,s,null)}Ki(t,l,d,E),Ls(t);return;case"option":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,n,q,l,s,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Po.length;l++)Ve(Po[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(l=s[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(t,n,Y,l,s,null)}return;default:if(eo(n)){for(ne in s)s.hasOwnProperty(ne)&&(l=s[ne],l!==void 0&&kh(t,n,ne,l,s,void 0));return}}for(L in s)s.hasOwnProperty(L)&&(l=s[L],l!=null&&Xe(t,n,L,l,s,null))}function JE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,E=null,M=null,L=null,q=null,Y=null,ne=null;for(Z in s){var ie=s[Z];if(s.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":q=ie;default:l.hasOwnProperty(Z)||Xe(t,n,Z,null,l,ie)}}for(var X in l){var Z=l[X];if(ie=s[X],l.hasOwnProperty(X)&&(Z!=null||ie!=null))switch(X){case"type":E=Z;break;case"name":d=Z;break;case"checked":Y=Z;break;case"defaultChecked":ne=Z;break;case"value":M=Z;break;case"defaultValue":L=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,n));break;default:Z!==ie&&Xe(t,n,X,Z,l,ie)}}an(t,M,L,q,Y,ne,E,d);return;case"select":Z=M=L=X=null;for(E in s)if(q=s[E],s.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":Z=q;default:l.hasOwnProperty(E)||Xe(t,n,E,null,l,q)}for(d in l)if(E=l[d],q=s[d],l.hasOwnProperty(d)&&(E!=null||q!=null))switch(d){case"value":X=E;break;case"defaultValue":L=E;break;case"multiple":M=E;default:E!==q&&Xe(t,n,d,E,l,q)}n=L,s=M,l=Z,X!=null?gr(t,!!s,X,!1):!!l!=!!s&&(n!=null?gr(t,!!s,n,!0):gr(t,!!s,s?[]:"",!1));return;case"textarea":Z=X=null;for(L in s)if(d=s[L],s.hasOwnProperty(L)&&d!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Xe(t,n,L,null,l,d)}for(M in l)if(d=l[M],E=s[M],l.hasOwnProperty(M)&&(d!=null||E!=null))switch(M){case"value":X=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==E&&Xe(t,n,M,d,l,E)}Ye(t,X,Z);return;case"option":for(var we in s)if(X=s[we],s.hasOwnProperty(we)&&X!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Xe(t,n,we,null,l,X)}for(q in l)if(X=l[q],Z=s[q],l.hasOwnProperty(q)&&X!==Z&&(X!=null||Z!=null))switch(q){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Xe(t,n,q,X,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)X=s[be],s.hasOwnProperty(be)&&X!=null&&!l.hasOwnProperty(be)&&Xe(t,n,be,null,l,X);for(Y in l)if(X=l[Y],Z=s[Y],l.hasOwnProperty(Y)&&X!==Z&&(X!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:Xe(t,n,Y,X,l,Z)}return;default:if(eo(n)){for(var Ze in s)X=s[Ze],s.hasOwnProperty(Ze)&&X!==void 0&&!l.hasOwnProperty(Ze)&&kh(t,n,Ze,void 0,l,X);for(ne in l)X=l[ne],Z=s[ne],!l.hasOwnProperty(ne)||X===Z||X===void 0&&Z===void 0||kh(t,n,ne,X,l,Z);return}}for(var H in s)X=s[H],s.hasOwnProperty(H)&&X!=null&&!l.hasOwnProperty(H)&&Xe(t,n,H,null,l,X);for(ie in l)X=l[ie],Z=s[ie],!l.hasOwnProperty(ie)||X===Z||X==null&&Z==null||Xe(t,n,ie,X,l,Z)}var jh=null,Lh=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ph(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uh=null;function WE(){var t=window.event;return t&&t.type==="popstate"?t===Uh?!1:(Uh=t,!0):(Uh=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(t){return Sy.resolve(null).then(t).catch(nA)}:wy;function nA(t){setTimeout(function(){throw t})}function hi(t){return t==="head"}function Ry(t,n){var s=n,l=0,d=0;do{var E=s.nextSibling;if(t.removeChild(s),E&&E.nodeType===8)if(s=E.data,s==="/$"){if(0<l&&8>l){s=l;var M=t.ownerDocument;if(s&1&&zo(M.documentElement),s&2&&zo(M.body),s&4)for(s=M.head,zo(s),M=s.firstChild;M;){var L=M.nextSibling,q=M.nodeName;M[Fi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&M.rel.toLowerCase()==="stylesheet"||s.removeChild(M),M=L}}if(d===0){t.removeChild(E),Yo(n);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:l=s.charCodeAt(0)-48;else l=0;s=E}while(s);Yo(n)}function zh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zh(s),Qr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function rA(t,n,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(E=t.getAttribute("rel"),E==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(E!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(E=t.getAttribute("src"),(E!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&E&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var E=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===E)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function iA(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function Bh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sA(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var qh=null;function Cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function xy(t,n,s){switch(n=ju(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function zo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qr(t)}var Dn=new Map,Dy=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kr=ae.d;ae.d={f:aA,r:oA,D:lA,C:uA,L:cA,m:fA,X:dA,S:hA,M:mA};function aA(){var t=kr.f(),n=xu();return t||n}function oA(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Kp(n):kr.r(t)}var va=typeof document>"u"?null:document;function Iy(t,n,s){var l=va;if(l&&typeof n=="string"&&n){var d=gt(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Dy.has(d)||(Dy.add(d),t={rel:t,crossOrigin:s,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Pt(n,"link",t),ft(n),l.head.appendChild(n)))}}function lA(t){kr.D(t),Iy("dns-prefetch",t,null)}function uA(t,n){kr.C(t,n),Iy("preconnect",t,n)}function cA(t,n,s){kr.L(t,n,s);var l=va;if(l&&t&&n){var d='link[rel="preload"][as="'+gt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+gt(s.imageSizes)+'"]')):d+='[href="'+gt(t)+'"]';var E=d;switch(n){case"style":E=_a(t);break;case"script":E=ba(t)}Dn.has(E)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Dn.set(E,t),l.querySelector(d)!==null||n==="style"&&l.querySelector(Bo(E))||n==="script"&&l.querySelector(qo(E))||(n=l.createElement("link"),Pt(n,"link",t),ft(n),l.head.appendChild(n)))}}function fA(t,n){kr.m(t,n);var s=va;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',E=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=ba(t)}if(!Dn.has(E)&&(t=T({rel:"modulepreload",href:t},n),Dn.set(E,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qo(E)))return}l=s.createElement("link"),Pt(l,"link",t),ft(l),s.head.appendChild(l)}}}function hA(t,n,s){kr.S(t,n,s);var l=va;if(l&&t){var d=Yt(l).hoistableStyles,E=_a(t);n=n||"default";var M=d.get(E);if(!M){var L={loading:0,preload:null};if(M=l.querySelector(Bo(E)))L.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Dn.get(E))&&$h(t,s);var q=M=l.createElement("link");ft(q),Pt(q,"link",t),q._p=new Promise(function(Y,ne){q.onload=Y,q.onerror=ne}),q.addEventListener("load",function(){L.loading|=1}),q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Pu(M,n,l)}M={type:"stylesheet",instance:M,count:1,state:L},d.set(E,M)}}}function dA(t,n){kr.X(t,n);var s=va;if(s&&t){var l=Yt(s).hoistableScripts,d=ba(t),E=l.get(d);E||(E=s.querySelector(qo(d)),E||(t=T({src:t,async:!0},n),(n=Dn.get(d))&&Fh(t,n),E=s.createElement("script"),ft(E),Pt(E,"link",t),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},l.set(d,E))}}function mA(t,n){kr.M(t,n);var s=va;if(s&&t){var l=Yt(s).hoistableScripts,d=ba(t),E=l.get(d);E||(E=s.querySelector(qo(d)),E||(t=T({src:t,async:!0,type:"module"},n),(n=Dn.get(d))&&Fh(t,n),E=s.createElement("script"),ft(E),Pt(E,"link",t),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},l.set(d,E))}}function Oy(t,n,s,l){var d=(d=Ee.current)?Lu(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=_a(s.href),s=Yt(d).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=_a(s.href);var E=Yt(d).hoistableStyles,M=E.get(t);if(M||(d=d.ownerDocument||d,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(t,M),(E=d.querySelector(Bo(t)))&&!E._p&&(M.instance=E,M.state.loading=5),Dn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Dn.set(t,s),E||pA(d,t,s,M.state))),n&&l===null)throw Error(a(528,""));return M}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ba(s),s=Yt(d).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function _a(t){return'href="'+gt(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function Ny(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function pA(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pt(n,"link",s),ft(n),t.head.appendChild(n))}function ba(t){return'[src="'+gt(t)+'"]'}function qo(t){return"script[async]"+t}function My(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+gt(s.href)+'"]');if(l)return n.instance=l,ft(l),l;var d=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Pt(l,"style",d),Pu(l,s.precedence,t),n.instance=l;case"stylesheet":d=_a(s.href);var E=t.querySelector(Bo(d));if(E)return n.state.loading|=4,n.instance=E,ft(E),E;l=Ny(s),(d=Dn.get(d))&&$h(l,d),E=(t.ownerDocument||t).createElement("link"),ft(E);var M=E;return M._p=new Promise(function(L,q){M.onload=L,M.onerror=q}),Pt(E,"link",l),n.state.loading|=4,Pu(E,s.precedence,t),n.instance=E;case"script":return E=ba(s.src),(d=t.querySelector(qo(E)))?(n.instance=d,ft(d),d):(l=s,(d=Dn.get(E))&&(l=T({},s),Fh(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),ft(d),Pt(d,"link",l),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,s.precedence,t));return n.instance}function Pu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,E=d,M=0;M<l.length;M++){var L=l[M];if(L.dataset.precedence===n)E=L;else if(E!==d)break}E?E.parentNode.insertBefore(t,E.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function $h(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Fh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uu=null;function Vy(t,n,s){if(Uu===null){var l=new Map,d=Uu=new Map;d.set(s,l)}else d=Uu,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var E=s[d];if(!(E[Fi]||E[bt]||t==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var M=E.getAttribute(n)||"";M=t+M;var L=l.get(M);L?L.push(E):l.set(M,[E])}}return l}function ky(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function gA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var $o=null;function yA(){}function vA(t,n,s){if($o===null)throw Error(a(475));var l=$o;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=_a(s.href),E=t.querySelector(Bo(d));if(E){t=E._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=E,ft(E);return}E=t.ownerDocument||t,s=Ny(s),(d=Dn.get(d))&&$h(s,d),E=E.createElement("link"),ft(E);var M=E;M._p=new Promise(function(L,q){M.onload=L,M.onerror=q}),Pt(E,"link",s),n.instance=E}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=zu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function _A(){if($o===null)throw Error(a(475));var t=$o;return t.stylesheets&&t.count===0&&Hh(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Hh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function Hh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,n.forEach(bA,t),Bu=null,zu.call(t))}function bA(t,n){if(!(n.state.loading&4)){var s=Bu.get(t);if(s)var l=s.get(null);else{s=new Map,Bu.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<d.length;E++){var M=d[E];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(s.set(M.dataset.precedence,M),l=M)}l&&s.set(null,l)}d=n.instance,M=d.getAttribute("data-precedence"),E=s.get(M)||l,E===l&&s.set(null,d),s.set(M,d),this.count++,l=zu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),E?E.parentNode.insertBefore(d,E.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Fo={$$typeof:D,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function EA(t,n,s,l,d,E,M,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=E,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Ly(t,n,s,l,d,E,M,L,q,Y,ne,ie){return t=new EA(t,n,s,M,L,q,Y,ie),n=1,E===!0&&(n|=24),E=ln(3,null,null,n),t.current=E,E.stateNode=t,n=Rf(),n.refCount++,t.pooledCache=n,n.refCount++,E.memoizedState={element:l,isDehydrated:s,cache:n},If(E),t}function Py(t){return t?(t=Zs,t):Zs}function Uy(t,n,s,l,d,E){d=Py(d),l.context===null?l.context=d:l.pendingContext=d,l=Wr(n),l.payload={element:s},E=E===void 0?null:E,E!==null&&(l.callback=E),s=ei(t,l,n),s!==null&&(dn(s,t,n),bo(s,t,n))}function zy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Gh(t,n){zy(t,n),(t=t.alternate)&&zy(t,n)}function By(t){if(t.tag===13){var n=Xs(t,67108864);n!==null&&dn(n,t,67108864),Gh(t,67108864)}}var qu=!0;function AA(t,n,s,l){var d=K.T;K.T=null;var E=ae.p;try{ae.p=2,Qh(t,n,s,l)}finally{ae.p=E,K.T=d}}function TA(t,n,s,l){var d=K.T;K.T=null;var E=ae.p;try{ae.p=8,Qh(t,n,s,l)}finally{ae.p=E,K.T=d}}function Qh(t,n,s,l){if(qu){var d=Yh(l);if(d===null)Vh(t,n,l,$u,s),$y(t,l);else if(SA(d,t,n,s,l))l.stopPropagation();else if($y(t,l),n&4&&-1<wA.indexOf(t)){for(;d!==null;){var E=Un(d);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var M=On(E.pendingLanes);if(M!==0){var L=E;for(L.pendingLanes|=2,L.entangledLanes|=2;M;){var q=1<<31-qt(M);L.entanglements[1]|=q,M&=~q}Wn(E),(Ge&6)===0&&(Ru=yn()+500,Lo(0))}}break;case 13:L=Xs(E,2),L!==null&&dn(L,E,2),xu(),Gh(E,2)}if(E=Yh(l),E===null&&Vh(t,n,l,$u,s),E===d)break;d=E}d!==null&&l.stopPropagation()}else Vh(t,n,l,null,s)}}function Yh(t){return t=bn(t),Kh(t)}var $u=null;function Kh(t){if($u=null,t=dr(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=h(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return $u=t,null}function qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zc()){case Ba:return 2;case Ds:return 8;case Ui:case Jc:return 32;case Is:return 268435456;default:return 32}default:return 32}}var Xh=!1,di=null,mi=null,pi=null,Ho=new Map,Go=new Map,gi=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(t,n){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(n.pointerId)}}function Qo(t,n,s,l,d,E){return t===null||t.nativeEvent!==E?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:E,targetContainers:[d]},n!==null&&(n=Un(n),n!==null&&By(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function SA(t,n,s,l,d){switch(n){case"focusin":return di=Qo(di,t,n,s,l,d),!0;case"dragenter":return mi=Qo(mi,t,n,s,l,d),!0;case"mouseover":return pi=Qo(pi,t,n,s,l,d),!0;case"pointerover":var E=d.pointerId;return Ho.set(E,Qo(Ho.get(E)||null,t,n,s,l,d)),!0;case"gotpointercapture":return E=d.pointerId,Go.set(E,Qo(Go.get(E)||null,t,n,s,l,d)),!0}return!1}function Fy(t){var n=dr(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){t.blockedOn=n,xl(t.priority,function(){if(s.tag===13){var l=hn();l=Fr(l);var d=Xs(s,l);d!==null&&dn(d,s,l),Gh(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Yh(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);yr=l,s.target.dispatchEvent(l),yr=null}else return n=Un(s),n!==null&&By(n),t.blockedOn=s,!1;n.shift()}return!0}function Hy(t,n,s){Fu(t)&&s.delete(n)}function RA(){Xh=!1,di!==null&&Fu(di)&&(di=null),mi!==null&&Fu(mi)&&(mi=null),pi!==null&&Fu(pi)&&(pi=null),Ho.forEach(Hy),Go.forEach(Hy)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,Xh||(Xh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,RA)))}var Gu=null;function Gy(t){Gu!==t&&(Gu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],d=t[n+2];if(typeof l!="function"){if(Kh(l||s)===null)continue;break}var E=Un(s);E!==null&&(t.splice(n,3),n-=3,Kf(E,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function Yo(t){function n(q){return Hu(q,t)}di!==null&&Hu(di,t),mi!==null&&Hu(mi,t),pi!==null&&Hu(pi,t),Ho.forEach(n),Go.forEach(n);for(var s=0;s<gi.length;s++){var l=gi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gi.length&&(s=gi[0],s.blockedOn===null);)Fy(s),s.blockedOn===null&&gi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],E=s[l+1],M=d[pt]||null;if(typeof E=="function")M||Gy(s);else if(M){var L=null;if(E&&E.hasAttribute("formAction")){if(d=E,M=E[pt]||null)L=M.formAction;else if(Kh(d)!==null)continue}else L=M.action;typeof L=="function"?s[l+1]=L:(s.splice(l,3),l-=3),Gy(s)}}}function Zh(t){this._internalRoot=t}Qu.prototype.render=Zh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=hn();Uy(s,l,t,n,null,null)},Qu.prototype.unmount=Zh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Uy(t.current,2,null,t,null,null),xu(),n[vn]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Hr();t={blockedOn:null,target:t,priority:n};for(var s=0;s<gi.length&&n!==0&&n<gi[s].priority;s++);gi.splice(s,0,t),s===0&&Fy(t)}};var Qy=e.version;if(Qy!=="19.1.0")throw Error(a(527,Qy,"19.1.0"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var CA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{lt=Yu.inject(CA),He=Yu}catch{}}return Xo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",d=ug,E=cg,M=fg,L=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(L=n.unstable_transitionCallbacks)),n=Ly(t,1,!1,null,null,s,l,d,E,M,L,null),t[vn]=n.current,Mh(t),new Zh(n)},Xo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,d="",E=ug,M=cg,L=fg,q=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(M=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(q=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),n=Ly(t,1,!0,n,s??null,l,d,E,M,L,q,Y),n.context=Py(null),s=n.current,l=hn(),l=Fr(l),d=Wr(l),d.callback=null,ei(s,d,l),s=l,n.current.lanes=s,hr(n,s),Wn(n),t[vn]=n.current,Mh(t),new Qu(n)},Xo.version="19.1.0",Xo}var rv;function LA(){if(rv)return ed.exports;rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ed.exports=jA(),ed.exports}var PA=LA();const UA=Hd(PA);var Zo={},iv;function zA(){if(iv)return Zo;iv=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.parse=h,Zo.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function h(p,b){const g=new u,v=p.length;if(v<2)return g;const S=(b==null?void 0:b.decode)||T;let A=0;do{const R=p.indexOf("=",A);if(R===-1)break;const D=p.indexOf(";",A),V=D===-1?v:D;if(R>V){A=p.lastIndexOf(";",R-1)+1;continue}const k=c(p,A,R),z=_(p,R,k),N=p.slice(k,z);if(g[N]===void 0){let w=c(p,R+1,V),x=_(p,V,w);const I=S(p.slice(w,x));g[N]=I}A=V+1}while(A<v);return g}function c(p,b,g){do{const v=p.charCodeAt(b);if(v!==32&&v!==9)return b}while(++b<g);return g}function _(p,b,g){for(;b>g;){const v=p.charCodeAt(--b);if(v!==32&&v!==9)return b+1}return g}function y(p,b,g){const v=(g==null?void 0:g.encode)||encodeURIComponent;if(!i.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=v(b);if(!e.test(S))throw new TypeError(`argument val is invalid: ${b}`);let A=p+"="+S;if(!g)return A;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);A+="; Max-Age="+g.maxAge}if(g.domain){if(!r.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);A+="; Domain="+g.domain}if(g.path){if(!a.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);A+="; Path="+g.path}if(g.expires){if(!m(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);A+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(A+="; HttpOnly"),g.secure&&(A+="; Secure"),g.partitioned&&(A+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return A}function T(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return o.call(p)==="[object Date]"}return Zo}zA();var sv="popstate";function BA(i={}){function e(a,o){let{pathname:u,search:h,hash:c}=a.location;return _d("",{pathname:u,search:h,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:ll(o)}return $A(e,r,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function sr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qA(){return Math.random().toString(36).substring(2,10)}function av(i,e){return{usr:i.state,key:i.key,idx:e}}function _d(i,e,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:r,key:e&&e.key||a||qA()}}function ll({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Va(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function $A(i,e,r,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,c="POP",_=null,y=T();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function T(){return(h.state||{idx:null}).idx}function m(){c="POP";let S=T(),A=S==null?null:S-y;y=S,_&&_({action:c,location:v.location,delta:A})}function p(S,A){c="PUSH";let R=_d(v.location,S,A);y=T()+1;let D=av(R,y),V=v.createHref(R);try{h.pushState(D,"",V)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(V)}u&&_&&_({action:c,location:v.location,delta:1})}function b(S,A){c="REPLACE";let R=_d(v.location,S,A);y=T();let D=av(R,y),V=v.createHref(R);h.replaceState(D,"",V),u&&_&&_({action:c,location:v.location,delta:0})}function g(S){let A=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof S=="string"?S:ll(S);return R=R.replace(/ $/,"%20"),at(A,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,A)}let v={get action(){return c},get location(){return i(o,h)},listen(S){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(sv,m),_=S,()=>{o.removeEventListener(sv,m),_=null}},createHref(S){return e(o,S)},createURL:g,encodeLocation(S){let A=g(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:b,go(S){return h.go(S)}};return v}function I_(i,e,r="/"){return FA(i,e,r,!1)}function FA(i,e,r,a){let o=typeof e=="string"?Va(e):e,u=Lr(o.pathname||"/",r);if(u==null)return null;let h=O_(i);HA(h);let c=null;for(let _=0;c==null&&_<h.length;++_){let y=nT(u);c=eT(h[_],y,a)}return c}function O_(i,e=[],r=[],a=""){let o=(u,h,c)=>{let _={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};_.relativePath.startsWith("/")&&(at(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length));let y=jr([a,_.relativePath]),T=r.concat(_);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),O_(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:JA(y,u.index),routesMeta:T})};return i.forEach((u,h)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,h);else for(let _ of N_(u.path))o(u,h,_)}),e}function N_(i){let e=i.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=N_(a.join("/")),c=[];return c.push(...h.map(_=>_===""?u:[u,_].join("/"))),o&&c.push(...h),c.map(_=>i.startsWith("/")&&_===""?"/":_)}function HA(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:WA(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var GA=/^:[\w-]+$/,QA=3,YA=2,KA=1,XA=10,ZA=-2,ov=i=>i==="*";function JA(i,e){let r=i.split("/"),a=r.length;return r.some(ov)&&(a+=ZA),e&&(a+=YA),r.filter(o=>!ov(o)).reduce((o,u)=>o+(GA.test(u)?QA:u===""?KA:XA),a)}function WA(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function eT(i,e,r=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let c=0;c<a.length;++c){let _=a[c],y=c===a.length-1,T=u==="/"?e:e.slice(u.length)||"/",m=fc({path:_.relativePath,caseSensitive:_.caseSensitive,end:y},T),p=_.route;if(!m&&y&&r&&!a[a.length-1].route.index&&(m=fc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},T)),!m)return null;Object.assign(o,m.params),h.push({params:o,pathname:jr([u,m.pathname]),pathnameBase:aT(jr([u,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(u=jr([u,m.pathnameBase]))}return h}function fc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=tT(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((y,{paramName:T,isOptional:m},p)=>{if(T==="*"){let g=c[p]||"";h=u.slice(0,u.length-g.length).replace(/(.)\/+$/,"$1")}const b=c[p];return m&&!b?y[T]=void 0:y[T]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function tT(i,e=!1,r=!0){sr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,c,_)=>(a.push({paramName:c,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function nT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Lr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function rT(i,e="/"){let{pathname:r,search:a="",hash:o=""}=typeof i=="string"?Va(i):i;return{pathname:r?r.startsWith("/")?r:iT(r,e):e,search:oT(a),hash:lT(o)}}function iT(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function id(i,e,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sT(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function M_(i){let e=sT(i);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function V_(i,e,r,a=!1){let o;typeof i=="string"?o=Va(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,c;if(h==null)c=r;else{let m=e.length-1;if(!a&&h.startsWith("..")){let p=h.split("/");for(;p[0]==="..";)p.shift(),m-=1;o.pathname=p.join("/")}c=m>=0?e[m]:"/"}let _=rT(o,c),y=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(y||T)&&(_.pathname+="/"),_}var jr=i=>i.join("/").replace(/\/\/+/g,"/"),aT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),oT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function uT(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var k_=["POST","PUT","PATCH","DELETE"];new Set(k_);var cT=["GET",...k_];new Set(cT);var ka=te.createContext(null);ka.displayName="DataRouter";var xc=te.createContext(null);xc.displayName="DataRouterState";var j_=te.createContext({isTransitioning:!1});j_.displayName="ViewTransition";var fT=te.createContext(new Map);fT.displayName="Fetchers";var hT=te.createContext(null);hT.displayName="Await";var ur=te.createContext(null);ur.displayName="Navigation";var yl=te.createContext(null);yl.displayName="Location";var qr=te.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var Qd=te.createContext(null);Qd.displayName="RouteError";function dT(i,{relative:e}={}){at(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=te.useContext(ur),{hash:o,pathname:u,search:h}=_l(i,{relative:e}),c=u;return r!=="/"&&(c=u==="/"?r:jr([r,u])),a.createHref({pathname:c,search:h,hash:o})}function vl(){return te.useContext(yl)!=null}function Rs(){return at(vl(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(yl).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P_(i){te.useContext(ur).static||te.useLayoutEffect(i)}function Yd(){let{isDataRoute:i}=te.useContext(qr);return i?RT():mT()}function mT(){at(vl(),"useNavigate() may be used only in the context of a <Router> component.");let i=te.useContext(ka),{basename:e,navigator:r}=te.useContext(ur),{matches:a}=te.useContext(qr),{pathname:o}=Rs(),u=JSON.stringify(M_(a)),h=te.useRef(!1);return P_(()=>{h.current=!0}),te.useCallback((_,y={})=>{if(sr(h.current,L_),!h.current)return;if(typeof _=="number"){r.go(_);return}let T=V_(_,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:jr([e,T.pathname])),(y.replace?r.replace:r.push)(T,y.state,y)},[e,r,u,o,i])}te.createContext(null);function _l(i,{relative:e}={}){let{matches:r}=te.useContext(qr),{pathname:a}=Rs(),o=JSON.stringify(M_(r));return te.useMemo(()=>V_(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function pT(i,e){return U_(i,e)}function U_(i,e,r,a){var R;at(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=te.useContext(ur),{matches:h}=te.useContext(qr),c=h[h.length-1],_=c?c.params:{},y=c?c.pathname:"/",T=c?c.pathnameBase:"/",m=c&&c.route;{let D=m&&m.path||"";z_(y,!m||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let p=Rs(),b;if(e){let D=typeof e=="string"?Va(e):e;at(T==="/"||((R=D.pathname)==null?void 0:R.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=p;let g=b.pathname||"/",v=g;if(T!=="/"){let D=T.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=!u&&r&&r.matches&&r.matches.length>0?r.matches:I_(i,{pathname:v});sr(m||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),sr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=bT(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},_,D.params),pathname:jr([T,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?T:jr([T,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,r,a);return e&&A?te.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function gT(){let i=ST(),e=uT(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=te.createElement(te.Fragment,null,te.createElement("p",null,"💿 Hey developer 👋"),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:u},"ErrorBoundary")," or"," ",te.createElement("code",{style:u},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),r?te.createElement("pre",{style:o},r):null,h)}var yT=te.createElement(gT,null),vT=class extends te.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?te.createElement(qr.Provider,{value:this.props.routeContext},te.createElement(Qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _T({routeContext:i,match:e,children:r}){let a=te.useContext(ka);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(qr.Provider,{value:i},r)}function bT(i,e=[],r=null,a=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let _=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);at(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,_+1))}let h=!1,c=-1;if(r)for(let _=0;_<o.length;_++){let y=o[_];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(c=_),y.route.id){let{loaderData:T,errors:m}=r,p=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!m||m[y.route.id]===void 0);if(y.route.lazy||p){h=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((_,y,T)=>{let m,p=!1,b=null,g=null;r&&(m=u&&y.route.id?u[y.route.id]:void 0,b=y.route.errorElement||yT,h&&(c<0&&T===0?(z_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):c===T&&(p=!0,g=y.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,T+1)),S=()=>{let A;return m?A=b:p?A=g:y.route.Component?A=te.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=_,te.createElement(_T,{match:y,routeContext:{outlet:_,matches:v,isDataRoute:r!=null},children:A})};return r&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?te.createElement(vT,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}function Kd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(i){let e=te.useContext(ka);return at(e,Kd(i)),e}function AT(i){let e=te.useContext(xc);return at(e,Kd(i)),e}function TT(i){let e=te.useContext(qr);return at(e,Kd(i)),e}function Xd(i){let e=TT(i),r=e.matches[e.matches.length-1];return at(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function wT(){return Xd("useRouteId")}function ST(){var a;let i=te.useContext(Qd),e=AT("useRouteError"),r=Xd("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[r]}function RT(){let{router:i}=ET("useNavigate"),e=Xd("useNavigate"),r=te.useRef(!1);return P_(()=>{r.current=!0}),te.useCallback(async(o,u={})=>{sr(r.current,L_),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var lv={};function z_(i,e,r){!e&&!lv[i]&&(lv[i]=!0,sr(!1,r))}te.memo(CT);function CT({routes:i,future:e,state:r}){return U_(i,void 0,r,e)}function vi(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xT({basename:i="/",children:e=null,location:r,navigationType:a="POP",navigator:o,static:u=!1}){at(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),c=te.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof r=="string"&&(r=Va(r));let{pathname:_="/",search:y="",hash:T="",state:m=null,key:p="default"}=r,b=te.useMemo(()=>{let g=Lr(_,h);return g==null?null:{location:{pathname:g,search:y,hash:T,state:m,key:p},navigationType:a}},[h,_,y,T,m,p,a]);return sr(b!=null,`<Router basename="${h}"> is not able to match the URL "${_}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:te.createElement(ur.Provider,{value:c},te.createElement(yl.Provider,{children:e,value:b}))}function DT({children:i,location:e}){return pT(bd(i),e)}function bd(i,e=[]){let r=[];return te.Children.forEach(i,(a,o)=>{if(!te.isValidElement(a))return;let u=[...e,o];if(a.type===te.Fragment){r.push.apply(r,bd(a.props.children,u));return}at(a.type===vi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=bd(a.props.children,u)),r.push(h)}),r}var nc="get",rc="application/x-www-form-urlencoded";function Dc(i){return i!=null&&typeof i.tagName=="string"}function IT(i){return Dc(i)&&i.tagName.toLowerCase()==="button"}function OT(i){return Dc(i)&&i.tagName.toLowerCase()==="form"}function NT(i){return Dc(i)&&i.tagName.toLowerCase()==="input"}function MT(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function VT(i,e){return i.button===0&&(!e||e==="_self")&&!MT(i)}var Ku=null;function kT(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var jT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(i){return i!=null&&!jT.has(i)?(sr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):i}function LT(i,e){let r,a,o,u,h;if(OT(i)){let c=i.getAttribute("action");a=c?Lr(c,e):null,r=i.getAttribute("method")||nc,o=sd(i.getAttribute("enctype"))||rc,u=new FormData(i)}else if(IT(i)||NT(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=i.getAttribute("formaction")||c.getAttribute("action");if(a=_?Lr(_,e):null,r=i.getAttribute("formmethod")||c.getAttribute("method")||nc,o=sd(i.getAttribute("formenctype"))||sd(c.getAttribute("enctype"))||rc,u=new FormData(c,i),!kT()){let{name:y,type:T,value:m}=i;if(T==="image"){let p=y?`${y}.`:"";u.append(`${p}x`,"0"),u.append(`${p}y`,"0")}else y&&u.append(y,m)}}else{if(Dc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=nc,a=null,o=rc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:u,body:h}}function Zd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function PT(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function zT(i,e,r){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await PT(u,r);return h.links?h.links():[]}return[]}));return FT(a.flat(1).filter(UT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uv(i,e,r,a,o,u){let h=(_,y)=>r[y]?_.route.id!==r[y].route.id:!0,c=(_,y)=>{var T;return r[y].pathname!==_.pathname||((T=r[y].route.path)==null?void 0:T.endsWith("*"))&&r[y].params["*"]!==_.params["*"]};return u==="assets"?e.filter((_,y)=>h(_,y)||c(_,y)):u==="data"?e.filter((_,y)=>{var m;let T=a.routes[_.route.id];if(!T||!T.hasLoader)return!1;if(h(_,y)||c(_,y))return!0;if(_.route.shouldRevalidate){let p=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(i,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function BT(i,e,{includeHydrateFallback:r}={}){return qT(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qT(i){return[...new Set(i)]}function $T(i){let e={},r=Object.keys(i).sort();for(let a of r)e[a]=i[a];return e}function FT(i,e){let r=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify($T(o));return r.has(u)||(r.add(u),a.push({key:u,link:o})),a},[])}var HT=new Set([100,101,204,205]);function GT(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&Lr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function B_(){let i=te.useContext(ka);return Zd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function QT(){let i=te.useContext(xc);return Zd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jd=te.createContext(void 0);Jd.displayName="FrameworkContext";function q_(){let i=te.useContext(Jd);return Zd(i,"You must render this element inside a <HydratedRouter> element"),i}function YT(i,e){let r=te.useContext(Jd),[a,o]=te.useState(!1),[u,h]=te.useState(!1),{onFocus:c,onBlur:_,onMouseEnter:y,onMouseLeave:T,onTouchStart:m}=e,p=te.useRef(null);te.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let v=A=>{A.forEach(R=>{h(R.isIntersecting)})},S=new IntersectionObserver(v,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[i]),te.useEffect(()=>{if(a){let v=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(v)}}},[a]);let b=()=>{o(!0)},g=()=>{o(!1),h(!1)};return r?i!=="intent"?[u,p,{}]:[u,p,{onFocus:Jo(c,b),onBlur:Jo(_,g),onMouseEnter:Jo(y,b),onMouseLeave:Jo(T,g),onTouchStart:Jo(m,b)}]:[!1,p,{}]}function Jo(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function KT({page:i,...e}){let{router:r}=B_(),a=te.useMemo(()=>I_(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?te.createElement(ZT,{page:i,matches:a,...e}):null}function XT(i){let{manifest:e,routeModules:r}=q_(),[a,o]=te.useState([]);return te.useEffect(()=>{let u=!1;return zT(i,e,r).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,r]),a}function ZT({page:i,matches:e,...r}){let a=Rs(),{manifest:o,routeModules:u}=q_(),{basename:h}=B_(),{loaderData:c,matches:_}=QT(),y=te.useMemo(()=>uv(i,e,_,o,a,"data"),[i,e,_,o,a]),T=te.useMemo(()=>uv(i,e,_,o,a,"assets"),[i,e,_,o,a]),m=te.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let g=new Set,v=!1;if(e.forEach(A=>{var D;let R=o.routes[A.route.id];!R||!R.hasLoader||(!y.some(V=>V.route.id===A.route.id)&&A.route.id in c&&((D=u[A.route.id])!=null&&D.shouldRevalidate)||R.hasClientLoader?v=!0:g.add(A.route.id))}),g.size===0)return[];let S=GT(i,h);return v&&g.size>0&&S.searchParams.set("_routes",e.filter(A=>g.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[h,c,a,o,y,e,i,u]),p=te.useMemo(()=>BT(T,o),[T,o]),b=XT(T);return te.createElement(te.Fragment,null,m.map(g=>te.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),p.map(g=>te.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),b.map(({key:g,link:v})=>te.createElement("link",{key:g,...v})))}function JT(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var $_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$_&&(window.__reactRouterVersion="7.5.3")}catch{}function WT({basename:i,children:e,window:r}){let a=te.useRef();a.current==null&&(a.current=BA({window:r,v5Compat:!0}));let o=a.current,[u,h]=te.useState({action:o.action,location:o.location}),c=te.useCallback(_=>{te.startTransition(()=>h(_))},[h]);return te.useLayoutEffect(()=>o.listen(c),[o,c]),te.createElement(xT,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var F_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=te.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:c,target:_,to:y,preventScrollReset:T,viewTransition:m,...p},b){let{basename:g}=te.useContext(ur),v=typeof y=="string"&&F_.test(y),S,A=!1;if(typeof y=="string"&&v&&(S=y,$_))try{let x=new URL(window.location.href),I=y.startsWith("//")?new URL(x.protocol+y):new URL(y),j=Lr(I.pathname,g);I.origin===x.origin&&j!=null?y=j+I.search+I.hash:A=!0}catch{sr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=dT(y,{relative:o}),[D,V,k]=YT(a,p),z=r1(y,{replace:h,state:c,target:_,preventScrollReset:T,relative:o,viewTransition:m});function N(x){e&&e(x),x.defaultPrevented||z(x)}let w=te.createElement("a",{...p,...k,href:S||R,onClick:A||u?e:N,ref:JT(b,V),target:_,"data-discover":!v&&r==="render"?"true":void 0});return D&&!v?te.createElement(te.Fragment,null,w,te.createElement(KT,{page:R})):w});pn.displayName="Link";var e1=te.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:c,children:_,...y},T){let m=_l(h,{relative:y.relative}),p=Rs(),b=te.useContext(xc),{navigator:g,basename:v}=te.useContext(ur),S=b!=null&&l1(m)&&c===!0,A=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,R=p.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(R=R.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&v&&(D=Lr(D,v)||D);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let k=R===A||!o&&R.startsWith(A)&&R.charAt(V)==="/",z=D!=null&&(D===A||!o&&D.startsWith(A)&&D.charAt(A.length)==="/"),N={isActive:k,isPending:z,isTransitioning:S},w=k?e:void 0,x;typeof a=="function"?x=a(N):x=[a,k?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return te.createElement(pn,{...y,"aria-current":w,className:x,ref:T,style:I,to:h,viewTransition:c},typeof _=="function"?_(N):_)});e1.displayName="NavLink";var t1=te.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:o,state:u,method:h=nc,action:c,onSubmit:_,relative:y,preventScrollReset:T,viewTransition:m,...p},b)=>{let g=a1(),v=o1(c,{relative:y}),S=h.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&F_.test(c),R=D=>{if(_&&_(D),D.defaultPrevented)return;D.preventDefault();let V=D.nativeEvent.submitter,k=(V==null?void 0:V.getAttribute("formmethod"))||h;g(V||D.currentTarget,{fetcherKey:e,method:k,navigate:r,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:m})};return te.createElement("form",{ref:b,method:S,action:v,onSubmit:a?_:R,...p,"data-discover":!A&&i==="render"?"true":void 0})});t1.displayName="Form";function n1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(i){let e=te.useContext(ka);return at(e,n1(i)),e}function r1(i,{target:e,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let c=Yd(),_=Rs(),y=_l(i,{relative:u});return te.useCallback(T=>{if(VT(T,e)){T.preventDefault();let m=r!==void 0?r:ll(_)===ll(y);c(i,{replace:m,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[_,c,y,r,a,e,i,o,u,h])}var i1=0,s1=()=>`__${String(++i1)}__`;function a1(){let{router:i}=H_("useSubmit"),{basename:e}=te.useContext(ur),r=wT();return te.useCallback(async(a,o={})=>{let{action:u,method:h,encType:c,formData:_,body:y}=LT(a,e);if(o.navigate===!1){let T=o.fetcherKey||s1();await i.fetch(T,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:y,formMethod:o.method||h,formEncType:o.encType||c,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:y,formMethod:o.method||h,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function o1(i,{relative:e}={}){let{basename:r}=te.useContext(ur),a=te.useContext(qr);at(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={..._l(i||".",{relative:e})},h=Rs();if(i==null){u.search=h.search;let c=new URLSearchParams(u.search),_=c.getAll("index");if(_.some(T=>T==="")){c.delete("index"),_.filter(m=>m).forEach(m=>c.append("index",m));let T=c.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:jr([r,u.pathname])),ll(u)}function l1(i,e={}){let r=te.useContext(j_);at(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=H_("useViewTransitionState"),o=_l(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=Lr(r.currentLocation.pathname,a)||r.currentLocation.pathname,h=Lr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return fc(o.pathname,h)!=null||fc(o.pathname,u)!=null}new TextEncoder;[...HT];const u1="/webbshop-Julia/assets/logo-ClHMxlnj.svg",c1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABCCAYAAAAL1LXDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1kSURBVHgB7Vt7cF1FGd/dc+659zY3SZs2k1QCTaE+JjMyxQDOqEgQFB1HC0xbVEBaoaBTpTz+0T9oAjNqZxxpoWiRIq0wKrSW1iKKY4WiDC3FDu2gCUKghYamTUpuk5v7OM/1+/bsnuy9SdskvQk045fZ7Dn7/u332G93z6VkgonfvLWFGMaNhJMWeG2UyQch7CPc/yMxyE760NUHySQRJRNEAig1WqGHllMWpmQjsf176MaJB152wJxzSm59+j54vL00z+P+ixib1PjcCaqvIY5//0QCLytgvmTrdBIzNkCrV+npTuC+1J5+92eX/PXulwYHB8nGy+46+6vnfOobM2IV1xqMnV3SykESBEvpI1e/gC+kzFQ2wMhZvmz7VsroApXmk+DQriMdd33pb/fuhnxWKBRYIpEgECMQnkwm/X0L7lt0bmX9ncD1hqIGA95GH1lwDykzlQsw9ZdtXc2osUIl2L7TfsvL67755Jsv5mzbpvF4nGBMhnMtgOD9d/G6a86tLgYecH6/sX7BHaSMnC4LYP+WbXcwwu5T7335zJaZj1/3Q3g09GIkHLjqk+GznAgOsb/q4uvrl553+YpqK7VIq7etfzDznem/u+44KQPw0wVMjy/9w9zqmPWWSij4Tkfy1wtRrE0ICCQAQC6Ir0cpRdAkl8tREG0TxBwnxIR8BI9gkNtu1w0bV5yVrNGMHt3Xbwx8Yfq60wfNyPgJJ4tWmdZzKsHh3ns/3bdpOTyaCBRiD8DkU6lUNp/PZyEtC0AHIT0LepyFPBT3PFaV5XE8VsPjS9ZueXf3l0GkB8KW+fxKN7WalIFOC7Bz01NLKCVzVMJrfQcfXPXatqOKq9OmTctVVVVlwTIjqHw6nS7U19cX8BlCToYsxlDehtiTTcUWPvuTt7a8vevagISgGaM3ujdvW0NOUyrHC5h2fPvBGSYzV6qEnkL/1gu33LnNcRwfRNeBpDyIbn5gYAAB2osWLcI0d/HixQjKhYDvEfjKysocTFBepqPos8V/X/Xmjvf236r6MBm7DewFivq4QY8LcFtbGz3Xmr1C5+79Hc/8AjiLOusyxhSQQktLiwPlvc2bNyOIAJ5BUjmXoAT4pqamQiaTwQlCjudB7FHEfQjsymdWvvJ25si9QwNmK7NLn7gAQYfNjI3GM1MUBhj792dXvaEA99uDO6b/5ls/kACUuKKIumTIOo84Oly/kRBLY2OjCRJh9fX1xeEd8MYtkHQ0bMHxJU+uq7aSX5TVDnb5Pc0Nj9yUhqpjQj0mDssZZbsvbr1R5+6r7x/YRkILiyCFCDc3NwuwkpsnHBQOWJIPgD0Aa9fW1gqdl3otOP3Af/70Yz8IMrJaYx2d2SYnakw01gpYPhYs2x5xFy1zfP01V4AYguEt5GbNmpU/duyYMkABGRsJTkMw6urqYiDhCc/zkmDhLQBtvrHwl8vPqai9TRUuuIXLkxsWP49zOlpOj5rDYlMA5Q/d8OgFOnfThcFXIEJDJfQRgGOsODtWUmux19DQ4IBe24ZhKNUIVvzz4cd8HnGZxM34SjCGbCyMHjVg2ahRF5/xfT29I/3ODgQJA0Pr6nR1dQnOjlW3NBIqsHfvXuGEWJZlV1RUODihfzm6b6BrsHejNqZL16cWXkbGYMBGC5iiZYbYAF/3Ej1j9f6nXwZR9mCtVQYqGB9zi0hx2od13Mlmszb04YJKBzu69z+nF0wZ8bsRx2j1edQcBsDGrqtXN+rinHft17cf2oPunhBjOUh+GtzVSSxdF110kQv6rNZtb/mu9e15z35dFYLt5ee7r9twwWixnHJW+PwN0z2zcLsXeC28tqIxOWdWBPj9Iz2Z9IHu/hSL8yqWDOLMxAHwMZuqk1AA2uEC9nzg0MGgwHKBTWbObaieWV9bqcp4xzL7/XeOv8ANa01yz7IDJ2vvpID5hb9qhagN3Dtic48YDdXEqquO8nsPvEfyR/tJpREnSRYjFjVhmst7iIKmEnQEAYuQg2DOqCBnfXxuVMbPFIj3Ri+JUQNcUKON7ll2wn10kRhIS4xEefPDGxBsqExcBDbNKqrs5ApwXMNgD8gE0HEsi6ckKgPYDgEIg5stFJUxKhN4fAQTA6MM/DY59vBQYgiToAiw9HjEauIjZylfInPEDMNygApT1JFnu8RAwABUcLbsBzKie5xKmFQqQOPk+tBv4PnFxSwj7B7GwmmwxG9+aA0yoNSeDFP0nk+uPQ8SW/U05C4CpoZR3InjiYGwcC9PJpIoCSdVTa5rO0X5HozSx5HiCoFlKF2RP39t44gc1jwVY1bcWqkXCO0PF39OLh+l29l8OAjgMEoyE7NJJoSExxOCEBKFauRpgFHS3IItJBHFmshlMRaL3QG4mA5aAJa6h5sCYCGdr3fGpf7iX3/3sSg98APB2ZC3VBWeMAp9ztBeIOjAG1oKcukBuTvhWmksT7+OmBCfAs309trb201GyfnDeuMhllz/IITQs8MZRvGiE6W7pRTqowhCmmSyW3BI3+FewdlAQqZDVebA7gv1kEnQRTrMampqzGH9kCFRxbj30BHxbA/mRcM42/oAJoxQ7VA9echpz3FFcu+hbuKBOMt1goTHokMcAFcXMTHpKYbyjQ44jh22ZkZpP1T+Z9JS2pkc6Vw6h6RXflqAnTySI5GT2/ujZjGOTG+fGAcyI1RMSkqm35w3bx4CxmeOrOa9vb109uzZOHpz5K6o0B0LPKkYxKi/wlDJSZiI9Xf4GIgUZyYCJgS+H63PhtRvyos1DI6ODLwAiJqQ6cjZBJwuVmQ+8fOjekfhWUxACoErAnpcaATRUiZgAuIUPCxmaAI1cYQ6CvtvMQ70uFzQW5zwOHh5CfDyEhArFVOoUx131sPmAw2P8MWFTMLphJgB2PGMMGIe7vphFi0I2CgCRG4LR0CK0CRosSAhbQBKgUT/HceGY4lsicZiAKucNVHd1F/ICN5DuOCH4mtBJzQAfoPcIFBTLhGTSUx6XEgGC50eU67NVKnX8FUjwmVKpwOfOWy0T9iRMAzoTzMqrGCoFCx0/egkcZdKgDx0RHAhUmnCARIoiusgJrj1oHDsFK7DarBwFkWB/SN3JP/C2WWhkZAiNClLkkZiOaGhZMUoGlFDjKnIAdJI7RFAbaP6Jz1VVDRkJYcWf0YnT3fFGDiJrEW0/p9iHGoVwmeUZnOsHYqYfLCkvLvRuLQotXDsi2dkPBT/iHllOZb5UBJwOHpm6jhVsX2qkTTEQ7slZC3c/wg9hsusKQdarsNotEIrjQyGA28h1nDSP+XEGpiIOkxAh8W78BpQockUJd02RdtDEGnxTj54A1x2QiuNazGuw8pKk507d1JkO5mcrfykE3hZHHZNApupWD6VrTTqsSKxDku3a0pyV7nLKMUEDwCIBvRkm4czmaTjEd7mkylOJY4HLTpBl4v0lCIp0oK70bKEi/JUttJEO9xQRzyRlYYrlS4yRQjOvjrIkARHOiy2TriFwoTjQXYPmSKU5U67fOToXAnHQ32ewPAiGzJ2Zd55ikwR2pU5sJVIzuJ+Qekw7pZIEARinfpa59o9x7zB58kZToe9/u2A5RWw0ryuro6r/QKVZz4IPAEhCaHqisqmjzz9seWb4Bh0NjkDCc7OD1/19sPXPpve3w2v/ST8gBXPpYPoTKuhoQGv48Q3Uv+wO4/f3vXE9951+v5MzjBKe9lXr3zrgesBbJrIj+MaGxujZUn/Oh3Pt5DLKQiVcLda4bpu/Pdzb7ns0qrzvlJrVs6H8+AU+RCSx/3BAb/Qubl/76PfPfDbf5Hw88cs+NCZRCKRxU+W8Sve1tZWobdUnk3j6TZ+xDENCk2D+5gUgE4CaEwTN3CfmfHR1DxzZsqAmwcfDuQxRip91kkvq/JK640Uj1S/tH2V91jv7iOmaWKG73keiq76DhuD/kny0M043K6xTZs2mXBHjFzGgD4ZbjPwy9YYtg+NivLQKIVnjPFV7aP1mGC+fMdy+l6by7pF6yPmQzrX0ol6xxjzsT/Vr2yfy2eMA2CQDQyyJUgFVn33KVQ3rCUPq+Ha1IdjHgcukcUvUMAt47IwgsabdAMaDEcHBB0QeB/RO5OTISYAyylQWL40T7Up0yNSlwR6unrW0gRYiH1oR3x0DpY5D2NHsR72+bLuOyv3S+lzDG4TE3DBZoGIx0DEYzKPWpZFHMeJ6sr3aAAl7xE4PcYySFBOL6/axjSKsVYf++GqnAIgf26Az/hDEhe4bcMkOnDXLb7AJ/JTSLXvL9osSE7jkY/R09PD0um02d3djUBNAG8AeEZKLt1wcx1+yF78XJoPsQBaml9aFqmkDC/pT28H78M4cFOtMAjQUwHwBKq+AmyWgOUyFt9Ngo+NDfqdnZ0MYiavU0WoqakhMIsEf2mGg4BjFPHzHJWOhM9qkPIyayR9j7iF9eGOiyMYqEtVO5iv3rE/mc5V21L1FGj1gSvX8IxuU4SGjMj7Kzk5QtRlsFQMExPDgM9NTU2WlheVk/mxkjwRsI6Wr5cT6ZhfUkZvQ43LkKHoYzsyDlJLV+k9MpUTouerWH0bdcKg6o7URhnC/0nR/wDpKqwv6i++hQAAAABJRU5ErkJggg==",cv=i=>{let e;const r=new Set,a=(y,T)=>{const m=typeof y=="function"?y(e):y;if(!Object.is(m,e)){const p=e;e=T??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(b=>b(e,p))}},o=()=>e,c={setState:a,getState:o,getInitialState:()=>_,subscribe:y=>(r.add(y),()=>r.delete(y))},_=e=i(a,o,c);return c},f1=i=>i?cv(i):cv,h1=i=>i;function d1(i,e=h1){const r=vd.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return vd.useDebugValue(r),r}const fv=i=>{const e=f1(i),r=a=>d1(e,a);return Object.assign(r,e),r},m1=i=>i?fv(i):fv,ic=m1(i=>({cart:[],addToCart:e=>i(r=>r.cart.find(o=>o.id===e.id)?{cart:r.cart.map(o=>o.id===e.id?{...o,quantity:o.quantity+1}:o)}:{cart:[...r.cart,{...e,quantity:1}]}),removeFromCart:e=>i(r=>({cart:r.cart.filter(a=>a.id!==e)}))}));function p1(){const e=(ic(r=>r.items)||[]).reduce((r,a)=>r+a.quantity,0);return W.jsx("header",{className:"header-meny",children:W.jsxs("nav",{children:[W.jsx(pn,{to:"/",children:W.jsx("button",{className:"logo",children:W.jsx("img",{src:u1,alt:"logo",className:"logo"})})}),W.jsx(pn,{to:"/cart",children:W.jsxs("button",{className:"cart",children:[W.jsx("img",{src:c1,alt:"cart-icon",className:"cart-icon"}),e>0&&W.jsx("span",{className:"cart-counter",children:e})]})})]})})}const g1=()=>{};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},y1=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const o=i[r++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],h=i[r++],c=i[r++],_=((o&7)<<18|(u&63)<<12|(h&63)<<6|c&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const u=i[r++],h=i[r++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,c=h?i[o+1]:0,_=o+2<i.length,y=_?i[o+2]:0,T=u>>2,m=(u&3)<<4|c>>4;let p=(c&15)<<2|y>>6,b=y&63;_||(b=64,h||(p=64)),a.push(r[T],r[m],r[p],r[b])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(G_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):y1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],c=o<i.length?r[i.charAt(o)]:0;++o;const y=o<i.length?r[i.charAt(o)]:64;++o;const m=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||c==null||y==null||m==null)throw new v1;const p=u<<2|c>>4;if(a.push(p),y!==64){const b=c<<4&240|y>>2;if(a.push(b),m!==64){const g=y<<6&192|m;a.push(g)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _1=function(i){const e=G_(i);return Q_.encodeByteArray(e,!0)},hc=function(i){return _1(i).replace(/\./g,"")},b1=function(i){try{return Q_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=()=>E1().__FIREBASE_DEFAULTS__,T1=()=>{if(typeof process>"u"||typeof hv>"u")return;const i=hv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},w1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&b1(i[1]);return e&&JSON.parse(e)},Wd=()=>{try{return g1()||A1()||T1()||w1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},S1=i=>{var e,r;return(r=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},R1=i=>{const e=S1(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},Y_=()=>{var i;return(i=Wd())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hc(JSON.stringify(r)),hc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I1(){var i;const e=(i=Wd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function N1(){return!I1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K_(){try{return typeof indexedDB=="object"}catch{return!1}}function X_(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function M1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="FirebaseError";class Mi extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=V1,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?k1(u,a):"Error",c=`${this.serviceName}: ${h} (${o}).`;return new Mi(o,c,a)}}function k1(i,e){return i.replace(j1,(r,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const j1=/\{\$([^}]+)}/g;function ul(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const o of r){if(!a.includes(o))return!1;const u=i[o],h=e[o];if(dv(u)&&dv(h)){if(!ul(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!r.includes(o))return!1;return!0}function dv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1e3,P1=2,U1=4*60*60*1e3,z1=.5;function mv(i,e=L1,r=P1){const a=e*Math.pow(r,i),o=Math.round(z1*a*(Math.random()-.5)*2);return Math.min(U1,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(i){return i&&i._delegate?i._delegate:i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i){return i.endsWith(".cloudworkstations.dev")}async function B1(i){return(await fetch(i,{credentials:"include"})).ok}class Pr{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new C1;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F1(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,h]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);a===c&&h.resolve(o)}return o}onInit(e,r){var a;const o=this.normalizeInstanceIdentifier(r),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const o of a)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$1(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $1(i){return i===_s?void 0:i}function F1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new q1(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const G1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Q1=ze.INFO,Y1={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},K1=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=Y1[e];if(o)console[o](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=Q1,this._logHandler=K1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const X1=(i,e)=>e.some(r=>i instanceof r);let pv,gv;function Z1(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,Ed=new WeakMap,W_=new WeakMap,ad=new WeakMap,tm=new WeakMap;function W1(i){const e=new Promise((r,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(Ei(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&J_.set(r,i)}).catch(()=>{}),tm.set(e,i),e}function ew(i){if(Ed.has(i))return;const e=new Promise((r,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Ed.set(i,e)}let Ad={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Ed.get(i);if(e==="objectStoreNames")return i.objectStoreNames||W_.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ei(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function tw(i){Ad=i(Ad)}function nw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(od(this),e,...r);return W_.set(a,e.sort?e.sort():[e]),Ei(a)}:J1().includes(i)?function(...e){return i.apply(od(this),e),Ei(J_.get(this))}:function(...e){return Ei(i.apply(od(this),e))}}function rw(i){return typeof i=="function"?nw(i):(i instanceof IDBTransaction&&ew(i),X1(i,Z1())?new Proxy(i,Ad):i)}function Ei(i){if(i instanceof IDBRequest)return W1(i);if(ad.has(i))return ad.get(i);const e=rw(i);return e!==i&&(ad.set(i,e),tm.set(e,i)),e}const od=i=>tm.get(i);function e0(i,e,{blocked:r,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),c=Ei(h);return a&&h.addEventListener("upgradeneeded",_=>{a(Ei(h.result),_.oldVersion,_.newVersion,Ei(h.transaction),_)}),r&&h.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),c.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),c}const iw=["get","getKey","getAll","getAllKeys","count"],sw=["put","add","delete","clear"],ld=new Map;function yv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ld.get(e))return ld.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,o=sw.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(o||iw.includes(r)))return;const u=async function(h,...c){const _=this.transaction(h,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(c.shift())),(await Promise.all([y[r](...c),o&&_.done]))[0]};return ld.set(e,u),u}tw(i=>({...i,get:(e,r,a)=>yv(e,r)||i.get(e,r,a),has:(e,r)=>!!yv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ow(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function ow(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Td="@firebase/app",vv="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new em("@firebase/app"),lw="@firebase/app-compat",uw="@firebase/analytics-compat",cw="@firebase/analytics",fw="@firebase/app-check-compat",hw="@firebase/app-check",dw="@firebase/auth",mw="@firebase/auth-compat",pw="@firebase/database",gw="@firebase/data-connect",yw="@firebase/database-compat",vw="@firebase/functions",_w="@firebase/functions-compat",bw="@firebase/installations",Ew="@firebase/installations-compat",Aw="@firebase/messaging",Tw="@firebase/messaging-compat",ww="@firebase/performance",Sw="@firebase/performance-compat",Rw="@firebase/remote-config",Cw="@firebase/remote-config-compat",xw="@firebase/storage",Dw="@firebase/storage-compat",Iw="@firebase/firestore",Ow="@firebase/vertexai",Nw="@firebase/firestore-compat",Mw="firebase",Vw="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",kw={[Td]:"fire-core",[lw]:"fire-core-compat",[cw]:"fire-analytics",[uw]:"fire-analytics-compat",[hw]:"fire-app-check",[fw]:"fire-app-check-compat",[dw]:"fire-auth",[mw]:"fire-auth-compat",[pw]:"fire-rtdb",[gw]:"fire-data-connect",[yw]:"fire-rtdb-compat",[vw]:"fire-fn",[_w]:"fire-fn-compat",[bw]:"fire-iid",[Ew]:"fire-iid-compat",[Aw]:"fire-fcm",[Tw]:"fire-fcm-compat",[ww]:"fire-perf",[Sw]:"fire-perf-compat",[Rw]:"fire-rc",[Cw]:"fire-rc-compat",[xw]:"fire-gcs",[Dw]:"fire-gcs-compat",[Iw]:"fire-fst",[Nw]:"fire-fst-compat",[Ow]:"fire-vertex","fire-js":"fire-js",[Mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,jw=new Map,Sd=new Map;function _v(i,e){try{i.container.addComponent(e)}catch(r){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Ri(i){const e=i.name;if(Sd.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,i);for(const r of dc.values())_v(r,i);for(const r of jw.values())_v(r,i);return!0}function bl(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function Lw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Ic("app","Firebase",Pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,r,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=Vw;function t0(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:wd,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(r||(r=Y_()),!r)throw Ai.create("no-options");const u=dc.get(o);if(u){if(ul(r,u.options)&&ul(a,u.config))return u;throw Ai.create("duplicate-app",{appName:o})}const h=new H1(o);for(const _ of Sd.values())h.addComponent(_);const c=new Uw(r,a,h);return dc.set(o,c),c}function n0(i=wd){const e=dc.get(i);if(!e&&i===wd&&Y_())return t0();if(!e)throw Ai.create("no-app",{appName:i});return e}function tr(i,e,r){var a;let o=(a=kw[i])!==null&&a!==void 0?a:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&c.push("and"),h&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(c.join(" "));return}Ri(new Pr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebase-heartbeat-database",qw=1,cl="firebase-heartbeat-store";let ud=null;function r0(){return ud||(ud=e0(Bw,qw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cl)}catch(r){console.warn(r)}}}}).catch(i=>{throw Ai.create("idb-open",{originalErrorMessage:i.message})})),ud}async function $w(i){try{const r=(await r0()).transaction(cl),a=await r.objectStore(cl).get(i0(i));return await r.done,a}catch(e){if(e instanceof Mi)Ur.warn(e.message);else{const r=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(r.message)}}}async function bv(i,e){try{const a=(await r0()).transaction(cl,"readwrite");await a.objectStore(cl).put(e,i0(i)),await a.done}catch(r){if(r instanceof Mi)Ur.warn(r.message);else{const a=Ai.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ur.warn(a.message)}}}function i0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1024,Hw=30;class Gw{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Yw(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ev();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Hw){const h=Kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ur.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ev(),{heartbeatsToSend:a,unsentEntries:o}=Qw(this._heartbeatsCache.heartbeats),u=hc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Ur.warn(r),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function Qw(i,e=Fw){const r=[];let a=i.slice();for(const o of i){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Av(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Av(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class Yw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K_()?X_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await $w(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Av(i){return hc(JSON.stringify({version:2,heartbeats:i})).length}function Kw(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(i){Ri(new Pr("platform-logger",e=>new aw(e),"PRIVATE")),Ri(new Pr("heartbeat",e=>new Gw(e),"PRIVATE")),tr(Td,vv,i),tr(Td,vv,"esm2017"),tr("fire-js","")}Xw("");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,s0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function x(){}x.prototype=w.prototype,N.D=w.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(I,j,B){for(var P=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)P[fe-2]=arguments[fe];return w.prototype[j].apply(I,P)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,x){x||(x=0);var I=Array(16);if(typeof w=="string")for(var j=0;16>j;++j)I[j]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(j=0;16>j;++j)I[j]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=N.g[0],x=N.g[1],j=N.g[2];var B=N.g[3],P=w+(B^x&(j^B))+I[0]+3614090360&4294967295;w=x+(P<<7&4294967295|P>>>25),P=B+(j^w&(x^j))+I[1]+3905402710&4294967295,B=w+(P<<12&4294967295|P>>>20),P=j+(x^B&(w^x))+I[2]+606105819&4294967295,j=B+(P<<17&4294967295|P>>>15),P=x+(w^j&(B^w))+I[3]+3250441966&4294967295,x=j+(P<<22&4294967295|P>>>10),P=w+(B^x&(j^B))+I[4]+4118548399&4294967295,w=x+(P<<7&4294967295|P>>>25),P=B+(j^w&(x^j))+I[5]+1200080426&4294967295,B=w+(P<<12&4294967295|P>>>20),P=j+(x^B&(w^x))+I[6]+2821735955&4294967295,j=B+(P<<17&4294967295|P>>>15),P=x+(w^j&(B^w))+I[7]+4249261313&4294967295,x=j+(P<<22&4294967295|P>>>10),P=w+(B^x&(j^B))+I[8]+1770035416&4294967295,w=x+(P<<7&4294967295|P>>>25),P=B+(j^w&(x^j))+I[9]+2336552879&4294967295,B=w+(P<<12&4294967295|P>>>20),P=j+(x^B&(w^x))+I[10]+4294925233&4294967295,j=B+(P<<17&4294967295|P>>>15),P=x+(w^j&(B^w))+I[11]+2304563134&4294967295,x=j+(P<<22&4294967295|P>>>10),P=w+(B^x&(j^B))+I[12]+1804603682&4294967295,w=x+(P<<7&4294967295|P>>>25),P=B+(j^w&(x^j))+I[13]+4254626195&4294967295,B=w+(P<<12&4294967295|P>>>20),P=j+(x^B&(w^x))+I[14]+2792965006&4294967295,j=B+(P<<17&4294967295|P>>>15),P=x+(w^j&(B^w))+I[15]+1236535329&4294967295,x=j+(P<<22&4294967295|P>>>10),P=w+(j^B&(x^j))+I[1]+4129170786&4294967295,w=x+(P<<5&4294967295|P>>>27),P=B+(x^j&(w^x))+I[6]+3225465664&4294967295,B=w+(P<<9&4294967295|P>>>23),P=j+(w^x&(B^w))+I[11]+643717713&4294967295,j=B+(P<<14&4294967295|P>>>18),P=x+(B^w&(j^B))+I[0]+3921069994&4294967295,x=j+(P<<20&4294967295|P>>>12),P=w+(j^B&(x^j))+I[5]+3593408605&4294967295,w=x+(P<<5&4294967295|P>>>27),P=B+(x^j&(w^x))+I[10]+38016083&4294967295,B=w+(P<<9&4294967295|P>>>23),P=j+(w^x&(B^w))+I[15]+3634488961&4294967295,j=B+(P<<14&4294967295|P>>>18),P=x+(B^w&(j^B))+I[4]+3889429448&4294967295,x=j+(P<<20&4294967295|P>>>12),P=w+(j^B&(x^j))+I[9]+568446438&4294967295,w=x+(P<<5&4294967295|P>>>27),P=B+(x^j&(w^x))+I[14]+3275163606&4294967295,B=w+(P<<9&4294967295|P>>>23),P=j+(w^x&(B^w))+I[3]+4107603335&4294967295,j=B+(P<<14&4294967295|P>>>18),P=x+(B^w&(j^B))+I[8]+1163531501&4294967295,x=j+(P<<20&4294967295|P>>>12),P=w+(j^B&(x^j))+I[13]+2850285829&4294967295,w=x+(P<<5&4294967295|P>>>27),P=B+(x^j&(w^x))+I[2]+4243563512&4294967295,B=w+(P<<9&4294967295|P>>>23),P=j+(w^x&(B^w))+I[7]+1735328473&4294967295,j=B+(P<<14&4294967295|P>>>18),P=x+(B^w&(j^B))+I[12]+2368359562&4294967295,x=j+(P<<20&4294967295|P>>>12),P=w+(x^j^B)+I[5]+4294588738&4294967295,w=x+(P<<4&4294967295|P>>>28),P=B+(w^x^j)+I[8]+2272392833&4294967295,B=w+(P<<11&4294967295|P>>>21),P=j+(B^w^x)+I[11]+1839030562&4294967295,j=B+(P<<16&4294967295|P>>>16),P=x+(j^B^w)+I[14]+4259657740&4294967295,x=j+(P<<23&4294967295|P>>>9),P=w+(x^j^B)+I[1]+2763975236&4294967295,w=x+(P<<4&4294967295|P>>>28),P=B+(w^x^j)+I[4]+1272893353&4294967295,B=w+(P<<11&4294967295|P>>>21),P=j+(B^w^x)+I[7]+4139469664&4294967295,j=B+(P<<16&4294967295|P>>>16),P=x+(j^B^w)+I[10]+3200236656&4294967295,x=j+(P<<23&4294967295|P>>>9),P=w+(x^j^B)+I[13]+681279174&4294967295,w=x+(P<<4&4294967295|P>>>28),P=B+(w^x^j)+I[0]+3936430074&4294967295,B=w+(P<<11&4294967295|P>>>21),P=j+(B^w^x)+I[3]+3572445317&4294967295,j=B+(P<<16&4294967295|P>>>16),P=x+(j^B^w)+I[6]+76029189&4294967295,x=j+(P<<23&4294967295|P>>>9),P=w+(x^j^B)+I[9]+3654602809&4294967295,w=x+(P<<4&4294967295|P>>>28),P=B+(w^x^j)+I[12]+3873151461&4294967295,B=w+(P<<11&4294967295|P>>>21),P=j+(B^w^x)+I[15]+530742520&4294967295,j=B+(P<<16&4294967295|P>>>16),P=x+(j^B^w)+I[2]+3299628645&4294967295,x=j+(P<<23&4294967295|P>>>9),P=w+(j^(x|~B))+I[0]+4096336452&4294967295,w=x+(P<<6&4294967295|P>>>26),P=B+(x^(w|~j))+I[7]+1126891415&4294967295,B=w+(P<<10&4294967295|P>>>22),P=j+(w^(B|~x))+I[14]+2878612391&4294967295,j=B+(P<<15&4294967295|P>>>17),P=x+(B^(j|~w))+I[5]+4237533241&4294967295,x=j+(P<<21&4294967295|P>>>11),P=w+(j^(x|~B))+I[12]+1700485571&4294967295,w=x+(P<<6&4294967295|P>>>26),P=B+(x^(w|~j))+I[3]+2399980690&4294967295,B=w+(P<<10&4294967295|P>>>22),P=j+(w^(B|~x))+I[10]+4293915773&4294967295,j=B+(P<<15&4294967295|P>>>17),P=x+(B^(j|~w))+I[1]+2240044497&4294967295,x=j+(P<<21&4294967295|P>>>11),P=w+(j^(x|~B))+I[8]+1873313359&4294967295,w=x+(P<<6&4294967295|P>>>26),P=B+(x^(w|~j))+I[15]+4264355552&4294967295,B=w+(P<<10&4294967295|P>>>22),P=j+(w^(B|~x))+I[6]+2734768916&4294967295,j=B+(P<<15&4294967295|P>>>17),P=x+(B^(j|~w))+I[13]+1309151649&4294967295,x=j+(P<<21&4294967295|P>>>11),P=w+(j^(x|~B))+I[4]+4149444226&4294967295,w=x+(P<<6&4294967295|P>>>26),P=B+(x^(w|~j))+I[11]+3174756917&4294967295,B=w+(P<<10&4294967295|P>>>22),P=j+(w^(B|~x))+I[2]+718787259&4294967295,j=B+(P<<15&4294967295|P>>>17),P=x+(B^(j|~w))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+B&4294967295}a.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var x=w-this.blockSize,I=this.B,j=this.h,B=0;B<w;){if(j==0)for(;B<=x;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<w;)if(I[j++]=N.charCodeAt(B++),j==this.blockSize){o(this,I),j=0;break}}else for(;B<w;)if(I[j++]=N[B++],j==this.blockSize){o(this,I),j=0;break}}this.h=j,this.o+=w},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var x=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=x&255,x/=256;for(this.u(N),N=Array(16),w=x=0;4>w;++w)for(var I=0;32>I;I+=8)N[x++]=this.g[w]>>>I&255;return N};function u(N,w){var x=c;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=w(N)}function h(N,w){this.h=w;for(var x=[],I=!0,j=N.length-1;0<=j;j--){var B=N[j]|0;I&&B==w||(x[j]=B,I=!1)}this.g=x}var c={};function _(N){return-128<=N&&128>N?u(N,function(w){return new h([w|0],0>w?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return S(y(-N));for(var w=[],x=1,I=0;N>=x;I++)w[I]=N/x|0,x*=4294967296;return new h(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return S(T(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(w,8)),I=m,j=0;j<N.length;j+=8){var B=Math.min(8,N.length-j),P=parseInt(N.substring(j,j+B),w);8>B?(B=y(Math.pow(w,B)),I=I.j(B).add(y(P))):(I=I.j(x),I=I.add(y(P)))}return I}var m=_(0),p=_(1),b=_(16777216);i=h.prototype,i.m=function(){if(v(this))return-S(this).m();for(var N=0,w=1,x=0;x<this.g.length;x++){var I=this.i(x);N+=(0<=I?I:4294967296+I)*w,w*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(g(this))return"0";if(v(this))return"-"+S(this).toString(N);for(var w=y(Math.pow(N,6)),x=this,I="";;){var j=V(x,w).g;x=A(x,j.j(w));var B=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=j,g(x))return B+I;for(;6>B.length;)B="0"+B;I=B+I}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function g(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function v(N){return N.h==-1}i.l=function(N){return N=A(this,N),v(N)?-1:g(N)?0:1};function S(N){for(var w=N.g.length,x=[],I=0;I<w;I++)x[I]=~N.g[I];return new h(x,~N.h).add(p)}i.abs=function(){return v(this)?S(this):this},i.add=function(N){for(var w=Math.max(this.g.length,N.g.length),x=[],I=0,j=0;j<=w;j++){var B=I+(this.i(j)&65535)+(N.i(j)&65535),P=(B>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);I=P>>>16,B&=65535,P&=65535,x[j]=P<<16|B}return new h(x,x[x.length-1]&-2147483648?-1:0)};function A(N,w){return N.add(S(w))}i.j=function(N){if(g(this)||g(N))return m;if(v(this))return v(N)?S(this).j(S(N)):S(S(this).j(N));if(v(N))return S(this.j(S(N)));if(0>this.l(b)&&0>N.l(b))return y(this.m()*N.m());for(var w=this.g.length+N.g.length,x=[],I=0;I<2*w;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<N.g.length;j++){var B=this.i(I)>>>16,P=this.i(I)&65535,fe=N.i(j)>>>16,he=N.i(j)&65535;x[2*I+2*j]+=P*he,R(x,2*I+2*j),x[2*I+2*j+1]+=B*he,R(x,2*I+2*j+1),x[2*I+2*j+1]+=P*fe,R(x,2*I+2*j+1),x[2*I+2*j+2]+=B*fe,R(x,2*I+2*j+2)}for(I=0;I<w;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=w;I<2*w;I++)x[I]=0;return new h(x,0)};function R(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function D(N,w){this.g=N,this.h=w}function V(N,w){if(g(w))throw Error("division by zero");if(g(N))return new D(m,m);if(v(N))return w=V(S(N),w),new D(S(w.g),S(w.h));if(v(w))return w=V(N,S(w)),new D(S(w.g),w.h);if(30<N.g.length){if(v(N)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var x=p,I=w;0>=I.l(N);)x=k(x),I=k(I);var j=z(x,1),B=z(I,1);for(I=z(I,2),x=z(x,2);!g(I);){var P=B.add(I);0>=P.l(N)&&(j=j.add(x),B=P),I=z(I,1),x=z(x,1)}return w=A(N,j.j(w)),new D(j,w)}for(j=m;0<=N.l(w);){for(x=Math.max(1,Math.floor(N.m()/w.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),B=y(x),P=B.j(w);v(P)||0<P.l(N);)x-=I,B=y(x),P=B.j(w);g(B)&&(B=p),j=j.add(B),N=A(N,P)}return new D(j,N)}i.A=function(N){return V(this,N).h},i.and=function(N){for(var w=Math.max(this.g.length,N.g.length),x=[],I=0;I<w;I++)x[I]=this.i(I)&N.i(I);return new h(x,this.h&N.h)},i.or=function(N){for(var w=Math.max(this.g.length,N.g.length),x=[],I=0;I<w;I++)x[I]=this.i(I)|N.i(I);return new h(x,this.h|N.h)},i.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),x=[],I=0;I<w;I++)x[I]=this.i(I)^N.i(I);return new h(x,this.h^N.h)};function k(N){for(var w=N.g.length+1,x=[],I=0;I<w;I++)x[I]=N.i(I)<<1|N.i(I-1)>>>31;return new h(x,N.h)}function z(N,w){var x=w>>5;w%=32;for(var I=N.g.length-x,j=[],B=0;B<I;B++)j[B]=0<w?N.i(B+x)>>>w|N.i(B+x+1)<<32-w:N.i(B+x);return new h(j,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,s0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=T,Ti=h}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a0,Wo,o0,sc,Rd,l0,u0,c0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,C,O){return f==Array.prototype||f==Object.prototype||(f[C]=O.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var C=0;C<f.length;++C){var O=f[C];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var a=r(this);function o(f,C){if(C)e:{var O=a;f=f.split(".");for(var U=0;U<f.length-1;U++){var G=f[U];if(!(G in O))break e;O=O[G]}f=f[f.length-1],U=O[f],C=C(U),C!=U&&C!=null&&e(O,f,{configurable:!0,writable:!0,value:C})}}function u(f,C){f instanceof String&&(f+="");var O=0,U=!1,G={next:function(){if(!U&&O<f.length){var J=O++;return{value:C(J,f[J]),done:!1}}return U=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(f){return f||function(){return u(this,function(C,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},c=this||self;function _(f){var C=typeof f;return C=C!="object"?C:f?Array.isArray(f)?"array":C:"null",C=="array"||C=="object"&&typeof f.length=="number"}function y(f){var C=typeof f;return C=="object"&&f!=null||C=="function"}function T(f,C,O){return f.call.apply(f.bind,arguments)}function m(f,C,O){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,U),f.apply(C,G)}}return function(){return f.apply(C,arguments)}}function p(f,C,O){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:m,p.apply(null,arguments)}function b(f,C){var O=Array.prototype.slice.call(arguments,1);return function(){var U=O.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function g(f,C){function O(){}O.prototype=C.prototype,f.aa=C.prototype,f.prototype=new O,f.prototype.constructor=f,f.Qb=function(U,G,J){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return C.prototype[G].apply(U,ce)}}function v(f){const C=f.length;if(0<C){const O=Array(C);for(let U=0;U<C;U++)O[U]=f[U];return O}return[]}function S(f,C){for(let O=1;O<arguments.length;O++){const U=arguments[O];if(_(U)){const G=f.length||0,J=U.length||0;f.length=G+J;for(let ce=0;ce<J;ce++)f[G+ce]=U[ce]}else f.push(U)}}class A{constructor(C,O){this.i=C,this.j=O,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function R(f){return/^[\s\xa0]*$/.test(f)}function D(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function V(f){return V[" "](f),f}V[" "]=function(){};var k=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function z(f,C,O){for(const U in f)C.call(O,f[U],U,f)}function N(f,C){for(const O in f)C.call(void 0,f[O],O,f)}function w(f){const C={};for(const O in f)C[O]=f[O];return C}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,C){let O,U;for(let G=1;G<arguments.length;G++){U=arguments[G];for(O in U)f[O]=U[O];for(let J=0;J<x.length;J++)O=x[J],Object.prototype.hasOwnProperty.call(U,O)&&(f[O]=U[O])}}function j(f){var C=1;f=f.split(":");const O=[];for(;0<C&&f.length;)O.push(f.shift()),C--;return f.length&&O.push(f.join(":")),O}function B(f){c.setTimeout(()=>{throw f},0)}function P(){var f=Se;let C=null;return f.g&&(C=f.g,f.g=f.g.next,f.g||(f.h=null),C.next=null),C}class fe{constructor(){this.h=this.g=null}add(C,O){const U=he.get();U.set(C,O),this.h?this.h.next=U:this.g=U,this.h=U}}var he=new A(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(C,O){this.h=C,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,Se=new fe,$=()=>{const f=c.Promise.resolve(void 0);ae=()=>{f.then(ee)}};var ee=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(O){B(O)}var C=he;C.j(f),100>C.h&&(C.h++,f.next=C.g,C.g=f)}de=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,C){this.type=f,this.g=this.target=C,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,C=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const O=()=>{};c.addEventListener("test",O,C),c.removeEventListener("test",O,C)}catch{}return f}();function Ce(f,C){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var O=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=C,C=f.relatedTarget){if(k){e:{try{V(C.nodeName);var G=!0;break e}catch{}G=!1}G||(C=null)}}else O=="mouseover"?C=f.fromElement:O=="mouseout"&&(C=f.toElement);this.relatedTarget=C,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ce.aa.h.call(this)}}g(Ce,oe);var Ee={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),We=0;function Ln(f,C,O,U,G){this.listener=f,this.proxy=null,this.src=C,this.type=O,this.capture=!!U,this.ha=G,this.key=++We,this.da=this.fa=!1}function $r(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function cr(f){this.src=f,this.g={},this.h=0}cr.prototype.add=function(f,C,O,U,G){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var ce=Li(f,C,U,G);return-1<ce?(C=f[ce],O||(C.fa=!1)):(C=new Ln(C,this.src,J,!!U,G),C.fa=O,f.push(C)),C};function ji(f,C){var O=C.type;if(O in f.g){var U=f.g[O],G=Array.prototype.indexOf.call(U,C,void 0),J;(J=0<=G)&&Array.prototype.splice.call(U,G,1),J&&($r(C),f.g[O].length==0&&(delete f.g[O],f.h--))}}function Li(f,C,O,U){for(var G=0;G<f.length;++G){var J=f[G];if(!J.da&&J.listener==C&&J.capture==!!O&&J.ha==U)return G}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),za={};function Sl(f,C,O,U,G){if(Array.isArray(C)){for(var J=0;J<C.length;J++)Sl(f,C[J],O,U,G);return null}return O=Rl(O),f&&f[tt]?f.K(C,O,y(U)?!!U.capture:!1,G):yn(f,C,O,!1,U,G)}function yn(f,C,O,U,G,J){if(!C)throw Error("Invalid event type");var ce=y(G)?!!G.capture:!!G,je=Is(f);if(je||(f[Pi]=je=new cr(f)),O=je.add(C,O,U,ce,J),O.proxy)return O;if(U=Zc(),O.proxy=U,U.src=f,U.listener=O,f.addEventListener)ge||(G=ce),G===void 0&&(G=!1),f.addEventListener(C.toString(),U,G);else if(f.attachEvent)f.attachEvent(Ui(C.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Zc(){function f(O){return C.call(f.src,f.listener,O)}const C=Jc;return f}function Ba(f,C,O,U,G){if(Array.isArray(C))for(var J=0;J<C.length;J++)Ba(f,C[J],O,U,G);else U=y(U)?!!U.capture:!!U,O=Rl(O),f&&f[tt]?(f=f.i,C=String(C).toString(),C in f.g&&(J=f.g[C],O=Li(J,O,U,G),-1<O&&($r(J[O]),Array.prototype.splice.call(J,O,1),J.length==0&&(delete f.g[C],f.h--)))):f&&(f=Is(f))&&(C=f.g[C.toString()],f=-1,C&&(f=Li(C,O,U,G)),(O=-1<f?C[f]:null)&&Ds(O))}function Ds(f){if(typeof f!="number"&&f&&!f.da){var C=f.src;if(C&&C[tt])ji(C.i,f);else{var O=f.type,U=f.proxy;C.removeEventListener?C.removeEventListener(O,U,f.capture):C.detachEvent?C.detachEvent(Ui(O),U):C.addListener&&C.removeListener&&C.removeListener(U),(O=Is(C))?(ji(O,f),O.h==0&&(O.src=null,C[Pi]=null)):$r(f)}}}function Ui(f){return f in za?za[f]:za[f]="on"+f}function Jc(f,C){if(f.da)f=!0;else{C=new Ce(C,this);var O=f.listener,U=f.ha||f.src;f.fa&&Ds(f),f=O.call(U,C)}return f}function Is(f){return f=f[Pi],f instanceof cr?f:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(f){return typeof f=="function"?f:(f[qa]||(f[qa]=function(C){return f.handleEvent(C)}),f[qa])}function lt(){ue.call(this),this.i=new cr(this),this.M=this,this.F=null}g(lt,ue),lt.prototype[tt]=!0,lt.prototype.removeEventListener=function(f,C,O,U){Ba(this,f,C,O,U)};function He(f,C){var O,U=f.F;if(U)for(O=[];U;U=U.F)O.push(U);if(f=f.M,U=C.type||C,typeof C=="string")C=new oe(C,f);else if(C instanceof oe)C.target=C.target||f;else{var G=C;C=new oe(U,f),I(C,G)}if(G=!0,O)for(var J=O.length-1;0<=J;J--){var ce=C.g=O[J];G=sn(ce,U,!0,C)&&G}if(ce=C.g=f,G=sn(ce,U,!0,C)&&G,G=sn(ce,U,!1,C)&&G,O)for(J=0;J<O.length;J++)ce=C.g=O[J],G=sn(ce,U,!1,C)&&G}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var f=this.i,C;for(C in f.g){for(var O=f.g[C],U=0;U<O.length;U++)$r(O[U]);delete f.g[C],f.h--}}this.F=null},lt.prototype.K=function(f,C,O,U){return this.i.add(String(f),C,!1,O,U)},lt.prototype.L=function(f,C,O,U){return this.i.add(String(f),C,!0,O,U)};function sn(f,C,O,U){if(C=f.i.g[String(C)],!C)return!0;C=C.concat();for(var G=!0,J=0;J<C.length;++J){var ce=C[J];if(ce&&!ce.da&&ce.capture==O){var je=ce.listener,Et=ce.ha||ce.src;ce.fa&&ji(f.i,ce),G=je.call(Et,U)!==!1&&G}}return G&&!U.defaultPrevented}function qt(f,C,O){if(typeof f=="function")O&&(f=p(f,O));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(f,C||0)}function Cl(f){f.g=qt(()=>{f.g=null,f.i&&(f.i=!1,Cl(f))},f.l);const C=f.h;f.h=null,f.m.apply(null,C)}class Wc extends ue{constructor(C,O){super(),this.m=C,this.l=O,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Cl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(f){ue.call(this),this.h=f,this.g={}}g(zi,ue);var Bi=[];function qi(f){z(f.g,function(C,O){this.g.hasOwnProperty(O)&&Ds(C)},f),f.g={}}zi.prototype.N=function(){zi.aa.N.call(this),qi(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=c.JSON.stringify,Os=c.JSON.parse,$i=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function $a(){}$a.prototype.h=null;function Fa(f){return f.h||(f.h=f.i())}function Ha(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){oe.call(this,"d")}g(hr,oe);function Ga(){oe.call(this,"c")}g(Ga,oe);var Pn={},Qa=null;function Fr(){return Qa=Qa||new lt}Pn.La="serverreachability";function Ns(f){oe.call(this,Pn.La,f)}g(Ns,oe);function Hr(f){const C=Fr();He(C,new Ns(C))}Pn.STAT_EVENT="statevent";function xl(f,C){oe.call(this,Pn.STAT_EVENT,f),this.stat=C}g(xl,oe);function nt(f){const C=Fr();He(C,new xl(C,f))}Pn.Ma="timingevent";function bt(f,C){oe.call(this,Pn.Ma,f),this.size=C}g(bt,oe);function pt(f,C){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},C)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Ya(f,C,O,U,G,J){f.info(function(){if(f.g)if(J)for(var ce="",je=J.split("&"),Et=0;Et<je.length;Et++){var Le=je[Et].split("=");if(1<Le.length){var Dt=Le[0];Le=Le[1];var At=Dt.split("_");ce=2<=At.length&&At[1]=="type"?ce+(Dt+"="+Le+"&"):ce+(Dt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+U+") [attempt "+G+"]: "+C+`
`+O+`
`+ce})}function ef(f,C,O,U,G,J,ce){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+G+"]: "+C+`
`+O+`
`+J+" "+ce})}function Gr(f,C,O,U){f.info(function(){return"XMLHTTP TEXT ("+C+"): "+Fi(f,O)+(U?" "+U:"")})}function Dl(f,C){f.info(function(){return"TIMEOUT: "+C})}vn.prototype.info=function(){};function Fi(f,C){if(!f.g)return C;if(!C)return null;try{var O=JSON.parse(C);if(O){for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var U=O[f];if(!(2>U.length)){var G=U[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return On(O)}catch{return C}}var Qr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function zn(){}g(zn,$a),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Un=new zn;function Yt(f,C,O,U){this.j=f,this.i=C,this.l=O,this.R=U||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Ka={},Ms={};function Nn(f,C,O){f.L=1,f.v=Ki(an(C)),f.m=O,f.P=!0,mr(f,null)}function mr(f,C){f.F=Date.now(),Hi(f),f.A=an(f.v);var O=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),to(O.i,"t",U),f.C=0,O=f.j.J,f.h=new ft,f.g=Hl(f.j,O?C:null,!f.m),0<f.O&&(f.M=new Wc(p(f.Y,f,f.g),f.O)),C=f.U,O=f.g,U=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(Bi[0]=G.toString()),G=Bi);for(var J=0;J<G.length;J++){var ce=Sl(O,G[J],U||C.handleEvent,!1,C.h||C);if(!ce)break;C.g[ce.key]=ce}C=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,C)):(f.u="GET",f.g.ea(f.A,f.u,null,C)),Hr(),Ya(f.i,f.u,f.A,f.l,f.R,f.m)}Yt.prototype.ca=function(f){f=f.target;const C=this.M;C&&An(f)==3?C.j():this.Y(f)},Yt.prototype.Y=function(f){try{if(f==this.g)e:{const At=An(this.g);var C=this.g.Ba();const Ar=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Ll(this.g)))){this.J||At!=4||C==7||(C==8||0>=Ar?Hr(3):Hr(2)),Yr(this);var O=this.g.Z();this.X=O;t:if(Il(this)){var U=Ll(this.g);f="";var G=U.length,J=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),Bn(this);var ce="";break t}this.h.i=new c.TextDecoder}for(C=0;C<G;C++)this.h.h=!0,f+=this.h.i.decode(U[C],{stream:!(J&&C==G-1)});U.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=O==200,ef(this.i,this.u,this.A,this.l,this.R,At,O),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Et=this.g;if((je=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(je)){var Le=je;break t}}Le=null}if(O=Le)Gr(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gi(this,O);else{this.o=!1,this.s=3,nt(12),Vt(this),Bn(this);break e}}if(this.P){O=!0;let kt;for(;!this.J&&this.C<ce.length;)if(kt=Ol(this,ce),kt==Ms){At==4&&(this.s=4,nt(14),O=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Ka){this.s=4,nt(15),Gr(this.i,this.l,ce,"[Invalid Chunk]"),O=!1;break}else Gr(this.i,this.l,kt,null),Gi(this,kt);if(Il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ce.length!=0||this.h.h||(this.s=1,nt(16),O=!1),this.o=this.o&&O,!O)Gr(this.i,this.l,ce,"[Invalid Chunked Response]"),Vt(this),Bn(this);else if(0<ce.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),rs(Dt),Dt.M=!0,nt(11))}}else Gr(this.i,this.l,ce,null),Gi(this,ce);At==4&&Vt(this),this.o&&!this.J&&(At==4?ql(this.j,this):(this.o=!1,Hi(this)))}else af(this.g),O==400&&0<ce.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Vt(this),Bn(this)}}}catch{}finally{}};function Il(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ol(f,C){var O=f.C,U=C.indexOf(`
`,O);return U==-1?Ms:(O=Number(C.substring(O,U)),isNaN(O)?Ka:(U+=1,U+O>C.length?Ms:(C=C.slice(U,U+O),f.C=U+O,C)))}Yt.prototype.cancel=function(){this.J=!0,Vt(this)};function Hi(f){f.S=Date.now()+f.I,Nl(f,f.I)}function Nl(f,C){if(f.B!=null)throw Error("WatchDog timer not null");f.B=pt(p(f.ba,f),C)}function Yr(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Yt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dl(this.i,this.A),this.L!=2&&(Hr(),nt(17)),Vt(this),this.s=2,Bn(this)):Nl(this,this.S-f)};function Bn(f){f.j.G==0||f.J||ql(f.j,f)}function Vt(f){Yr(f);var C=f.M;C&&typeof C.ma=="function"&&C.ma(),f.M=null,qi(f.U),f.g&&(C=f.g,f.g=null,C.abort(),C.ma())}function Gi(f,C){try{var O=f.j;if(O.G!=0&&(O.g==f||Xa(O.h,f))){if(!f.K&&Xa(O.h,f)&&O.G==3){try{var U=O.Da.g.parse(C)}catch{U=null}if(Array.isArray(U)&&U.length==3){var G=U;if(G[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<f.F)Hs(O),$s(O);else break e;ao(O),nt(18)}}else O.za=G[1],0<O.za-O.T&&37500>G[2]&&O.F&&O.v==0&&!O.C&&(O.C=pt(p(O.Za,O),6e3));if(1>=ks(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Er(O,11)}else if((f.K||O.g==f)&&Hs(O),!R(C))for(G=O.Da.g.parse(C),C=0;C<G.length;C++){let Le=G[C];if(O.T=Le[0],Le=Le[1],O.G==2)if(Le[0]=="c"){O.K=Le[1],O.ia=Le[2];const Dt=Le[3];Dt!=null&&(O.la=Dt,O.j.info("VER="+O.la));const At=Le[4];At!=null&&(O.Aa=At,O.j.info("SVER="+O.Aa));const Ar=Le[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(U=1.5*Ar,O.L=U,O.j.info("backChannelRequestTimeoutMs_="+U)),U=O;const kt=f.g;if(kt){const Yn=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var J=U.h;J.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(js(J,J.h),J.h=null))}if(U.D){const lo=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(U.ya=lo,Ye(U.I,U.D,lo))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-f.F,O.j.info("Handshake RTT: "+O.R+"ms")),U=O;var ce=f;if(U.qa=Fl(U,U.J?U.ia:null,U.W),ce.K){Kt(U.h,ce);var je=ce,Et=U.L;Et&&(je.I=Et),je.B&&(Yr(je),Hi(je)),U.g=ce}else zl(U);0<O.i.length&&Fs(O)}else Le[0]!="stop"&&Le[0]!="close"||Er(O,7);else O.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Er(O,7):io(O):Le[0]!="noop"&&O.l&&O.l.ta(Le),O.v=0)}}Hr(4)}catch{}}var Ml=class{constructor(f,C){this.g=f,this.map=C}};function pr(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vs(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ks(f){return f.h?1:f.g?f.g.size:0}function Xa(f,C){return f.h?f.h==C:f.g?f.g.has(C):!1}function js(f,C){f.g?f.g.add(C):f.h=C}function Kt(f,C){f.h&&f.h==C?f.h=null:f.g&&f.g.has(C)&&f.g.delete(C)}pr.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Za(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let C=f.i;for(const O of f.g.values())C=C.concat(O.D);return C}return v(f.i)}function tf(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(_(f)){for(var C=[],O=f.length,U=0;U<O;U++)C.push(f[U]);return C}C=[],O=0;for(U in f)C[O++]=f[U];return C}function Ls(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(_(f)||typeof f=="string"){var C=[];f=f.length;for(var O=0;O<f;O++)C.push(O);return C}C=[],O=0;for(const U in f)C[O++]=U;return C}}}function Ja(f,C){if(f.forEach&&typeof f.forEach=="function")f.forEach(C,void 0);else if(_(f)||typeof f=="string")Array.prototype.forEach.call(f,C,void 0);else for(var O=Ls(f),U=tf(f),G=U.length,J=0;J<G;J++)C.call(void 0,U[J],O&&O[J],f)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(f,C){if(f){f=f.split("&");for(var O=0;O<f.length;O++){var U=f[O].indexOf("="),G=null;if(0<=U){var J=f[O].substring(0,U);G=f[O].substring(U+1)}else J=f[O];C(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof gt){this.h=f.h,Yi(this,f.j),this.o=f.o,this.g=f.g,Kr(this,f.s),this.l=f.l;var C=f.i,O=new yr;O.i=C.i,C.g&&(O.g=new Map(C.g),O.h=C.h),gr(this,O),this.m=f.m}else f&&(C=String(f).match(Qi))?(this.h=!1,Yi(this,C[1]||"",!0),this.o=_n(C[2]||""),this.g=_n(C[3]||"",!0),Kr(this,C[4]),this.l=_n(C[5]||"",!0),gr(this,C[6]||"",!0),this.m=_n(C[7]||"")):(this.h=!1,this.i=new yr(null,this.h))}gt.prototype.toString=function(){var f=[],C=this.j;C&&f.push(Xi(C,Wa,!0),":");var O=this.g;return(O||C=="file")&&(f.push("//"),(C=this.o)&&f.push(Xi(C,Wa,!0),"@"),f.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&f.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&f.push("/"),f.push(Xi(O,O.charAt(0)=="/"?rf:eo,!0))),(O=this.i.toString())&&f.push("?",O),(O=this.m)&&f.push("#",Xi(O,Ps)),f.join("")};function an(f){return new gt(f)}function Yi(f,C,O){f.j=O?_n(C,!0):C,f.j&&(f.j=f.j.replace(/:$/,""))}function Kr(f,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);f.s=C}else f.s=null}function gr(f,C,O){C instanceof yr?(f.i=C,kl(f.i,f.h)):(O||(C=Xi(C,sf)),f.i=new yr(C,f.h))}function Ye(f,C,O){f.i.set(C,O)}function Ki(f){return Ye(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function _n(f,C){return f?C?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xi(f,C,O){return typeof f=="string"?(f=encodeURI(f).replace(C,Vl),O&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Vl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Wa=/[#\/\?@]/g,eo=/[#\?:]/g,rf=/[#\?]/g,sf=/[#\?@]/g,Ps=/#/g;function yr(f,C){this.h=this.g=null,this.i=f||null,this.j=!!C}function bn(f){f.g||(f.g=new Map,f.h=0,f.i&&nf(f.i,function(C,O){f.add(decodeURIComponent(C.replace(/\+/g," ")),O)}))}i=yr.prototype,i.add=function(f,C){bn(this),this.i=null,f=qn(this,f);var O=this.g.get(f);return O||this.g.set(f,O=[]),O.push(C),this.h+=1,this};function vr(f,C){bn(f),C=qn(f,C),f.g.has(C)&&(f.i=null,f.h-=f.g.get(C).length,f.g.delete(C))}function _r(f,C){return bn(f),C=qn(f,C),f.g.has(C)}i.forEach=function(f,C){bn(this),this.g.forEach(function(O,U){O.forEach(function(G){f.call(C,G,U,this)},this)},this)},i.na=function(){bn(this);const f=Array.from(this.g.values()),C=Array.from(this.g.keys()),O=[];for(let U=0;U<C.length;U++){const G=f[U];for(let J=0;J<G.length;J++)O.push(C[U])}return O},i.V=function(f){bn(this);let C=[];if(typeof f=="string")_r(this,f)&&(C=C.concat(this.g.get(qn(this,f))));else{f=Array.from(this.g.values());for(let O=0;O<f.length;O++)C=C.concat(f[O])}return C},i.set=function(f,C){return bn(this),this.i=null,f=qn(this,f),_r(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[C]),this.h+=1,this},i.get=function(f,C){return f?(f=this.V(f),0<f.length?String(f[0]):C):C};function to(f,C,O){vr(f,C),0<O.length&&(f.i=null,f.g.set(qn(f,C),v(O)),f.h+=O.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],C=Array.from(this.g.keys());for(var O=0;O<C.length;O++){var U=C[O];const J=encodeURIComponent(String(U)),ce=this.V(U);for(U=0;U<ce.length;U++){var G=J;ce[U]!==""&&(G+="="+encodeURIComponent(String(ce[U]))),f.push(G)}}return this.i=f.join("&")};function qn(f,C){return C=String(C),f.j&&(C=C.toLowerCase()),C}function kl(f,C){C&&!f.j&&(bn(f),f.i=null,f.g.forEach(function(O,U){var G=U.toLowerCase();U!=G&&(vr(this,U),to(this,G,O))},f)),f.j=C}function Zi(f,C){const O=new vn;if(c.Image){const U=new Image;U.onload=b(En,O,"TestLoadImage: loaded",!0,C,U),U.onerror=b(En,O,"TestLoadImage: error",!1,C,U),U.onabort=b(En,O,"TestLoadImage: abort",!1,C,U),U.ontimeout=b(En,O,"TestLoadImage: timeout",!1,C,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else C(!1)}function Mn(f,C){const O=new vn,U=new AbortController,G=setTimeout(()=>{U.abort(),En(O,"TestPingServer: timeout",!1,C)},1e4);fetch(f,{signal:U.signal}).then(J=>{clearTimeout(G),J.ok?En(O,"TestPingServer: ok",!0,C):En(O,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(G),En(O,"TestPingServer: error",!1,C)})}function En(f,C,O,U,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),U(O)}catch{}}function Ji(){this.g=new $i}function $n(f,C,O){const U=O||"";try{Ja(f,function(G,J){let ce=G;y(G)&&(ce=On(G)),C.push(U+J+"="+encodeURIComponent(ce))})}catch(G){throw C.push(U+"type="+encodeURIComponent("_badmap")),G}}function Xr(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Xr,$a),Xr.prototype.g=function(){return new br(this.l,this.j)},Xr.prototype.i=function(f){return function(){return f}}({});function br(f,C){lt.call(this),this.D=f,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(br,lt),i=br.prototype,i.open=function(f,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=C,this.readyState=1,Hn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(C.body=f),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var C=f.value?f.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!f.done}))&&(this.response=this.responseText+=C)}f.done?Fn(this):Hn(this),this.readyState==3&&no(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,Fn(this))},i.Qa=function(f){this.g&&(this.response=f,Fn(this))},i.ga=function(){this.g&&Fn(this)};function Fn(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Hn(f)}i.setRequestHeader=function(f,C){this.u.append(f,C)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],C=this.h.entries();for(var O=C.next();!O.done;)O=O.value,f.push(O[0]+": "+O[1]),O=C.next();return f.join(`\r
`)};function Hn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ro(f){let C="";return z(f,function(O,U){C+=U,C+=":",C+=O,C+=`\r
`}),C}function xt(f,C,O){e:{for(U in O){var U=!1;break e}U=!0}U||(O=ro(O),typeof f=="string"?O!=null&&encodeURIComponent(String(O)):Ye(f,C,O))}function $e(f){lt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g($e,lt);var Us=/^https?$/i,Wi=["POST","PUT"];i=$e.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,C,O,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);C=C?C.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Fa(this.o):Fa(Un),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(f),!0),this.B=!1}catch(J){jl(this,J);return}if(f=O||"",O=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var G in U)O.set(G,U[G]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const J of U.keys())O.set(J,U.get(J));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(O.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Wi,C,void 0))||U||G||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of O)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){jl(this,J)}};function jl(f,C){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=C,f.m=5,zs(f),Gn(f)}function zs(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,He(this,"complete"),He(this,"abort"),Gn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Bs(this):this.bb())},i.bb=function(){Bs(this)};function Bs(f){if(f.h&&typeof h<"u"&&(!f.v[1]||An(f)!=4||f.Z()!=2)){if(f.u&&An(f)==4)qt(f.Ea,0,f);else if(He(f,"readystatechange"),An(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var O;if(!(O=C)){var U;if(U=ce===0){var G=String(f.D).match(Qi)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),U=!Us.test(G?G.toLowerCase():"")}O=U}if(O)He(f,"complete"),He(f,"success");else{f.m=6;try{var J=2<An(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",zs(f)}}finally{Gn(f)}}}}function Gn(f,C){if(f.g){es(f);const O=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,C||He(f,"ready");try{O.onreadystatechange=U}catch{}}}function es(f){f.I&&(c.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function An(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var C=this.g.responseText;return f&&C.indexOf(f)==0&&(C=C.substring(f.length)),Os(C)}};function Ll(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function af(f){const C={};f=(f.g&&2<=An(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(R(f[U]))continue;var O=j(f[U]);const G=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const J=C[G]||[];C[G]=J,J.push(O)}N(C,function(U){return U.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,C,O){return O&&O.internalChannelParams&&O.internalChannelParams[f]||C}function qs(f){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,f),this.cb=ts("retryDelaySeedMs",1e4,f),this.Wa=ts("forwardChannelMaxRetries",2,f),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new pr(f&&f.concurrentRequestLimit),this.Da=new Ji,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=qs.prototype,i.la=8,i.G=1,i.connect=function(f,C,O,U){nt(0),this.W=f,this.H=C||{},O&&U!==void 0&&(this.H.OSID=O,this.H.OAID=U),this.F=this.X,this.I=Fl(this,null,this.W),Fs(this)};function io(f){if(Pl(f),f.G==3){var C=f.U++,O=an(f.I);if(Ye(O,"SID",f.K),Ye(O,"RID",C),Ye(O,"TYPE","terminate"),ns(f,O),C=new Yt(f,f.j,C),C.L=2,C.v=Ki(an(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!O&&c.Image&&(new Image().src=C.v,O=!0),O||(C.g=Hl(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Hi(C)}$l(f)}function $s(f){f.g&&(rs(f),f.g.cancel(),f.g=null)}function Pl(f){$s(f),f.u&&(c.clearTimeout(f.u),f.u=null),Hs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Fs(f){if(!Vs(f.h)&&!f.s){f.s=!0;var C=f.Ga;ae||$(),de||(ae(),de=!0),Se.add(C,f),f.B=0}}function of(f,C){return ks(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=C.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=pt(p(f.Ga,f,C),oo(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new Yt(this,this.j,f);let J=this.o;if(this.S&&(J?(J=w(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var C=0,O=0;O<this.i.length;O++){t:{var U=this.i[O];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(C+=U,4096<C){C=O;break e}if(C===4096||O===this.i.length-1){C=O+1;break e}}C=1e3}else C=1e3;C=Ul(this,G,C),O=an(this.I),Ye(O,"RID",f),Ye(O,"CVER",22),this.D&&Ye(O,"X-HTTP-Session-Id",this.D),ns(this,O),J&&(this.O?C="headers="+encodeURIComponent(String(ro(J)))+"&"+C:this.m&&xt(O,this.m,J)),js(this.h,G),this.Ua&&Ye(O,"TYPE","init"),this.P?(Ye(O,"$req",C),Ye(O,"SID","null"),G.T=!0,Nn(G,O,null)):Nn(G,O,C),this.G=2}}else this.G==3&&(f?so(this,f):this.i.length==0||Vs(this.h)||so(this))};function so(f,C){var O;C?O=C.l:O=f.U++;const U=an(f.I);Ye(U,"SID",f.K),Ye(U,"RID",O),Ye(U,"AID",f.T),ns(f,U),f.m&&f.o&&xt(U,f.m,f.o),O=new Yt(f,f.j,O,f.B+1),f.m===null&&(O.H=f.o),C&&(f.i=C.D.concat(f.i)),C=Ul(f,O,1e3),O.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),js(f.h,O),Nn(O,U,C)}function ns(f,C){f.H&&z(f.H,function(O,U){Ye(C,U,O)}),f.l&&Ja({},function(O,U){Ye(C,U,O)})}function Ul(f,C,O){O=Math.min(f.i.length,O);var U=f.l?p(f.l.Na,f.l,f):null;e:{var G=f.i;let J=-1;for(;;){const ce=["count="+O];J==-1?0<O?(J=G[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let je=!0;for(let Et=0;Et<O;Et++){let Le=G[Et].g;const Dt=G[Et].map;if(Le-=J,0>Le)J=Math.max(0,G[Et].g-100),je=!1;else try{$n(Dt,ce,"req"+Le+"_")}catch{U&&U(Dt)}}if(je){U=ce.join("&");break e}}}return f=f.i.splice(0,O),C.D=f,U}function zl(f){if(!f.g&&!f.u){f.Y=1;var C=f.Fa;ae||$(),de||(ae(),de=!0),Se.add(C,f),f.v=0}}function ao(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=pt(p(f.Fa,f),oo(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=pt(p(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),$s(this),Bl(this))};function rs(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Bl(f){f.g=new Yt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var C=an(f.qa);Ye(C,"RID","rpc"),Ye(C,"SID",f.K),Ye(C,"AID",f.T),Ye(C,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ye(C,"TO",f.ja),Ye(C,"TYPE","xmlhttp"),ns(f,C),f.m&&f.o&&xt(C,f.m,f.o),f.L&&(f.g.I=f.L);var O=f.g;f=f.ia,O.L=1,O.v=Ki(an(C)),O.m=null,O.P=!0,mr(O,f)}i.Za=function(){this.C!=null&&(this.C=null,$s(this),ao(this),nt(19))};function Hs(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function ql(f,C){var O=null;if(f.g==C){Hs(f),rs(f),f.g=null;var U=2}else if(Xa(f.h,C))O=C.D,Kt(f.h,C),U=1;else return;if(f.G!=0){if(C.o)if(U==1){O=C.m?C.m.length:0,C=Date.now()-C.F;var G=f.B;U=Fr(),He(U,new bt(U,O)),Fs(f)}else zl(f);else if(G=C.s,G==3||G==0&&0<C.X||!(U==1&&of(f,C)||U==2&&ao(f)))switch(O&&0<O.length&&(C=f.h,C.i=C.i.concat(O)),G){case 1:Er(f,5);break;case 4:Er(f,10);break;case 3:Er(f,6);break;default:Er(f,2)}}}function oo(f,C){let O=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(O*=2),O*C}function Er(f,C){if(f.j.info("Error code "+C),C==2){var O=p(f.fb,f),U=f.Xa;const G=!U;U=new gt(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yi(U,"https"),Ki(U),G?Zi(U.toString(),O):Mn(U.toString(),O)}else nt(2);f.G=0,f.l&&f.l.sa(C),$l(f),Pl(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function $l(f){if(f.G=0,f.ka=[],f.l){const C=Za(f.h);(C.length!=0||f.i.length!=0)&&(S(f.ka,C),S(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function Fl(f,C,O){var U=O instanceof gt?an(O):new gt(O);if(U.g!="")C&&(U.g=C+"."+U.g),Kr(U,U.s);else{var G=c.location;U=G.protocol,C=C?C+"."+G.hostname:G.hostname,G=+G.port;var J=new gt(null);U&&Yi(J,U),C&&(J.g=C),G&&Kr(J,G),O&&(J.l=O),U=J}return O=f.D,C=f.ya,O&&C&&Ye(U,O,C),Ye(U,"VER",f.la),ns(f,U),U}function Hl(f,C,O){if(C&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=f.Ca&&!f.pa?new $e(new Xr({eb:O})):new $e(f.pa),C.Ha(f.J),C}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gl(){}i=Gl.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Gs(){}Gs.prototype.g=function(f,C){return new Xt(f,C)};function Xt(f,C){lt.call(this),this.g=new qs(C),this.l=f,this.h=C&&C.messageUrlParams||null,f=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(f?f["X-WebChannel-Content-Type"]=C.messageContentType:f={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(f?f["X-WebChannel-Client-Profile"]=C.va:f={"X-WebChannel-Client-Profile":C.va}),this.g.S=f,(f=C&&C.Sb)&&!R(f)&&(this.g.m=f),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!R(C)&&(this.g.D=C,f=this.h,f!==null&&C in f&&(f=this.h,C in f&&delete f[C])),this.j=new Qn(this)}g(Xt,lt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){io(this.g)},Xt.prototype.o=function(f){var C=this.g;if(typeof f=="string"){var O={};O.__data__=f,f=O}else this.u&&(O={},O.__data__=On(f),f=O);C.i.push(new Ml(C.Ya++,f)),C.G==3&&Fs(C)},Xt.prototype.N=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,Xt.aa.N.call(this)};function Ql(f){hr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var C=f.__sm__;if(C){e:{for(const O in C){f=O;break e}f=void 0}(this.i=f)&&(f=this.i,C=C!==null&&f in C?C[f]:void 0),this.data=C}else this.data=f}g(Ql,hr);function Yl(){Ga.call(this),this.status=1}g(Yl,Ga);function Qn(f){this.g=f}g(Qn,Gl),Qn.prototype.ua=function(){He(this.g,"a")},Qn.prototype.ta=function(f){He(this.g,new Ql(f))},Qn.prototype.sa=function(f){He(this.g,new Yl)},Qn.prototype.ra=function(){He(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,c0=function(){return new Gs},u0=function(){return Fr()},l0=Pn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,sc=Qr,dr.COMPLETE="complete",o0=dr,Ha.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Wo=Ha,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,a0=$e}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const wv="@firebase/firestore",Sv="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new em("@firebase/firestore");function Ea(){return As.logLevel}function me(i,...e){if(As.logLevel<=ze.DEBUG){const r=e.map(nm);As.debug(`Firestore (${ja}): ${i}`,...r)}}function zr(i,...e){if(As.logLevel<=ze.ERROR){const r=e.map(nm);As.error(`Firestore (${ja}): ${i}`,...r)}}function Ra(i,...e){if(As.logLevel<=ze.WARN){const r=e.map(nm);As.warn(`Firestore (${ja}): ${i}`,...r)}}function nm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,f0(i,a,r)}function f0(i,e,r){let a=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw zr(a),new Error(a)}function Fe(i,e,r,a){let o="Unexpected state";typeof r=="string"?o=r:a=r,i||f0(e,o,a)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Mi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Gt.UNAUTHENTICATED))}shutdown(){}}class Jw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ww{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Fe(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,r(_)):Promise.resolve();let u=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const _=u;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},c=_=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(_=>c(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?c(_):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wi)}},0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new h0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class eS{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tS{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new eS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Fe(this.o===void 0,3512);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Fe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Rv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=rS(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<r&&(a+=e.charAt(o[u]%62))}return a}}function Oe(i,e){return i<e?-1:i>e?1:0}function Cd(i,e){let r=0;for(;r<i.length&&r<e.length;){const a=i.codePointAt(r),o=e.codePointAt(r);if(a!==o){if(a<128&&o<128)return Oe(a,o);{const u=d0(),h=iS(u.encode(Cv(i,r)),u.encode(Cv(e,r)));return h!==0?h:Oe(a,o)}}r+=a>65535?2:1}return Oe(i.length,e.length)}function Cv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function iS(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return Oe(i[r],e[r]);return Oe(i.length,e.length)}function Ca(i,e,r){return i.length===e.length&&i.every((a,o)=>r(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-62135596800,Dv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*Dv);return new Rt(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<xv)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Rt(0,0))}static max(){return new Re(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__name__";class er{constructor(e,r,a){r===void 0?r=0:r>e.length&&Te(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&Te(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let o=0;o<a;o++){const u=er.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Oe(e.length,r.length)}static compareSegments(e,r){const a=er.isNumericId(e),o=er.isNumericId(r);return a&&!o?-1:!a&&o?1:a&&o?er.extractNumericId(e).compare(er.extractNumericId(r)):Cd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class it extends er{construct(e,r,a){return new it(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(o=>o.length>0))}return new it(r)}static emptyPath(){return new it([])}}const sS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends er{construct(e,r,a){return new zt(e,r,a)}static isValidIdentifier(e){return sS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new zt([Iv])}static fromServerFormat(e){const r=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let h=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else c==="`"?(h=!h,o++):c!=="."||h?(a+=c,o++):(u(),o++)}if(u(),h)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(r)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return it.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=-1;function aS(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new Rt(r+1,0):new Rt(r,a));return new Ci(o,_e.empty(),e)}function oS(i){return new Ci(i.readTime,i.key,fl)}class Ci{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new Ci(Re.min(),_e.empty(),fl)}static max(){return new Ci(Re.max(),_e.empty(),fl)}}function lS(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=_e.comparator(i.documentKey,e.documentKey),r!==0?r:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==uS)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new se((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):se.reject(r)}static resolve(e){return new se((r,a)=>{r(e)})}static reject(e){return new se((r,a)=>{a(e)})}static waitFor(e){return new se((r,a)=>{let o=0,u=0,h=!1;e.forEach(c=>{++o,c.next(()=>{++u,h&&u===o&&r()},_=>a(_))}),h=!0,u===o&&r()})}static or(e){let r=se.resolve(!1);for(const a of e)r=r.next(o=>o?se.resolve(o):a());return r}static forEach(e,r){const a=[];return e.forEach((o,u)=>{a.push(r.call(this,o,u))}),this.waitFor(a)}static mapArray(e,r){return new se((a,o)=>{const u=e.length,h=new Array(u);let c=0;for(let _=0;_<u;_++){const y=_;r(e[y]).next(T=>{h[y]=T,++c,c===u&&a(h)},T=>o(T))}})}static doWhile(e,r){return new se((a,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):a()};u()})}}function fS(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Pa(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>r.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Oc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function Nc(i){return i==null}function mc(i){return i===0&&1/i==-1/0}function hS(i){return typeof i=="number"&&Number.isInteger(i)&&!mc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="";function dS(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Ov(e)),e=mS(i.get(r),e);return Ov(e)}function mS(i,e){let r=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case p0:r+="";break;default:r+=u}}return r}function Ov(i){return i+p0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Vi(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function g0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,r){this.comparator=e,this.root=r||Ut.EMPTY}insert(e,r){return new ot(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return r+a.left.size;o<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,r,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?a(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,r,a,o,u){this.key=e,this.value=r,this.color=a??Ut.RED,this.left=o??Ut.EMPTY,this.right=u??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,o,u){return new Ut(e??this.key,r??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,a),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,r,a,o,u){return this}insert(e,r,a){return new Ut(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ct(this.comparator);return r.data=e,r}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new mn([])}unionWith(e){let r=new Ct(zt.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new mn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new y0("Invalid base64 string: "+u):u}}(e);return new Bt(r)}static fromUint8Array(e){const r=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Bt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const pS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const r=pS.exec(i);if(Fe(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Di(i){return typeof i=="string"?Bt.fromBase64String(i):Bt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="server_timestamp",_0="__type__",b0="__previous_value__",E0="__local_write_time__";function im(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[_0])===null||r===void 0?void 0:r.stringValue)===v0}function Mc(i){const e=i.mapValue.fields[b0];return im(e)?Mc(e):e}function hl(i){const e=xi(i.mapValue.fields[E0].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,r,a,o,u,h,c,_,y,T){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=c,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const pc="(default)";class dl{constructor(e,r){this.projectId=e,this.database=r||pc}static empty(){return new dl("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",yS="__max__",Ju={mapValue:{}},T0="__vector__",gc="value";function Ii(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?im(i)?4:_S(i)?9007199254740991:vS(i)?10:11:Te(28295,{value:i})}function or(i,e){if(i===e)return!0;const r=Ii(i);if(r!==Ii(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hl(i).isEqual(hl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=xi(o.timestampValue),c=xi(u.timestampValue);return h.seconds===c.seconds&&h.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Di(o.bytesValue).isEqual(Di(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=mt(o.doubleValue),c=mt(u.doubleValue);return h===c?mc(h)===mc(c):isNaN(h)&&isNaN(c)}return!1}(i,e);case 9:return Ca(i.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},c=u.mapValue.fields||{};if(Nv(h)!==Nv(c))return!1;for(const _ in h)if(h.hasOwnProperty(_)&&(c[_]===void 0||!or(h[_],c[_])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function ml(i,e){return(i.values||[]).find(r=>or(r,e))!==void 0}function xa(i,e){if(i===e)return 0;const r=Ii(i),a=Ii(e);if(r!==a)return Oe(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const c=mt(u.integerValue||u.doubleValue),_=mt(h.integerValue||h.doubleValue);return c<_?-1:c>_?1:c===_?0:isNaN(c)?isNaN(_)?0:-1:1}(i,e);case 3:return Vv(i.timestampValue,e.timestampValue);case 4:return Vv(hl(i),hl(e));case 5:return Cd(i.stringValue,e.stringValue);case 6:return function(u,h){const c=Di(u),_=Di(h);return c.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const c=u.split("/"),_=h.split("/");for(let y=0;y<c.length&&y<_.length;y++){const T=Oe(c[y],_[y]);if(T!==0)return T}return Oe(c.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const c=Oe(mt(u.latitude),mt(h.latitude));return c!==0?c:Oe(mt(u.longitude),mt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return kv(i.arrayValue,e.arrayValue);case 10:return function(u,h){var c,_,y,T;const m=u.fields||{},p=h.fields||{},b=(c=m[gc])===null||c===void 0?void 0:c.arrayValue,g=(_=p[gc])===null||_===void 0?void 0:_.arrayValue,v=Oe(((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0,((T=g==null?void 0:g.values)===null||T===void 0?void 0:T.length)||0);return v!==0?v:kv(b,g)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Ju.mapValue&&h===Ju.mapValue)return 0;if(u===Ju.mapValue)return 1;if(h===Ju.mapValue)return-1;const c=u.fields||{},_=Object.keys(c),y=h.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let m=0;m<_.length&&m<T.length;++m){const p=Cd(_[m],T[m]);if(p!==0)return p;const b=xa(c[_[m]],y[T[m]]);if(b!==0)return b}return Oe(_.length,T.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:r})}}function Vv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const r=xi(i),a=xi(e),o=Oe(r.seconds,a.seconds);return o!==0?o:Oe(r.nanos,a.nanos)}function kv(i,e){const r=i.values||[],a=e.values||[];for(let o=0;o<r.length&&o<a.length;++o){const u=xa(r[o],a[o]);if(u)return u}return Oe(r.length,a.length)}function Da(i){return xd(i)}function xd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const a=xi(r);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Di(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return _e.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let a="[",o=!0;for(const u of r.values||[])o?o=!1:a+=",",a+=xd(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(r){const a=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${xd(r.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function ac(i){switch(Ii(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mc(i);return e?16+ac(e):16;case 5:return 2*i.stringValue.length;case 6:return Di(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+ac(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return Vi(a.fields,(u,h)=>{o+=u.length+ac(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function Dd(i){return!!i&&"integerValue"in i}function sm(i){return!!i&&"arrayValue"in i}function jv(i){return!!i&&"nullValue"in i}function Lv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function oc(i){return!!i&&"mapValue"in i}function vS(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[A0])===null||r===void 0?void 0:r.stringValue)===T0}function nl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Vi(i.mapValue.fields,(r,a)=>e.mapValue.fields[r]=nl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=nl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function _S(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!oc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(r)}setAll(e){let r=zt.emptyPath(),a={},o=[];e.forEach((h,c)=>{if(!r.isImmediateParentOf(c)){const _=this.getFieldsMap(r);this.applyChanges(_,a,o),a={},o=[],r=c.popLast()}h?a[c.lastSegment()]=nl(h):o.push(c.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,a,o)}delete(e){const r=this.field(e.popLast());oc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=r.mapValue.fields[e.get(a)];oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,a){Vi(r,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new nn(nl(this.value))}}function w0(i){const e=[];return Vi(i.fields,(r,a)=>{const o=new zt([r]);if(oc(a)){const u=w0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,r,a,o,u,h,c){this.key=e,this.documentType=r,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=c}static newInvalidDocument(e){return new Qt(e,0,Re.min(),Re.min(),Re.min(),nn.empty(),0)}static newFoundDocument(e,r,a,o){return new Qt(e,1,r,Re.min(),a,o,0)}static newNoDocument(e,r){return new Qt(e,2,r,Re.min(),Re.min(),nn.empty(),0)}static newUnknownDocument(e,r){return new Qt(e,3,r,Re.min(),Re.min(),nn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,r){this.position=e,this.inclusive=r}}function Pv(i,e,r){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?a=_e.comparator(_e.fromName(h.referenceValue),r.key):a=xa(h,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Uv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!or(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,r="asc"){this.field=e,this.dir=r}}function bS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{}class St extends S0{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new AS(e,r,a):r==="array-contains"?new SS(e,a):r==="in"?new RS(e,a):r==="not-in"?new CS(e,a):r==="array-contains-any"?new xS(e,a):new St(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new TS(e,a):new wS(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(xa(r,this.value)):r!==null&&Ii(this.value)===Ii(r)&&this.matchesComparison(xa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends S0{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new lr(e,r)}matches(e){return R0(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function R0(i){return i.op==="and"}function C0(i){return ES(i)&&R0(i)}function ES(i){for(const e of i.filters)if(e instanceof lr)return!1;return!0}function Id(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+Da(i.value);if(C0(i))return i.filters.map(e=>Id(e)).join(",");{const e=i.filters.map(r=>Id(r)).join(",");return`${i.op}(${e})`}}function x0(i,e){return i instanceof St?function(a,o){return o instanceof St&&a.op===o.op&&a.field.isEqual(o.field)&&or(a.value,o.value)}(i,e):i instanceof lr?function(a,o){return o instanceof lr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,c)=>u&&x0(h,o.filters[c]),!0):!1}(i,e):void Te(19439)}function D0(i){return i instanceof St?function(r){return`${r.field.canonicalString()} ${r.op} ${Da(r.value)}`}(i):i instanceof lr?function(r){return r.op.toString()+" {"+r.getFilters().map(D0).join(" ,")+"}"}(i):"Filter"}class AS extends St{constructor(e,r,a){super(e,r,a),this.key=_e.fromName(a.referenceValue)}matches(e){const r=_e.comparator(e.key,this.key);return this.matchesComparison(r)}}class TS extends St{constructor(e,r){super(e,"in",r),this.keys=I0("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class wS extends St{constructor(e,r){super(e,"not-in",r),this.keys=I0("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function I0(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>_e.fromName(a.referenceValue))}class SS extends St{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return sm(r)&&ml(r.arrayValue,this.value)}}class RS extends St{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ml(this.value.arrayValue,r)}}class CS extends St{constructor(e,r){super(e,"not-in",r)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ml(this.value.arrayValue,r)}}class xS extends St{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!sm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>ml(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,r=null,a=[],o=[],u=null,h=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=c,this.Ie=null}}function zv(i,e=null,r=[],a=[],o=null,u=null,h=null){return new DS(i,e,r,a,o,u,h)}function am(i){const e=xe(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Id(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Nc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Da(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Da(a)).join(",")),e.Ie=r}return e.Ie}function om(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!bS(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!x0(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Uv(i.startAt,e.startAt)&&Uv(i.endAt,e.endAt)}function Od(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r=null,a=[],o=[],u=null,h="F",c=null,_=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=c,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function IS(i,e,r,a,o,u,h,c){return new Vc(i,e,r,a,o,u,h,c)}function O0(i){return new Vc(i)}function Bv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OS(i){return i.collectionGroup!==null}function rl(i){const e=xe(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),r.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let c=new Ct(zt.comparator);return h.filters.forEach(_=>{_.getFlattenedFilters().forEach(y=>{y.isInequality()&&(c=c.add(y.field))})}),c})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new vc(u,a))}),r.has(zt.keyField().canonicalString())||e.Ee.push(new vc(zt.keyField(),a))}return e.Ee}function nr(i){const e=xe(i);return e.de||(e.de=NS(e,rl(i))),e.de}function NS(i,e){if(i.limitType==="F")return zv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new vc(o.field,u)});const r=i.endAt?new yc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new yc(i.startAt.position,i.startAt.inclusive):null;return zv(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function Nd(i,e,r){return new Vc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function kc(i,e){return om(nr(i),nr(e))&&i.limitType===e.limitType}function N0(i){return`${am(nr(i))}|lt:${i.limitType}`}function Aa(i){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(o=>D0(o)).join(", ")}]`),Nc(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(o=>Da(o)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(o=>Da(o)).join(",")),`Target(${a})`}(nr(i))}; limitType=${i.limitType})`}function jc(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_e.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of rl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(h,c,_){const y=Pv(h,c,_);return h.inclusive?y<=0:y<0}(a.startAt,rl(a),o)||a.endAt&&!function(h,c,_){const y=Pv(h,c,_);return h.inclusive?y>=0:y>0}(a.endAt,rl(a),o))}(i,e)}function MS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function M0(i){return(e,r)=>{let a=!1;for(const o of rl(i)){const u=VS(o,e,r);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function VS(i,e,r){const a=i.field.isKeyField()?_e.comparator(e.key,r.key):function(u,h,c){const _=h.data.field(u),y=c.data.field(u);return _!==null&&y!==null?xa(_,y):Te(42886)}(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[r]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(r,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new ot(_e.comparator);function Br(){return kS}const V0=new ot(_e.comparator);function el(...i){let e=V0;for(const r of i)e=e.insert(r.key,r);return e}function k0(i){let e=V0;return i.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function bs(){return il()}function j0(){return il()}function il(){return new Cs(i=>i.toString(),(i,e)=>i.isEqual(e))}const jS=new ot(_e.comparator),LS=new Ct(_e.comparator);function ke(...i){let e=LS;for(const r of i)e=e.add(r);return e}const PS=new Ct(Oe);function US(){return PS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function L0(i){return{integerValue:""+i}}function zS(i,e){return hS(e)?L0(e):lm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function BS(i,e,r){return i instanceof _c?function(o,u){const h={fields:{[_0]:{stringValue:v0},[E0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&im(u)&&(u=Mc(u)),u&&(h.fields[b0]=u),{mapValue:h}}(r,e):i instanceof pl?U0(i,e):i instanceof gl?z0(i,e):function(o,u){const h=P0(o,u),c=qv(h)+qv(o.Re);return Dd(h)&&Dd(o.Re)?L0(c):lm(o.serializer,c)}(i,e)}function qS(i,e,r){return i instanceof pl?U0(i,e):i instanceof gl?z0(i,e):r}function P0(i,e){return i instanceof bc?function(a){return Dd(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class _c extends Lc{}class pl extends Lc{constructor(e){super(),this.elements=e}}function U0(i,e){const r=B0(e);for(const a of i.elements)r.some(o=>or(o,a))||r.push(a);return{arrayValue:{values:r}}}class gl extends Lc{constructor(e){super(),this.elements=e}}function z0(i,e){let r=B0(e);for(const a of i.elements)r=r.filter(o=>!or(o,a));return{arrayValue:{values:r}}}class bc extends Lc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function qv(i){return mt(i.integerValue||i.doubleValue)}function B0(i){return sm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function $S(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof pl&&o instanceof pl||a instanceof gl&&o instanceof gl?Ca(a.elements,o.elements,or):a instanceof bc&&o instanceof bc?or(a.Re,o.Re):a instanceof _c&&o instanceof _c}(i.transform,e.transform)}class FS{constructor(e,r){this.version=e,this.transformResults=r}}class rr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Pc{}function q0(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new F0(i.key,rr.none()):new El(i.key,i.data,rr.none());{const r=i.data,a=nn.empty();let o=new Ct(zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new ki(i.key,a,new mn(o.toArray()),rr.none())}}function HS(i,e,r){i instanceof El?function(o,u,h){const c=o.value.clone(),_=Fv(o.fieldTransforms,u,h.transformResults);c.setAll(_),u.convertToFoundDocument(h.version,c).setHasCommittedMutations()}(i,e,r):i instanceof ki?function(o,u,h){if(!lc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const c=Fv(o.fieldTransforms,u,h.transformResults),_=u.data;_.setAll($0(o)),_.setAll(c),u.convertToFoundDocument(h.version,_).setHasCommittedMutations()}(i,e,r):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,r)}function sl(i,e,r,a){return i instanceof El?function(u,h,c,_){if(!lc(u.precondition,h))return c;const y=u.value.clone(),T=Hv(u.fieldTransforms,_,h);return y.setAll(T),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,r,a):i instanceof ki?function(u,h,c,_){if(!lc(u.precondition,h))return c;const y=Hv(u.fieldTransforms,_,h),T=h.data;return T.setAll($0(u)),T.setAll(y),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(m=>m.field))}(i,e,r,a):function(u,h,c){return lc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):c}(i,e,r)}function GS(i,e){let r=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=P0(a.transform,o||null);u!=null&&(r===null&&(r=nn.empty()),r.set(a.field,u))}return r||null}function $v(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ca(a,o,(u,h)=>$S(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class El extends Pc{constructor(e,r,a,o=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends Pc{constructor(e,r,a,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $0(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}}),e}function Fv(i,e,r){const a=new Map;Fe(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const u=i[o],h=u.transform,c=e.data.field(u.field);a.set(u.field,qS(h,c,r[o]))}return a}function Hv(i,e,r){const a=new Map;for(const o of i){const u=o.transform,h=r.data.field(o.field);a.set(o.field,BS(u,h,e))}return a}class F0 extends Pc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QS extends Pc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,r,a,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HS(u,e,a[o])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=sl(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=sl(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=j0();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let c=this.applyToLocalView(h,u.mutatedFields);c=r.has(o.key)?null:c;const _=q0(h,c);_!==null&&a.set(o.key,_),h.isValidDocument()||h.convertToNoDocument(Re.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(r,a)=>$v(r,a))&&Ca(this.baseMutations,e.baseMutations,(r,a)=>$v(r,a))}}class um{constructor(e,r,a,o){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=o}static from(e,r,a){Fe(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return jS}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new um(e,r,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function ZS(i){switch(i){case le.OK:return Te(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function H0(i){if(i===void 0)return zr("GRPC error has no .code"),le.UNKNOWN;switch(i){case _t.OK:return le.OK;case _t.CANCELLED:return le.CANCELLED;case _t.UNKNOWN:return le.UNKNOWN;case _t.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case _t.INTERNAL:return le.INTERNAL;case _t.UNAVAILABLE:return le.UNAVAILABLE;case _t.UNAUTHENTICATED:return le.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case _t.NOT_FOUND:return le.NOT_FOUND;case _t.ALREADY_EXISTS:return le.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return le.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case _t.ABORTED:return le.ABORTED;case _t.OUT_OF_RANGE:return le.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return le.UNIMPLEMENTED;case _t.DATA_LOSS:return le.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Ti([4294967295,4294967295],0);function Gv(i){const e=d0().encode(i),r=new s0;return r.update(e),new Uint8Array(r.digest())}function Qv(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ti([r,a],0),new Ti([o,u],0)]}class cm{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new tl(`Invalid padding: ${r}`);if(a<0)throw new tl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new tl(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=Ti.fromNumber(this.pe)}we(e,r,a){let o=e.add(r.multiply(Ti.fromNumber(a)));return o.compare(JS)===1&&(o=new Ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=Gv(e),[a,o]=Qv(r);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);if(!this.be(h))return!1}return!0}static create(e,r,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new cm(u,o,r);return a.forEach(c=>h.insert(c)),h}insert(e){if(this.pe===0)return;const r=Gv(e),[a,o]=Qv(r);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);this.Se(h)}}Se(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,r,a,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const o=new Map;return o.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new Uc(Re.min(),o,new ot(Oe),Br(),ke())}}class Al{constructor(e,r,a,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new Al(a,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,r,a,o){this.De=e,this.removedTargetIds=r,this.key=a,this.ve=o}}class G0{constructor(e,r){this.targetId=e,this.Ce=r}}class Q0{constructor(e,r,a=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=o}}class Yv{constructor(){this.Fe=0,this.Me=Kv(),this.xe=Bt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),r=ke(),a=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:u})}}),new Al(this.xe,this.Oe,e,r,a)}Qe(){this.Ne=!1,this.Me=Kv()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class WS{constructor(e){this.ze=e,this.je=new Map,this.He=Br(),this.Je=Wu(),this.Ye=Wu(),this.Ze=new ot(Oe)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const a=this.rt(r);switch(e.state){case 0:this.it(r)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(r);break;case 3:this.it(r)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),a.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((a,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,a=e.Ce.count,o=this._t(r);if(o){const u=o.target;if(Od(u))if(a===0){const h=new _e(u.path);this.tt(r,h,Qt.newNoDocument(h,Re.min()))}else Fe(a===1,20013,{expectedCount:a});else{const h=this.ut(r);if(h!==a){const c=this.ct(e),_=c?this.lt(c,e,h):1;if(_!==0){this.st(r);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=r;let h,c;try{h=Di(a).toUint8Array()}catch(_){if(_ instanceof y0)return Ra("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{c=new cm(h,o,u)}catch(_){return Ra(_ instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return c.pe===0?null:c}lt(e,r,a){return r.Ce.count===a-this.Tt(e,r.targetId)?0:2}Tt(e,r){const a=this.ze.getRemoteKeysForTarget(r);let o=0;return a.forEach(u=>{const h=this.ze.Pt(),c=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,u,null),o++)}),o}It(e){const r=new Map;this.je.forEach((u,h)=>{const c=this._t(h);if(c){if(u.current&&Od(c.target)){const _=new _e(c.target.path);this.Et(_).has(h)||this.dt(h,_)||this.tt(h,_,Qt.newNoDocument(_,e))}u.Le&&(r.set(h,u.qe()),u.Qe())}});let a=ke();this.Ye.forEach((u,h)=>{let c=!0;h.forEachWhile(_=>{const y=this._t(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(a=a.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new Uc(e,r,this.Ze,this.He,a);return this.He=Br(),this.Je=Wu(),this.Ye=Wu(),this.Ze=new ot(Oe),o}et(e,r){if(!this.it(e))return;const a=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,a),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),a&&(this.He=this.He.insert(r,a))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new Yv,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Ct(Oe),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Ct(Oe),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||me("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Yv),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function Wu(){return new ot(_e.comparator)}function Kv(){return new ot(_e.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},t2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n2={and:"AND",or:"OR"};class r2{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Md(i,e){return i.useProto3Json||Nc(e)?e:{value:e}}function Ec(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y0(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function i2(i,e){return Ec(i,e.toTimestamp())}function ir(i){return Fe(!!i,49232),Re.fromTimestamp(function(r){const a=xi(r);return new Rt(a.seconds,a.nanos)}(i))}function fm(i,e){return Vd(i,e).canonicalString()}function Vd(i,e){const r=function(o){return new it(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function K0(i){const e=it.fromString(i);return Fe(eb(e),10190,{key:e.toString()}),e}function kd(i,e){return fm(i.databaseId,e.path)}function cd(i,e){const r=K0(e);if(r.get(1)!==i.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new _e(Z0(r))}function X0(i,e){return fm(i.databaseId,e)}function s2(i){const e=K0(i);return e.length===4?it.emptyPath():Z0(e)}function jd(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Z0(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Xv(i,e,r){return{name:kd(i,e),fields:r.value.mapValue.fields}}function a2(i,e){let r;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Bt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Bt.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,c=h&&function(y){const T=y.code===void 0?le.UNKNOWN:H0(y.code);return new ve(T,y.message||"")}(h);r=new Q0(a,o,u,c||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=cd(i,a.document.name),u=ir(a.document.updateTime),h=a.document.createTime?ir(a.document.createTime):Re.min(),c=new nn({mapValue:{fields:a.document.fields}}),_=Qt.newFoundDocument(o,u,h,c),y=a.targetIds||[],T=a.removedTargetIds||[];r=new uc(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=cd(i,a.document),u=a.readTime?ir(a.readTime):Re.min(),h=Qt.newNoDocument(o,u),c=a.removedTargetIds||[];r=new uc([],c,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=cd(i,a.document),u=a.removedTargetIds||[];r=new uc([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new XS(o,u),c=a.targetId;r=new G0(c,h)}}return r}function o2(i,e){let r;if(e instanceof El)r={update:Xv(i,e.key,e.value)};else if(e instanceof F0)r={delete:kd(i,e.key)};else if(e instanceof ki)r={update:Xv(i,e.key,e.data),updateMask:g2(e.fieldMask)};else{if(!(e instanceof QS))return Te(16599,{ft:e.type});r={verify:kd(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const c=h.transform;if(c instanceof _c)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof pl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof gl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bc)return{fieldPath:h.field.canonicalString(),increment:c.Re};throw Te(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:i2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),r}function l2(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(r=>function(o,u){let h=o.updateTime?ir(o.updateTime):ir(u);return h.isEqual(Re.min())&&(h=ir(u)),new FS(h,o.transformResults||[])}(r,e))):[]}function u2(i,e){return{documents:[X0(i,e.path)]}}function c2(i,e){const r={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=X0(i,o);const u=function(y){if(y.length!==0)return W0(lr.create(y,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(T=>function(p){return{field:Ta(p.field),direction:d2(p.dir)}}(T))}(e.orderBy);h&&(r.structuredQuery.orderBy=h);const c=Md(i,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:r,parent:o}}function f2(i){let e=s2(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let o=null;if(a>0){Fe(a===1,65062);const T=r.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];r.where&&(u=function(m){const p=J0(m);return p instanceof lr&&C0(p)?p.getFilters():[p]}(r.where));let h=[];r.orderBy&&(h=function(m){return m.map(p=>function(g){return new vc(wa(g.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let c=null;r.limit&&(c=function(m){let p;return p=typeof m=="object"?m.value:m,Nc(p)?null:p}(r.limit));let _=null;r.startAt&&(_=function(m){const p=!!m.before,b=m.values||[];return new yc(b,p)}(r.startAt));let y=null;return r.endAt&&(y=function(m){const p=!m.before,b=m.values||[];return new yc(b,p)}(r.endAt)),IS(e,o,h,u,c,"F",_,y)}function h2(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function J0(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=wa(r.unaryFilter.field);return St.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=wa(r.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wa(r.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wa(r.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(r){return St.create(wa(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return lr.create(r.compositeFilter.filters.map(a=>J0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(r.compositeFilter.op))}(i):Te(30097,{filter:i})}function d2(i){return e2[i]}function m2(i){return t2[i]}function p2(i){return n2[i]}function Ta(i){return{fieldPath:i.canonicalString()}}function wa(i){return zt.fromServerFormat(i.fieldPath)}function W0(i){return i instanceof St?function(r){if(r.op==="=="){if(Lv(r.value))return{unaryFilter:{field:Ta(r.field),op:"IS_NAN"}};if(jv(r.value))return{unaryFilter:{field:Ta(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Lv(r.value))return{unaryFilter:{field:Ta(r.field),op:"IS_NOT_NAN"}};if(jv(r.value))return{unaryFilter:{field:Ta(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(r.field),op:m2(r.op),value:r.value}}}(i):i instanceof lr?function(r){const a=r.getFilters().map(o=>W0(o));return a.length===1?a[0]:{compositeFilter:{op:p2(r.op),filters:a}}}(i):Te(54877,{filter:i})}function g2(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function eb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,r,a,o,u=Re.min(),h=Re.min(),c=Bt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=c,this.expectedCount=_}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.wt=e}}function v2(i){const e=f2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.yn=new b2}addToCollectionParentIndex(e,r){return this.yn.add(r),se.resolve()}getCollectionParents(e,r){return se.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return se.resolve()}deleteFieldIndex(e,r){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,r){return se.resolve()}getDocumentsMatchingTarget(e,r){return se.resolve(null)}getIndexType(e,r){return se.resolve(0)}getFieldIndexes(e,r){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,r){return se.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,r){return se.resolve(Ci.min())}updateCollectionGroup(e,r,a){return se.resolve()}updateIndexEntries(e,r){return se.resolve()}}class b2{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),o=this.index[r]||new Ct(it.comparator),u=!o.has(a);return this.index[r]=o.add(a),u}has(e){const r=e.lastSegment(),a=e.popLast(),o=this.index[r];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ct(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tb=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(tb,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ia(0)}static ir(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="LruGarbageCollector",E2=1048576;function Wv([i,e],[r,a]){const o=Oe(i,r);return o===0?Oe(e,a):o}class A2{constructor(e){this.cr=e,this.buffer=new Ct(Wv),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Wv(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class T2{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(Jv,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Pa(r)?me(Jv,"Ignoring IndexedDB error during garbage collection: ",r):await La(r)}await this.Ir(3e5)})}}class w2{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(r===0)return se.resolve(Oc.le);const a=new A2(r);return this.Er.forEachTarget(e,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Er.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Zv)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zv):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let a,o,u,h,c,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),o=this.params.maximumSequenceNumbersToCollect):o=m,h=Date.now(),this.nthSequenceNumber(e,o))).next(m=>(a=m,c=Date.now(),this.removeTargets(e,a,r))).next(m=>(u=m,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(m=>(y=Date.now(),Ea()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(c-h)+`ms
	Removed ${u} targets in `+(_-c)+`ms
	Removed ${m} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:m})))}}function S2(i,e){return new w2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.changes=new Cs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?se.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,r,a,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(a!==null&&sl(a.mutation,o,mn.empty(),Rt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,ke()).next(()=>a))}getLocalViewOfDocuments(e,r,a=ke()){const o=bs();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,a).next(u=>{let h=el();return u.forEach((c,_)=>{h=h.insert(c,_.overlayedDocument)}),h}))}getOverlayedDocuments(e,r){const a=bs();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,ke()))}populateOverlays(e,r,a){const o=[];return a.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,c)=>{r.set(h,c)})})}computeViews(e,r,a,o){let u=Br();const h=il(),c=function(){return il()}();return r.forEach((_,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ki)?u=u.insert(y.key,y):T!==void 0?(h.set(y.key,T.mutation.getFieldMask()),sl(T.mutation,y,T.mutation.getFieldMask(),Rt.now())):h.set(y.key,mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((y,T)=>h.set(y,T)),r.forEach((y,T)=>{var m;return c.set(y,new C2(T,(m=h.get(y))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const a=il();let o=new ot((h,c)=>h-c),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(h=>{for(const c of h)c.keys().forEach(_=>{const y=r.get(_);if(y===null)return;let T=a.get(_)||mn.empty();T=c.applyToLocalView(y,T),a.set(_,T);const m=(o.get(c.batchId)||ke()).add(_);o=o.insert(c.batchId,m)})}).next(()=>{const h=[],c=o.getReverseIterator();for(;c.hasNext();){const _=c.getNext(),y=_.key,T=_.value,m=j0();T.forEach(p=>{if(!u.has(p)){const b=q0(r.get(p),a.get(p));b!==null&&m.set(p,b),u=u.add(p)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,m))}return se.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):OS(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,o):this.getDocumentsMatchingCollectionQuery(e,r,a,o)}getNextDocuments(e,r,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,o-u.size):se.resolve(bs());let c=fl,_=u;return h.next(y=>se.forEach(y,(T,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),u.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next(p=>{_=_.insert(T,p)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,_,y,ke())).next(T=>({batchId:c,changes:k0(T)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new _e(r)).next(a=>{let o=el();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,a,o){const u=r.collectionGroup;let h=el();return this.indexManager.getCollectionParents(e,u).next(c=>se.forEach(c,_=>{const y=function(m,p){return new Vc(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(T=>{T.forEach((m,p)=>{h=h.insert(m,p)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,r,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,u,o))).next(h=>{u.forEach((_,y)=>{const T=y.getKey();h.get(T)===null&&(h=h.insert(T,Qt.newInvalidDocument(T)))});let c=el();return h.forEach((_,y)=>{const T=u.get(_);T!==void 0&&sl(T.mutation,y,mn.empty(),Rt.now()),jc(r,y)&&(c=c.insert(_,y))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return se.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}}(r)),se.resolve()}getNamedQuery(e,r){return se.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:v2(o.bundledQuery),readTime:ir(o.readTime)}}(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new ot(_e.comparator),this.Or=new Map}getOverlay(e,r){return se.resolve(this.overlays.get(r))}getOverlays(e,r){const a=bs();return se.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((o,u)=>{this.St(e,r,u)}),se.resolve()}removeOverlaysForBatchId(e,r,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),se.resolve()}getOverlaysForCollection(e,r,a){const o=bs(),u=r.length+1,h=new _e(r.child("")),c=this.overlays.getIteratorFrom(h);for(;c.hasNext();){const _=c.getNext().value,y=_.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>a&&o.set(_.getKey(),_)}return se.resolve(o)}getOverlaysForCollectionGroup(e,r,a,o){let u=new ot((y,T)=>y-T);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>a){let T=u.get(y.largestBatchId);T===null&&(T=bs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const c=bs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((y,T)=>c.set(y,T)),!(c.size()>=o)););return se.resolve(c)}St(e,r,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new KS(r,a));let u=this.Or.get(r);u===void 0&&(u=ke(),this.Or.set(r,u)),this.Or.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.Nr=new Ct(Mt.Br),this.Lr=new Ct(Mt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const a=new Mt(e,r);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Qr(new Mt(e,r))}$r(e,r){e.forEach(a=>this.removeReference(a,r))}Ur(e){const r=new _e(new it([])),a=new Mt(r,e),o=new Mt(r,e+1),u=[];return this.Lr.forEachInRange([a,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new _e(new it([])),a=new Mt(r,e),o=new Mt(r,e+1);let u=ke();return this.Lr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const r=new Mt(e,0),a=this.Nr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class Mt{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return _e.comparator(e.key,r.key)||Oe(e.Gr,r.Gr)}static kr(e,r){return Oe(e.Gr,r.Gr)||_e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ct(Mt.Br)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new YS(u,r,a,o);this.mutationQueue.push(h);for(const c of o)this.zr=this.zr.add(new Mt(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,r){return se.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,o=this.Hr(a),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?rm:this.Jn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Mt(r,0),o=new Mt(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],h=>{const c=this.jr(h.Gr);u.push(c)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ct(Oe);return r.forEach(o=>{const u=new Mt(o,0),h=new Mt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],c=>{a=a.add(c.Gr)})}),se.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,o=a.length+1;let u=a;_e.isDocumentKey(u)||(u=u.child(""));const h=new Mt(new _e(u),0);let c=new Ct(Oe);return this.zr.forEachWhile(_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(c=c.add(_.Gr)),!0)},h),se.resolve(this.Jr(c))}Jr(e){const r=[];return e.forEach(a=>{const o=this.jr(a);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){Fe(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return se.forEach(r.mutations,o=>{const u=new Mt(o.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=a})}Xn(e){}containsKey(e,r){const a=new Mt(r,0),o=this.zr.firstAfterOrEqual(a);return se.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.Zr=e,this.docs=function(){return new ot(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,o=this.docs.get(a),u=o?o.size:0,h=this.Zr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return se.resolve(a?a.document.mutableCopy():Qt.newInvalidDocument(r))}getEntries(e,r){let a=Br();return r.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Qt.newInvalidDocument(o))}),se.resolve(a)}getDocumentsMatchingQuery(e,r,a,o){let u=Br();const h=r.path,c=new _e(h.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(c);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||lS(oS(T),a)<=0||(o.has(T.key)||jc(r,T))&&(u=u.insert(T.key,T.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,r,a,o){Te(9500)}Xr(e,r){return se.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new V2(this)}getSize(e){return se.resolve(this.size)}}class V2 extends R2{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(a)}),se.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.persistence=e,this.ei=new Cs(r=>am(r),om),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ti=0,this.ni=new hm,this.targetCount=0,this.ri=Ia.rr()}forEachTarget(e,r){return this.ei.forEach((a,o)=>r(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.ti&&(this.ti=r),se.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new Ia(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,se.resolve()}updateTargetData(e,r){return this.ar(r),se.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,r,a){let o=0;const u=[];return this.ei.forEach((h,c)=>{c.sequenceNumber<=r&&a.get(c.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,r){const a=this.ei.get(r)||null;return se.resolve(a)}addMatchingKeys(e,r,a){return this.ni.qr(r,a),se.resolve()}removeMatchingKeys(e,r,a){this.ni.$r(r,a);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),se.resolve()}getMatchingKeysForTargetId(e,r){const a=this.ni.Wr(r);return se.resolve(a)}containsKey(e,r){return se.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,r){this.ii={},this.overlays={},this.si=new Oc(0),this.oi=!1,this.oi=!0,this._i=new O2,this.referenceDelegate=e(this),this.ai=new k2(this),this.indexManager=new _2,this.remoteDocumentCache=function(o){return new M2(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new y2(r),this.ci=new D2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new I2,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ii[e.toKey()];return a||(a=new N2(r,this.referenceDelegate),this.ii[e.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,a){me("MemoryPersistence","Starting transaction:",e);const o=new j2(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,r){return se.or(Object.values(this.ii).map(a=>()=>a.containsKey(e,r)))}}class j2 extends cS{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.Ti=new hm,this.Ii=null}static Ei(e){return new dm(e)}get di(){if(this.Ii)return this.Ii;throw Te(60996)}addReference(e,r,a){return this.Ti.addReference(a,r),this.di.delete(a.toString()),se.resolve()}removeReference(e,r,a){return this.Ti.removeReference(a,r),this.di.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),se.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,a=>{const o=_e.fromPath(a);return this.Ai(e,o).next(u=>{u||r.removeEntry(o,Re.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(a=>{a?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return se.or([()=>se.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Ac{constructor(e,r){this.persistence=e,this.Ri=new Cs(a=>dS(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=S2(this,r)}static Ei(e,r){return new Ac(e,r)}li(){}hi(e){return se.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>r.next(o=>a+o))}Vr(e){let r=0;return this.Ar(e,a=>{r++}).next(()=>r)}Ar(e,r){return se.forEach(this.Ri,(a,o)=>this.gr(e,a,o).next(u=>u?se.resolve():r(o)))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,h=>this.gr(e,h,r).next(c=>{c||(a++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),se.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.Ri.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,r,a){return this.Ri.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),se.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ac(e.data.value)),r}gr(e,r,a){return se.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return se.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,r,a,o){this.targetId=e,this.fromCache=r,this.ls=a,this.hs=o}static Ps(e,r){let a=ke(),o=ke();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mm(e,r.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return N1()?8:fS(D1())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,a,o){const u={result:null};return this.Rs(e,r).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(e,r,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new L2;return this.fs(e,r,h).next(c=>{if(u.result=c,this.Is)return this.gs(e,r,h,c.size)})}).next(()=>u.result)}gs(e,r,a,o){return a.documentReadCount<this.Es?(Ea()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Aa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),se.resolve()):(Ea()<=ze.DEBUG&&me("QueryEngine","Query:",Aa(r),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Ea()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Aa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(r))):se.resolve())}Rs(e,r){if(Bv(r))return se.resolve(null);let a=nr(r);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Nd(r,null,"F"),a=nr(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=ke(...u);return this.As.getDocuments(e,h).next(c=>this.indexManager.getMinOffset(e,a).next(_=>{const y=this.ps(r,c);return this.ys(r,y,h,_.readTime)?this.Rs(e,Nd(r,null,"F")):this.ws(e,y,r,_)}))})))}Vs(e,r,a,o){return Bv(r)||o.isEqual(Re.min())?se.resolve(null):this.As.getDocuments(e,a).next(u=>{const h=this.ps(r,u);return this.ys(r,h,a,o)?se.resolve(null):(Ea()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Aa(r)),this.ws(e,h,r,aS(o,fl)).next(c=>c))})}ps(e,r){let a=new Ct(M0(e));return r.forEach((o,u)=>{jc(e,u)&&(a=a.add(u))}),a}ys(e,r,a,o){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,r,a){return Ea()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Aa(r)),this.As.getDocumentsMatchingQuery(e,r,Ci.min(),a)}ws(e,r,a,o){return this.As.getDocumentsMatchingQuery(e,a,o).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="LocalStore",U2=3e8;class z2{constructor(e,r,a,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new ot(Oe),this.Ds=new Cs(u=>am(u),om),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(a)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function B2(i,e,r,a){return new z2(i,e,r,a)}async function rb(i,e){const r=xe(i);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let o;return r.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,r.Fs(e),r.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],c=[];let _=ke();for(const y of o){h.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of u){c.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return r.localDocuments.getDocuments(a,_).next(y=>({Ms:y,removedBatchIds:h,addedBatchIds:c}))})})}function q2(i,e){const r=xe(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(c,_,y,T){const m=y.batch,p=m.keys();let b=se.resolve();return p.forEach(g=>{b=b.next(()=>T.getEntry(_,g)).next(v=>{const S=y.docVersions.get(g);Fe(S!==null,48541),v.version.compareTo(S)<0&&(m.applyToRemoteDocument(v,y),v.isValidDocument()&&(v.setReadTime(y.commitVersion),T.addEntry(v)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(_,m))}(r,a,e,u).next(()=>u.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(c){let _=ke();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(_=_.add(c.batch.mutations[y].key));return _}(e))).next(()=>r.localDocuments.getDocuments(a,o))})}function ib(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function $2(i,e){const r=xe(i),a=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const c=[];e.targetChanges.forEach((T,m)=>{const p=o.get(m);if(!p)return;c.push(r.ai.removeMatchingKeys(u,T.removedDocuments,m).next(()=>r.ai.addMatchingKeys(u,T.addedDocuments,m)));let b=p.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Bt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(T.resumeToken,a)),o=o.insert(m,b),function(v,S,A){return v.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=U2?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(p,b,T)&&c.push(r.ai.updateTargetData(u,b))});let _=Br(),y=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(u,T))}),c.push(F2(u,h,e.documentUpdates).next(T=>{_=T.xs,y=T.Os})),!a.isEqual(Re.min())){const T=r.ai.getLastRemoteSnapshotVersion(u).next(m=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));c.push(T)}return se.waitFor(c).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,_,y)).next(()=>_)}).then(u=>(r.Ss=o,u))}function F2(i,e,r){let a=ke(),o=ke();return r.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let h=Br();return r.forEach((c,_)=>{const y=u.get(c);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(c)),_.isNoDocument()&&_.version.isEqual(Re.min())?(e.removeEntry(c,_.readTime),h=h.insert(c,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),h=h.insert(c,_)):me(pm,"Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",_.version)}),{xs:h,Os:o}})}function H2(i,e){const r=xe(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=rm),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function G2(i,e){const r=xe(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return r.ai.getTargetData(a,e).next(u=>u?(o=u,se.resolve(o)):r.ai.allocateTargetId(a).next(h=>(o=new bi(e,h,"TargetPurposeListen",a.currentSequenceNumber),r.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=r.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(a.targetId,a),r.Ds.set(e,a.targetId)),a})}async function Ld(i,e,r){const a=xe(i),o=a.Ss.get(e),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Pa(h))throw h;me(pm,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ss=a.Ss.remove(e),a.Ds.delete(o.target)}function e_(i,e,r){const a=xe(i);let o=Re.min(),u=ke();return a.persistence.runTransaction("Execute query","readwrite",h=>function(_,y,T){const m=xe(_),p=m.Ds.get(T);return p!==void 0?se.resolve(m.Ss.get(p)):m.ai.getTargetData(y,T)}(a,h,nr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(h,c.targetId).next(_=>{u=_})}).next(()=>a.bs.getDocumentsMatchingQuery(h,e,r?o:Re.min(),r?u:ke())).next(c=>(Q2(a,MS(e),c),{documents:c,Ns:u})))}function Q2(i,e,r){let a=i.vs.get(e)||Re.min();r.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.vs.set(e,a)}class t_{constructor(){this.activeTargetIds=US()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y2{constructor(){this.So=new t_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,a){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new t_,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class r_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(n_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function Pd(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="RestConnection",X2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===pc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(e,r,a,o,u){const h=Pd(),c=this.$o(e,r.toUriEncodedString());me(fd,`Sending RPC '${e}' ${h}:`,c,a);const _={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(_,o,u);const{host:y}=new URL(c),T=Z_(y);return this.Ko(e,c,_,a,T).then(m=>(me(fd,`Received RPC '${e}' ${h}: `,m),m),m=>{throw Ra(fd,`RPC '${e}' ${h} failed with error: `,m,"url: ",c,"request:",a),m})}Wo(e,r,a,o,u,h){return this.Qo(e,r,a,o,u)}Uo(e,r,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}$o(e,r){const a=X2[e];return`${this.Lo}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class W2 extends Z2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,a,o,u){const h=Pd();return new Promise((c,_)=>{const y=new a0;y.setWithCredentials(!0),y.listenOnce(o0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case sc.NO_ERROR:const m=y.getResponseJson();me(Ht,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(m)),c(m);break;case sc.TIMEOUT:me(Ht,`RPC '${e}' ${h} timed out`),_(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const p=y.getStatus();if(me(Ht,`RPC '${e}' ${h} failed with status:`,p,"response text:",y.getResponseText()),p>0){let b=y.getResponseJson();Array.isArray(b)&&(b=b[0]);const g=b==null?void 0:b.error;if(g&&g.status&&g.message){const v=function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(R)>=0?R:le.UNKNOWN}(g.status);_(new ve(v,g.message))}else _(new ve(le.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{s_:e,streamId:h,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{me(Ht,`RPC '${e}' ${h} completed.`)}});const T=JSON.stringify(o);me(Ht,`RPC '${e}' ${h} sending request:`,o),y.send(r,"POST",T,a,15)})}a_(e,r,a){const o=Pd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=c0(),c=u0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Uo(_.initMessageHeaders,r,a),_.encodeInitMessageHeaders=!0;const T=u.join("");me(Ht,`Creating RPC '${e}' stream ${o}: ${T}`,_);const m=h.createWebChannel(T,_);let p=!1,b=!1;const g=new J2({Go:S=>{b?me(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(p||(me(Ht,`Opening RPC '${e}' stream ${o} transport.`),m.open(),p=!0),me(Ht,`RPC '${e}' stream ${o} sending:`,S),m.send(S))},zo:()=>m.close()}),v=(S,A,R)=>{S.listen(A,D=>{try{R(D)}catch(V){setTimeout(()=>{throw V},0)}})};return v(m,Wo.EventType.OPEN,()=>{b||(me(Ht,`RPC '${e}' stream ${o} transport opened.`),g.t_())}),v(m,Wo.EventType.CLOSE,()=>{b||(b=!0,me(Ht,`RPC '${e}' stream ${o} transport closed`),g.r_())}),v(m,Wo.EventType.ERROR,S=>{b||(b=!0,Ra(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),g.r_(new ve(le.UNAVAILABLE,"The operation could not be completed")))}),v(m,Wo.EventType.MESSAGE,S=>{var A;if(!b){const R=S.data[0];Fe(!!R,16349);const D=R,V=(D==null?void 0:D.error)||((A=D[0])===null||A===void 0?void 0:A.error);if(V){me(Ht,`RPC '${e}' stream ${o} received error:`,V);const k=V.status;let z=function(x){const I=_t[x];if(I!==void 0)return H0(I)}(k),N=V.message;z===void 0&&(z=le.INTERNAL,N="Unknown error status: "+k+" with message "+V.message),b=!0,g.r_(new ve(z,N)),m.close()}else me(Ht,`RPC '${e}' stream ${o} received:`,R),g.i_(R)}}),v(c,l0.STAT_EVENT,S=>{S.stat===Rd.PROXY?me(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===Rd.NOPROXY&&me(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(i){return new r2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,r,a=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=r,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-a);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="PersistentStream";class ab{constructor(e,r,a,o,u,h,c,_){this.bi=e,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=c,this.listener=_,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new sb(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===le.RESOURCE_EXHAUSTED?(zr(r.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===r&&this.B_(a,o)},a=>{e(()=>{const o=new ve(le.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(e,r){const a=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(i_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(me(i_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eR extends ab{constructor(e,r,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,o,h),this.serializer=u}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=a2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?ir(h.readTime):Re.min()}(e);return this.listener.Q_(r,a)}U_(e){const r={};r.database=jd(this.serializer),r.addTarget=function(u,h){let c;const _=h.target;if(c=Od(_)?{documents:u2(u,_)}:{query:c2(u,_).gt},c.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){c.resumeToken=Y0(u,h.resumeToken);const y=Md(u,h.expectedCount);y!==null&&(c.expectedCount=y)}else if(h.snapshotVersion.compareTo(Re.min())>0){c.readTime=Ec(u,h.snapshotVersion.toTimestamp());const y=Md(u,h.expectedCount);y!==null&&(c.expectedCount=y)}return c}(this.serializer,e);const a=h2(this.serializer,e);a&&(r.labels=a),this.F_(r)}K_(e){const r={};r.database=jd(this.serializer),r.removeTarget=e,this.F_(r)}}class tR extends ab{constructor(e,r,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,o,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=l2(e.writeResults,e.commitTime),a=ir(e.commitTime);return this.listener.j_(a,r)}H_(){const e={};e.database=jd(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>o2(this.serializer,a))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{}class rR extends nR{constructor(e,r,a,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(e,Vd(r,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(le.UNKNOWN,u.toString())})}Wo(e,r,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,c])=>this.connection.Wo(e,Vd(r,a),o,h,c,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(le.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class iR{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zr(r),this.ea=!1):me("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="RemoteStore";class sR{constructor(e,r,a,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{a.enqueueAndForget(async()=>{xs(this)&&(me(Ts,"Restarting streams for network reachability change."),await async function(_){const y=xe(_);y.aa.add(4),await Tl(y),y.la.set("Unknown"),y.aa.delete(4),await Bc(y)}(this))})}),this.la=new iR(a,o)}}async function Bc(i){if(xs(i))for(const e of i.ua)await e(!0)}async function Tl(i){for(const e of i.ua)await e(!1)}function ob(i,e){const r=xe(i);r._a.has(e.targetId)||(r._a.set(e.targetId,e),_m(r)?vm(r):Ua(r).b_()&&ym(r,e))}function gm(i,e){const r=xe(i),a=Ua(r);r._a.delete(e),a.b_()&&lb(r,e),r._a.size===0&&(a.b_()?a.v_():xs(r)&&r.la.set("Unknown"))}function ym(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ua(i).U_(e)}function lb(i,e){i.ha.Ke(e),Ua(i).K_(e)}function vm(i){i.ha=new WS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Ua(i).start(),i.la.ta()}function _m(i){return xs(i)&&!Ua(i).w_()&&i._a.size>0}function xs(i){return xe(i).aa.size===0}function ub(i){i.ha=void 0}async function aR(i){i.la.set("Online")}async function oR(i){i._a.forEach((e,r)=>{ym(i,e)})}async function lR(i,e){ub(i),_m(i)?(i.la.ia(e),vm(i)):i.la.set("Unknown")}async function uR(i,e,r){if(i.la.set("Online"),e instanceof Q0&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,h),o._a.delete(c),o.ha.removeTarget(c))}(i,e)}catch(a){me(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Tc(i,a)}else if(e instanceof uc?i.ha.Xe(e):e instanceof G0?i.ha.ot(e):i.ha.nt(e),!r.isEqual(Re.min()))try{const a=await ib(i.localStore);r.compareTo(a)>=0&&await function(u,h){const c=u.ha.It(h);return c.targetChanges.forEach((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=u._a.get(y);T&&u._a.set(y,T.withResumeToken(_.resumeToken,h))}}),c.targetMismatches.forEach((_,y)=>{const T=u._a.get(_);if(!T)return;u._a.set(_,T.withResumeToken(Bt.EMPTY_BYTE_STRING,T.snapshotVersion)),lb(u,_);const m=new bi(T.target,_,y,T.sequenceNumber);ym(u,m)}),u.remoteSyncer.applyRemoteEvent(c)}(i,r)}catch(a){me(Ts,"Failed to raise snapshot:",a),await Tc(i,a)}}async function Tc(i,e,r){if(!Pa(e))throw e;i.aa.add(1),await Tl(i),i.la.set("Offline"),r||(r=()=>ib(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(Ts,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await Bc(i)})}function cb(i,e){return e().catch(r=>Tc(i,r,e))}async function qc(i){const e=xe(i),r=Oi(e);let a=e.oa.length>0?e.oa[e.oa.length-1].batchId:rm;for(;cR(e);)try{const o=await H2(e.localStore,a);if(o===null){e.oa.length===0&&r.v_();break}a=o.batchId,fR(e,o)}catch(o){await Tc(e,o)}fb(e)&&hb(e)}function cR(i){return xs(i)&&i.oa.length<10}function fR(i,e){i.oa.push(e);const r=Oi(i);r.b_()&&r.W_&&r.G_(e.mutations)}function fb(i){return xs(i)&&!Oi(i).w_()&&i.oa.length>0}function hb(i){Oi(i).start()}async function hR(i){Oi(i).H_()}async function dR(i){const e=Oi(i);for(const r of i.oa)e.G_(r.mutations)}async function mR(i,e,r){const a=i.oa.shift(),o=um.from(a,e,r);await cb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await qc(i)}async function pR(i,e){e&&Oi(i).W_&&await async function(a,o){if(function(h){return ZS(h)&&h!==le.ABORTED}(o.code)){const u=a.oa.shift();Oi(a).D_(),await cb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qc(a)}}(i,e),fb(i)&&hb(i)}async function s_(i,e){const r=xe(i);r.asyncQueue.verifyOperationInProgress(),me(Ts,"RemoteStore received new credentials");const a=xs(r);r.aa.add(3),await Tl(r),a&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await Bc(r)}async function gR(i,e){const r=xe(i);e?(r.aa.delete(2),await Bc(r)):e||(r.aa.add(2),await Tl(r),r.la.set("Unknown"))}function Ua(i){return i.Pa||(i.Pa=function(r,a,o){const u=xe(r);return u.Y_(),new eR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:aR.bind(null,i),Jo:oR.bind(null,i),Zo:lR.bind(null,i),Q_:uR.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),_m(i)?vm(i):i.la.set("Unknown")):(await i.Pa.stop(),ub(i))})),i.Pa}function Oi(i){return i.Ta||(i.Ta=function(r,a,o){const u=xe(r);return u.Y_(),new tR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:hR.bind(null,i),Zo:pR.bind(null,i),z_:dR.bind(null,i),j_:mR.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await qc(i)):(await i.Ta.stop(),i.oa.length>0&&(me(Ts,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,r,a,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,o,u){const h=Date.now()+a,c=new bm(e,r,h,o,u);return c.start(a),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Em(i,e){if(zr("AsyncQueue",`${e}: ${i}`),Pa(i))return new ve(le.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static emptySet(e){return new Sa(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||_e.comparator(r.key,a.key):(r,a)=>_e.comparator(r.key,a.key),this.keyedMap=el(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new Sa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.Ia=new ot(_e.comparator)}track(e){const r=e.doc.key,a=this.Ia.get(r);a?e.type!==0&&a.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&a.type!==1?this.Ia=this.Ia.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Ia=this.Ia.remove(r):e.type===1&&a.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Te(63341,{Vt:e,Ea:a}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,a)=>{e.push(a)}),e}}class Oa{constructor(e,r,a,o,u,h,c,_,y){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=c,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,r,a,o,u){const h=[];return r.forEach(c=>{h.push({type:0,doc:c})}),new Oa(e,r,Sa.emptySet(r),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==a[o].type||!r[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class vR{constructor(){this.queries=o_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,a){const o=xe(r),u=o.queries;o.queries=o_(),u.forEach((h,c)=>{for(const _ of c.Ra)_.onError(a)})})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function o_(){return new Cs(i=>N0(i),kc)}async function _R(i,e){const r=xe(i);let a=3;const o=e.query;let u=r.queries.get(o);u?!u.Va()&&e.ma()&&(a=2):(u=new yR,a=e.ma()?0:1);try{switch(a){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const c=Em(h,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,u),u.Ra.push(e),e.ga(r.onlineState),u.Aa&&e.pa(u.Aa)&&Am(r)}async function bR(i,e){const r=xe(i),a=e.query;let o=3;const u=r.queries.get(a);if(u){const h=u.Ra.indexOf(e);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function ER(i,e){const r=xe(i);let a=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const c of h.Ra)c.pa(o)&&(a=!0);h.Aa=o}}a&&Am(r)}function AR(i,e,r){const a=xe(i),o=a.queries.get(e);if(o)for(const u of o.Ra)u.onError(r);a.queries.delete(e)}function Am(i){i.fa.forEach(e=>{e.next()})}var Ud,l_;(l_=Ud||(Ud={})).ya="default",l_.Cache="cache";class TR{constructor(e,r,a){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Oa(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const a=r!=="Offline";return(!this.options.Fa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.key=e}}class mb{constructor(e){this.key=e}}class wR{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=M0(e),this.Ka=new Sa(this.Ua)}get Wa(){return this.qa}Ga(e,r){const a=r?r.za:new a_,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,c=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,m)=>{const p=o.get(T),b=jc(this.query,m)?m:null,g=!!p&&this.mutatedKeys.has(p.key),v=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;p&&b?p.data.isEqual(b.data)?g!==v&&(a.track({type:3,doc:b}),S=!0):this.ja(p,b)||(a.track({type:2,doc:b}),S=!0,(_&&this.Ua(b,_)>0||y&&this.Ua(b,y)<0)&&(c=!0)):!p&&b?(a.track({type:0,doc:b}),S=!0):p&&!b&&(a.track({type:1,doc:p}),S=!0,(_||y)&&(c=!0)),S&&(b?(h=h.add(b),u=v?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{Ka:h,za:a,ys:c,mutatedKeys:u}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((T,m)=>function(b,g){const v=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:S})}};return v(b)-v(g)}(T.type,m.type)||this.Ua(T.doc,m.doc)),this.Ha(a),o=o!=null&&o;const c=r&&!o?this.Ja():[],_=this.$a.size===0&&this.current&&!o?1:0,y=_!==this.Qa;return this.Qa=_,h.length!==0||y?{snapshot:new Oa(this.query,e.Ka,u,h,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new a_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const r=[];return e.forEach(a=>{this.$a.has(a)||r.push(new mb(a))}),this.$a.forEach(a=>{e.has(a)||r.push(new db(a))}),r}Xa(e){this.qa=e.Ns,this.$a=ke();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return Oa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Tm="SyncEngine";class SR{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class RR{constructor(e){this.key=e,this.tu=!1}}class CR{constructor(e,r,a,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new Cs(c=>N0(c),kc),this.iu=new Map,this.su=new Set,this.ou=new ot(_e.comparator),this._u=new Map,this.au=new hm,this.uu={},this.cu=new Map,this.lu=Ia.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function xR(i,e,r=!0){const a=bb(i);let o;const u=a.ru.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await pb(a,e,r,!0),o}async function DR(i,e){const r=bb(i);await pb(r,e,!0,!1)}async function pb(i,e,r,a){const o=await G2(i.localStore,nr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let c;return a&&(c=await IR(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&r&&ob(i.remoteStore,o),c}async function IR(i,e,r,a,o){i.Pu=(m,p,b)=>async function(v,S,A,R){let D=S.view.Ga(A);D.ys&&(D=await e_(v.localStore,S.query,!1).then(({documents:N})=>S.view.Ga(N,D)));const V=R&&R.targetChanges.get(S.targetId),k=R&&R.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(D,v.isPrimaryClient,V,k);return c_(v,S.targetId,z.Ya),z.snapshot}(i,m,p,b);const u=await e_(i.localStore,e,!0),h=new wR(e,u.Ns),c=h.Ga(u.documents),_=Al.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",o),y=h.applyChanges(c,i.isPrimaryClient,_);c_(i,r,y.Ya);const T=new SR(e,r,h);return i.ru.set(e,T),i.iu.has(r)?i.iu.get(r).push(e):i.iu.set(r,[e]),y.snapshot}async function OR(i,e,r){const a=xe(i),o=a.ru.get(e),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(h=>!kc(h,e))),void a.ru.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Ld(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),r&&gm(a.remoteStore,o.targetId),zd(a,o.targetId)}).catch(La)):(zd(a,o.targetId),await Ld(a.localStore,o.targetId,!0))}async function NR(i,e){const r=xe(i),a=r.ru.get(e),o=r.iu.get(a.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),gm(r.remoteStore,a.targetId))}async function MR(i,e,r){const a=zR(i);try{const o=await function(h,c){const _=xe(h),y=Rt.now(),T=c.reduce((b,g)=>b.add(g.key),ke());let m,p;return _.persistence.runTransaction("Locally write mutations","readwrite",b=>{let g=Br(),v=ke();return _.Cs.getEntries(b,T).next(S=>{g=S,g.forEach((A,R)=>{R.isValidDocument()||(v=v.add(A))})}).next(()=>_.localDocuments.getOverlayedDocuments(b,g)).next(S=>{m=S;const A=[];for(const R of c){const D=GS(R,m.get(R.key).overlayedDocument);D!=null&&A.push(new ki(R.key,D,w0(D.value.mapValue),rr.exists(!0)))}return _.mutationQueue.addMutationBatch(b,y,A,c)}).next(S=>{p=S;const A=S.applyToLocalDocumentSet(m,v);return _.documentOverlayCache.saveOverlays(b,S.batchId,A)})}).then(()=>({batchId:p.batchId,changes:k0(m)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,c,_){let y=h.uu[h.currentUser.toKey()];y||(y=new ot(Oe)),y=y.insert(c,_),h.uu[h.currentUser.toKey()]=y}(a,o.batchId,r),await wl(a,o.changes),await qc(a.remoteStore)}catch(o){const u=Em(o,"Failed to persist write");r.reject(u)}}async function gb(i,e){const r=xe(i);try{const a=await $2(r.localStore,e);e.targetChanges.forEach((o,u)=>{const h=r._u.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?Fe(h.tu,14607):o.removedDocuments.size>0&&(Fe(h.tu,42227),h.tu=!1))}),await wl(r,a,e)}catch(a){await La(a)}}function u_(i,e,r){const a=xe(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const o=[];a.ru.forEach((u,h)=>{const c=h.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(h,c){const _=xe(h);_.onlineState=c;let y=!1;_.queries.forEach((T,m)=>{for(const p of m.Ra)p.ga(c)&&(y=!0)}),y&&Am(_)}(a.eventManager,e),o.length&&a.nu.Q_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function VR(i,e,r){const a=xe(i);a.sharedClientState.updateQueryState(e,"rejected",r);const o=a._u.get(e),u=o&&o.key;if(u){let h=new ot(_e.comparator);h=h.insert(u,Qt.newNoDocument(u,Re.min()));const c=ke().add(u),_=new Uc(Re.min(),new Map,new ot(Oe),h,c);await gb(a,_),a.ou=a.ou.remove(u),a._u.delete(e),wm(a)}else await Ld(a.localStore,e,!1).then(()=>zd(a,e,r)).catch(La)}async function kR(i,e){const r=xe(i),a=e.batch.batchId;try{const o=await q2(r.localStore,e);vb(r,a,null),yb(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await wl(r,o)}catch(o){await La(o)}}async function jR(i,e,r){const a=xe(i);try{const o=await function(h,c){const _=xe(h);return _.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return _.mutationQueue.lookupMutationBatch(y,c).next(m=>(Fe(m!==null,37113),T=m.keys(),_.mutationQueue.removeMutationBatch(y,m))).next(()=>_.mutationQueue.performConsistencyCheck(y)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,c)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>_.localDocuments.getDocuments(y,T))})}(a.localStore,e);vb(a,e,r),yb(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await wl(a,o)}catch(o){await La(o)}}function yb(i,e){(i.cu.get(e)||[]).forEach(r=>{r.resolve()}),i.cu.delete(e)}function vb(i,e,r){const a=xe(i);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),a.uu[a.currentUser.toKey()]=o}}function zd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.iu.get(e))i.ru.delete(a),r&&i.nu.Tu(a,r);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(a=>{i.au.containsKey(a)||_b(i,a)})}function _b(i,e){i.su.delete(e.path.canonicalString());const r=i.ou.get(e);r!==null&&(gm(i.remoteStore,r),i.ou=i.ou.remove(e),i._u.delete(r),wm(i))}function c_(i,e,r){for(const a of r)a instanceof db?(i.au.addReference(a.key,e),LR(i,a)):a instanceof mb?(me(Tm,"Document no longer in limbo: "+a.key),i.au.removeReference(a.key,e),i.au.containsKey(a.key)||_b(i,a.key)):Te(19791,{Iu:a})}function LR(i,e){const r=e.key,a=r.path.canonicalString();i.ou.get(r)||i.su.has(a)||(me(Tm,"New document in limbo: "+r),i.su.add(a),wm(i))}function wm(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const r=new _e(it.fromString(e)),a=i.lu.next();i._u.set(a,new RR(r)),i.ou=i.ou.insert(r,a),ob(i.remoteStore,new bi(nr(O0(r.path)),a,"TargetPurposeLimboResolution",Oc.le))}}async function wl(i,e,r){const a=xe(i),o=[],u=[],h=[];a.ru.isEmpty()||(a.ru.forEach((c,_)=>{h.push(a.Pu(_,e,r).then(y=>{var T;if((y||r)&&a.isPrimaryClient){const m=y?!y.fromCache:(T=r==null?void 0:r.targetChanges.get(_.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(_.targetId,m?"current":"not-current")}if(y){o.push(y);const m=mm.Ps(_.targetId,y);u.push(m)}}))}),await Promise.all(h),a.nu.Q_(o),await async function(_,y){const T=xe(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>se.forEach(y,p=>se.forEach(p.ls,b=>T.persistence.referenceDelegate.addReference(m,p.targetId,b)).next(()=>se.forEach(p.hs,b=>T.persistence.referenceDelegate.removeReference(m,p.targetId,b)))))}catch(m){if(!Pa(m))throw m;me(pm,"Failed to update sequence numbers: "+m)}for(const m of y){const p=m.targetId;if(!m.fromCache){const b=T.Ss.get(p),g=b.snapshotVersion,v=b.withLastLimboFreeSnapshotVersion(g);T.Ss=T.Ss.insert(p,v)}}}(a.localStore,u))}async function PR(i,e){const r=xe(i);if(!r.currentUser.isEqual(e)){me(Tm,"User change. New user:",e.toKey());const a=await rb(r.localStore,e);r.currentUser=e,function(u,h){u.cu.forEach(c=>{c.forEach(_=>{_.reject(new ve(le.CANCELLED,h))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wl(r,a.Ms)}}function UR(i,e){const r=xe(i),a=r._u.get(e);if(a&&a.tu)return ke().add(a.key);{let o=ke();const u=r.iu.get(e);if(!u)return o;for(const h of u){const c=r.ru.get(h);o=o.unionWith(c.view.Wa)}return o}}function bb(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VR.bind(null,e),e.nu.Q_=ER.bind(null,e.eventManager),e.nu.Tu=AR.bind(null,e.eventManager),e}function zR(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jR.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return B2(this.persistence,new P2,e.initialUser,this.serializer)}Ru(e){return new nb(dm.Ei,this.serializer)}Au(e){return new Y2}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class BR extends wc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){Fe(this.persistence.referenceDelegate instanceof Ac,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new T2(a,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new nb(a=>Ac.Ei(a,r),this.serializer)}}class Bd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>u_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=PR.bind(null,this.syncEngine),await gR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vR}()}createDatastore(e){const r=zc(e.databaseInfo.databaseId),a=function(u){return new W2(u)}(e.databaseInfo);return function(u,h,c,_){return new rR(u,h,c,_)}(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return function(a,o,u,h,c){return new sR(a,o,u,h,c)}(this.localStore,this.datastore,e.asyncQueue,r=>u_(this.syncEngine,r,0),function(){return r_.C()?new r_:new K2}())}createSyncEngine(e,r){return function(o,u,h,c,_,y,T){const m=new CR(o,u,h,c,_,y);return T&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=xe(o);me(Ts,"RemoteStore shutting down."),u.aa.add(5),await Tl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Bd.provider={build:()=>new Bd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="FirestoreClient";class $R{constructor(e,r,a,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{me(Ni,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(me(Ni,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Em(r,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function dd(i,e){i.asyncQueue.verifyOperationInProgress(),me(Ni,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await rb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function f_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await FR(i);me(Ni,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(a=>s_(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>s_(e.remoteStore,o)),i._onlineComponents=e}async function FR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(Ni,"Using user provided OfflineComponentProvider");try{await dd(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Ra("Error using user provided cache. Falling back to memory cache: "+r),await dd(i,new wc)}}else me(Ni,"Using default OfflineComponentProvider"),await dd(i,new BR(void 0));return i._offlineComponents}async function Eb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(Ni,"Using user provided OnlineComponentProvider"),await f_(i,i._uninitializedComponentsProvider._online)):(me(Ni,"Using default OnlineComponentProvider"),await f_(i,new Bd))),i._onlineComponents}function HR(i){return Eb(i).then(e=>e.syncEngine)}async function GR(i){const e=await Eb(i),r=e.eventManager;return r.onListen=xR.bind(null,e.syncEngine),r.onUnlisten=OR.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=DR.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=NR.bind(null,e.syncEngine),r}function QR(i,e,r={}){const a=new wi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,c,_,y){const T=new qR({next:p=>{T.yu(),h.enqueueAndForget(()=>bR(u,m)),p.fromCache&&_.source==="server"?y.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(p)},error:p=>y.reject(p)}),m=new TR(c,T,{includeMetadataChanges:!0,Fa:!0});return _R(u,m)}(await GR(i),i.asyncQueue,e,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(i,e,r){if(!r)throw new ve(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function YR(i,e,r,a){if(e===!0&&a===!0)throw new ve(le.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function d_(i){if(!_e.isDocumentKey(i))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function m_(i){if(_e.isDocumentKey(i))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Sm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Na(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Sm(i);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firestore.googleapis.com",p_=!0;class g_{constructor(e){var r,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wb,this.ssl=p_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:p_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E2)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,r,a,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Zw;switch(a.type){case"firstParty":return new tS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=h_.get(r);a&&(me("ComponentProvider","Removing Datastore"),h_.delete(r),a.terminate())}(this),Promise.resolve()}}function KR(i,e,r,a={}){var o;i=Na(i,$c);const u=Z_(e),h=i._getSettings(),c=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),_=`${e}:${r}`;u&&B1(`https://${_}`),h.host!==wb&&h.host!==_&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:_,ssl:u,emulatorOptions:a});if(!ul(y,c)&&(i._setSettings(y),a.mockUserToken)){let T,m;if(typeof a.mockUserToken=="string")T=a.mockUserToken,m=Gt.MOCK_USER;else{T=x1(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const p=a.mockUserToken.sub||a.mockUserToken.user_id;if(!p)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Gt(p)}i._authCredentials=new Jw(new h0(T,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Fc(this.firestore,e,this._query)}}class In{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Si extends Fc{constructor(e,r,a){super(e,r,O0(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new _e(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function Rm(i,e,...r){if(i=ar(i),Tb("collection","path",e),i instanceof $c){const a=it.fromString(e,...r);return m_(a),new Si(i,null,a)}{if(!(i instanceof In||i instanceof Si))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(it.fromString(e,...r));return m_(a),new Si(i.firestore,null,a)}}function qd(i,e,...r){if(i=ar(i),arguments.length===1&&(e=m0.newId()),Tb("doc","path",e),i instanceof $c){const a=it.fromString(e,...r);return d_(a),new In(i,null,new _e(a))}{if(!(i instanceof In||i instanceof Si))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(it.fromString(e,...r));return d_(a),new In(i.firestore,i instanceof Si?i.converter:null,new _e(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="AsyncQueue";class v_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new sb(this,"async_queue_retry"),this.ju=()=>{const a=hd();a&&me(y_,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=e;const r=hd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=hd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new wi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Pa(e))throw e;me(y_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(a=>{throw this.Ku=a,this.Wu=!1,zr("INTERNAL UNHANDLED ERROR: ",__(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=r,r}enqueueAfterDelay(e,r,a){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=bm.createAndSchedule(this,e,r,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Te(47125,{ec:__(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function __(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Hc extends $c{constructor(e,r,a,o){super(e,r,a,o),this.type="firestore",this._queue=new v_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v_(e),this._firestoreClient=void 0,await e}}}function XR(i,e){const r=typeof i=="object"?i:n0(),a=typeof i=="string"?i:pc,o=bl(r,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=R1("firestore");u&&KR(o,...u)}return o}function Sb(i){if(i._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ZR(i),i._firestoreClient}function ZR(i){var e,r,a;const o=i._freezeSettings(),u=function(c,_,y,T){return new gS(c,_,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Ab(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new $R(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(c){const _=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(Bt.fromBase64String(e))}catch(r){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ma(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^__.*__$/;class WR{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,r,this.fieldTransforms):new El(e,this.data,r,this.fieldTransforms)}}class Rb{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new ki(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Cb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{oc:i})}}class Im{constructor(e,r,a,o,u,h){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:a,cc:!1});return o.lc(e),o}hc(e){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Sc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Cb(this.oc)&&JR.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class eC{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||zc(e)}dc(e,r,a,o=!1){return new Im({oc:e,methodName:r,Ec:a,path:zt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xb(i){const e=i._freezeSettings(),r=zc(i._databaseId);return new eC(i._databaseId,!!e.ignoreUndefinedProperties,r)}function tC(i,e,r,a,o,u={}){const h=i.dc(u.merge||u.mergeFields?2:0,e,r,o);Om("Data must be an object, but it was:",h,a);const c=Db(a,h);let _,y;if(u.merge)_=new mn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const m of u.mergeFields){const p=$d(e,m,r);if(!h.contains(p))throw new ve(le.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Ob(T,p)||T.push(p)}_=new mn(T),y=h.fieldTransforms.filter(m=>_.covers(m.field))}else _=null,y=h.fieldTransforms;return new WR(new nn(c),_,y)}class Qc extends Cm{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qc}}function nC(i,e,r,a){const o=i.dc(1,e,r);Om("Data must be an object, but it was:",o,a);const u=[],h=nn.empty();Vi(a,(_,y)=>{const T=Nm(e,_,r);y=ar(y);const m=o.hc(T);if(y instanceof Qc)u.push(T);else{const p=Yc(y,m);p!=null&&(u.push(T),h.set(T,p))}});const c=new mn(u);return new Rb(h,c,o.fieldTransforms)}function rC(i,e,r,a,o,u){const h=i.dc(1,e,r),c=[$d(e,a,r)],_=[o];if(u.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<u.length;p+=2)c.push($d(e,u[p])),_.push(u[p+1]);const y=[],T=nn.empty();for(let p=c.length-1;p>=0;--p)if(!Ob(y,c[p])){const b=c[p];let g=_[p];g=ar(g);const v=h.hc(b);if(g instanceof Qc)y.push(b);else{const S=Yc(g,v);S!=null&&(y.push(b),T.set(b,S))}}const m=new mn(y);return new Rb(T,m,h.fieldTransforms)}function Yc(i,e){if(Ib(i=ar(i)))return Om("Unsupported field value:",e,i),Db(i,e);if(i instanceof Cm)return function(a,o){if(!Cb(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const c of a){let _=Yc(c,o.Pc(h));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),h++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=ar(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Rt.fromDate(a);return{timestampValue:Ec(o.serializer,u)}}if(a instanceof Rt){const u=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ec(o.serializer,u)}}if(a instanceof xm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ma)return{bytesValue:Y0(o.serializer,a._byteString)};if(a instanceof In){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Dm)return function(h,c){return{mapValue:{fields:{[A0]:{stringValue:T0},[gc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw c.Tc("VectorValues must only contain numeric values.");return lm(c.serializer,y)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${Sm(a)}`)}(i,e)}function Db(i,e){const r={};return g0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(i,(a,o)=>{const u=Yc(o,e.uc(a));u!=null&&(r[a]=u)}),{mapValue:{fields:r}}}function Ib(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Rt||i instanceof xm||i instanceof Ma||i instanceof In||i instanceof Cm||i instanceof Dm)}function Om(i,e,r){if(!Ib(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const a=Sm(r);throw a==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+a)}}function $d(i,e,r){if((e=ar(e))instanceof Gc)return e._internalPath;if(typeof e=="string")return Nm(i,e);throw Sc("Field path arguments must be of type string or ",i,!1,void 0,r)}const iC=new RegExp("[~\\*/\\[\\]]");function Nm(i,e,r){if(e.search(iC)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Gc(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Sc(i,e,r,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let _="";return(u||h)&&(_+=" (found",u&&(_+=` in field ${a}`),h&&(_+=` in document ${o}`),_+=")"),new ve(le.INVALID_ARGUMENT,c+i+_)}function Ob(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,r,a,o,u){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class sC extends Nb{data(){return super.data()}}function Mb(i,e){return typeof e=="string"?Nm(i,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oC{convertValue(e,r="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Vi(e,(o,u)=>{a[o]=this.convertValue(u,r)}),a}convertVectorValue(e){var r,a,o;const u=(o=(a=(r=e.fields)===null||r===void 0?void 0:r[gc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new Dm(u)}convertGeoPoint(e){return new xm(mt(e.latitude),mt(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Mc(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const r=xi(e);return new Rt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=it.fromString(e);Fe(eb(a),9688,{name:e});const o=new dl(a.get(1),a.get(3)),u=new _e(a.popFirst(5));return o.isEqual(r)||zr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(i,e,r){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uC extends Nb{constructor(e,r,a,o,u,h){super(e,r,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Mb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class cc extends uC{data(e={}){return super.data(e)}}class cC{constructor(e,r,a,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new tc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new cc(this._firestore,this._userDataWriter,a.key,a,new tc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(c=>{const _=new cc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new tc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:_,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const _=new cc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new tc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return c.type!==0&&(y=h.indexOf(c.doc.key),h=h.delete(c.doc.key)),c.type!==1&&(h=h.add(c.doc),T=h.indexOf(c.doc.key)),{type:fC(c.type),doc:_,oldIndex:y,newIndex:T}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function fC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}class hC extends oC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,r)}}function Vb(i){i=Na(i,Fc);const e=Na(i.firestore,Hc),r=Sb(e),a=new hC(e);return aC(i._query),QR(r,i._query).then(o=>new cC(e,a,i,o))}function b_(i,e,r,...a){i=Na(i,In);const o=Na(i.firestore,Hc),u=xb(o);let h;return h=typeof(e=ar(e))=="string"||e instanceof Gc?rC(u,"updateDoc",i._key,e,r,a):nC(u,"updateDoc",i._key,e),kb(o,[h.toMutation(i._key,rr.exists(!0))])}function dC(i,e){const r=Na(i.firestore,Hc),a=qd(i),o=lC(i.converter,e);return kb(r,[tC(xb(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,rr.exists(!1))]).then(()=>a)}function kb(i,e){return function(a,o){const u=new wi;return a.asyncQueue.enqueueAndForget(async()=>MR(await HR(a),o,u)),u.promise}(Sb(i),e)}(function(e,r=!0){(function(o){ja=o})(zw),Ri(new Pr("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),c=new Hc(new Ww(a.getProvider("auth-internal")),new nS(h,a.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(y.options.projectId,T)}(h,o),h);return u=Object.assign({useFetchStreams:r},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),tr(wv,Sv,e),tr(wv,Sv,"esm2017")})();var mC="firebase",pC="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(mC,pC,"app");const jb="@firebase/installations",Mm="0.6.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1e4,Pb=`w:${Mm}`,Ub="FIS_v2",gC="https://firebaseinstallations.googleapis.com/v1",yC=60*60*1e3,vC="installations",_C="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ws=new Ic(vC,_C,bC);function zb(i){return i instanceof Mi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb({projectId:i}){return`${gC}/projects/${i}/installations`}function qb(i){return{token:i.token,requestStatus:2,expiresIn:AC(i.expiresIn),creationTime:Date.now()}}async function $b(i,e){const a=(await e.json()).error;return ws.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Fb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function EC(i,{refreshToken:e}){const r=Fb(i);return r.append("Authorization",TC(e)),r}async function Hb(i){const e=await i();return e.status>=500&&e.status<600?i():e}function AC(i){return Number(i.replace("s","000"))}function TC(i){return`${Ub} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC({appConfig:i,heartbeatServiceProvider:e},{fid:r}){const a=Bb(i),o=Fb(i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={fid:r,authVersion:Ub,appId:i.appId,sdkVersion:Pb},c={method:"POST",headers:o,body:JSON.stringify(h)},_=await Hb(()=>fetch(a,c));if(_.ok){const y=await _.json();return{fid:y.fid||r,registrationStatus:2,refreshToken:y.refreshToken,authToken:qb(y.authToken)}}else throw await $b("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^[cdef][\w-]{21}$/,Fd="";function CC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const r=xC(i);return RC.test(r)?r:Fd}catch{return Fd}}function xC(i){return SC(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;function Yb(i,e){const r=Kc(i);Kb(r,e),DC(r,e)}function Kb(i,e){const r=Qb.get(i);if(r)for(const a of r)a(e)}function DC(i,e){const r=IC();r&&r.postMessage({key:i,fid:e}),OC()}let Es=null;function IC(){return!Es&&"BroadcastChannel"in self&&(Es=new BroadcastChannel("[Firebase] FID Change"),Es.onmessage=i=>{Kb(i.data.key,i.data.fid)}),Es}function OC(){Qb.size===0&&Es&&(Es.close(),Es=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebase-installations-database",MC=1,Ss="firebase-installations-store";let md=null;function Vm(){return md||(md=e0(NC,MC,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ss)}}})),md}async function Rc(i,e){const r=Kc(i),o=(await Vm()).transaction(Ss,"readwrite"),u=o.objectStore(Ss),h=await u.get(r);return await u.put(e,r),await o.done,(!h||h.fid!==e.fid)&&Yb(i,e.fid),e}async function Xb(i){const e=Kc(i),a=(await Vm()).transaction(Ss,"readwrite");await a.objectStore(Ss).delete(e),await a.done}async function Xc(i,e){const r=Kc(i),o=(await Vm()).transaction(Ss,"readwrite"),u=o.objectStore(Ss),h=await u.get(r),c=e(h);return c===void 0?await u.delete(r):await u.put(c,r),await o.done,c&&(!h||h.fid!==c.fid)&&Yb(i,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(i){let e;const r=await Xc(i.appConfig,a=>{const o=VC(a),u=kC(i,o);return e=u.registrationPromise,u.installationEntry});return r.fid===Fd?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function VC(i){const e=i||{fid:CC(),registrationStatus:0};return Zb(e)}function kC(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ws.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=jC(i,r);return{installationEntry:r,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:LC(i)}:{installationEntry:e}}async function jC(i,e){try{const r=await wC(i,e);return Rc(i.appConfig,r)}catch(r){throw zb(r)&&r.customData.serverCode===409?await Xb(i.appConfig):await Rc(i.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function LC(i){let e=await E_(i.appConfig);for(;e.registrationStatus===1;)await Gb(100),e=await E_(i.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await km(i);return a||r}return e}function E_(i){return Xc(i,e=>{if(!e)throw ws.create("installation-not-found");return Zb(e)})}function Zb(i){return PC(i)?{fid:i.fid,registrationStatus:0}:i}function PC(i){return i.registrationStatus===1&&i.registrationTime+Lb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC({appConfig:i,heartbeatServiceProvider:e},r){const a=zC(i,r),o=EC(i,r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={installation:{sdkVersion:Pb,appId:i.appId}},c={method:"POST",headers:o,body:JSON.stringify(h)},_=await Hb(()=>fetch(a,c));if(_.ok){const y=await _.json();return qb(y)}else throw await $b("Generate Auth Token",_)}function zC(i,{fid:e}){return`${Bb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(i,e=!1){let r;const a=await Xc(i.appConfig,u=>{if(!Jb(u))throw ws.create("not-registered");const h=u.authToken;if(!e&&$C(h))return u;if(h.requestStatus===1)return r=BC(i,e),u;{if(!navigator.onLine)throw ws.create("app-offline");const c=HC(u);return r=qC(i,c),c}});return r?await r:a.authToken}async function BC(i,e){let r=await A_(i.appConfig);for(;r.authToken.requestStatus===1;)await Gb(100),r=await A_(i.appConfig);const a=r.authToken;return a.requestStatus===0?jm(i,e):a}function A_(i){return Xc(i,e=>{if(!Jb(e))throw ws.create("not-registered");const r=e.authToken;return GC(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function qC(i,e){try{const r=await UC(i,e),a=Object.assign(Object.assign({},e),{authToken:r});return await Rc(i.appConfig,a),r}catch(r){if(zb(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Xb(i.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Rc(i.appConfig,a)}throw r}}function Jb(i){return i!==void 0&&i.registrationStatus===2}function $C(i){return i.requestStatus===2&&!FC(i)}function FC(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+yC}function HC(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function GC(i){return i.requestStatus===1&&i.requestTime+Lb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(i){const e=i,{installationEntry:r,registrationPromise:a}=await km(e);return a?a.catch(console.error):jm(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(i,e=!1){const r=i;return await KC(r),(await jm(r,e)).token}async function KC(i){const{registrationPromise:e}=await km(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i){if(!i||!i.options)throw pd("App Configuration");if(!i.name)throw pd("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!i.options[r])throw pd(r);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function pd(i){return ws.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="installations",ZC="installations-internal",JC=i=>{const e=i.getProvider("app").getImmediate(),r=XC(e),a=bl(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},WC=i=>{const e=i.getProvider("app").getImmediate(),r=bl(e,Wb).getImmediate();return{getId:()=>QC(r),getToken:o=>YC(r,o)}};function ex(){Ri(new Pr(Wb,JC,"PUBLIC")),Ri(new Pr(ZC,WC,"PRIVATE"))}ex();tr(jb,Mm);tr(jb,Mm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="analytics",tx="firebase_id",nx="origin",rx=60*1e3,ix="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new em("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Ic("analytics","Analytics",sx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(i){if(!i.startsWith(Lm)){const e=gn.create("invalid-gtag-resource",{gtagURL:i});return rn.warn(e.message),""}return i}function eE(i){return Promise.all(i.map(e=>e.catch(r=>r)))}function ox(i,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(i,e)),r}function lx(i,e){const r=ox("firebase-js-sdk-policy",{createScriptURL:ax}),a=document.createElement("script"),o=`${Lm}?l=${i}&id=${e}`;a.src=r?r==null?void 0:r.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function ux(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function cx(i,e,r,a,o,u){const h=a[o];try{if(h)await e[h];else{const _=(await eE(r)).find(y=>y.measurementId===o);_&&await e[_.appId]}}catch(c){rn.error(c)}i("config",o,u)}async function fx(i,e,r,a,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const c=await eE(r);for(const _ of h){const y=c.find(m=>m.measurementId===_),T=y&&e[y.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",a,o||{})}catch(u){rn.error(u)}}function hx(i,e,r,a){async function o(u,...h){try{if(u==="event"){const[c,_]=h;await fx(i,e,r,c,_)}else if(u==="config"){const[c,_]=h;await cx(i,e,r,a,c,_)}else if(u==="consent"){const[c,_]=h;i("consent",c,_)}else if(u==="get"){const[c,_,y]=h;i("get",c,_,y)}else if(u==="set"){const[c]=h;i("set",c)}else i(u,...h)}catch(c){rn.error(c)}}return o}function dx(i,e,r,a,o){let u=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=hx(u,i,e,r),{gtagCore:u,wrappedGtag:window[o]}}function mx(i){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Lm)&&r.src.includes(i))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=30,gx=1e3;class yx{constructor(e={},r=gx){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tE=new yx;function vx(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function _x(i){var e;const{appId:r,apiKey:a}=i,o={method:"GET",headers:vx(a)},u=ix.replace("{app-id}",r),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let c="";try{const _=await h.json();!((e=_.error)===null||e===void 0)&&e.message&&(c=_.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:c})}return h.json()}async function bx(i,e=tE,r){const{appId:a,apiKey:o,measurementId:u}=i.options;if(!a)throw gn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw gn.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Tx;return setTimeout(async()=>{c.abort()},rx),nE({appId:a,apiKey:o,measurementId:u},h,c,e)}async function nE(i,{throttleEndTimeMillis:e,backoffCount:r},a,o=tE){var u;const{appId:h,measurementId:c}=i;try{await Ex(a,e)}catch(_){if(c)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:h,measurementId:c};throw _}try{const _=await _x(i);return o.deleteThrottleMetadata(h),_}catch(_){const y=_;if(!Ax(y)){if(o.deleteThrottleMetadata(h),c)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:h,measurementId:c};throw _}const T=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?mv(r,o.intervalMillis,px):mv(r,o.intervalMillis),m={throttleEndTimeMillis:Date.now()+T,backoffCount:r+1};return o.setThrottleMetadata(h,m),rn.debug(`Calling attemptFetch again in ${T} millis`),nE(i,m,a,o)}}function Ex(i,e){return new Promise((r,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(r,o);i.addEventListener(()=>{clearTimeout(u),a(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ax(i){if(!(i instanceof Mi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Tx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wx(i,e,r,a,o){if(o&&o.global){i("event",r,a);return}else{const u=await e,h=Object.assign(Object.assign({},a),{send_to:u});i("event",r,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(){if(K_())try{await X_()}catch(i){return rn.warn(gn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return rn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Rx(i,e,r,a,o,u,h){var c;const _=bx(i);_.then(b=>{r[b.measurementId]=b.appId,i.options.measurementId&&b.measurementId!==i.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>rn.error(b)),e.push(_);const y=Sx().then(b=>{if(b)return a.getId()}),[T,m]=await Promise.all([_,y]);mx(u)||lx(u,T.measurementId),o("js",new Date);const p=(c=h==null?void 0:h.config)!==null&&c!==void 0?c:{};return p[nx]="firebase",p.update=!0,m!=null&&(p[tx]=m),o("config",T.measurementId,p),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.app=e}_delete(){return delete al[this.app.options.appId],Promise.resolve()}}let al={},T_=[];const w_={};let gd="dataLayer",xx="gtag",S_,rE,R_=!1;function Dx(){const i=[];if(O1()&&i.push("This is a browser extension environment."),M1()||i.push("Cookies are not available."),i.length>0){const e=i.map((a,o)=>`(${o+1}) ${a}`).join(" "),r=gn.create("invalid-analytics-context",{errorInfo:e});rn.warn(r.message)}}function Ix(i,e,r){Dx();const a=i.options.appId;if(!a)throw gn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(al[a]!=null)throw gn.create("already-exists",{id:a});if(!R_){ux(gd);const{wrappedGtag:u,gtagCore:h}=dx(al,T_,w_,gd,xx);rE=u,S_=h,R_=!0}return al[a]=Rx(i,T_,w_,e,S_,gd,r),new Cx(i)}function Ox(i=n0()){i=ar(i);const e=bl(i,Cc);return e.isInitialized()?e.getImmediate():Nx(i)}function Nx(i,e={}){const r=bl(i,Cc);if(r.isInitialized()){const o=r.getImmediate();if(ul(e,r.getOptions()))return o;throw gn.create("already-initialized")}return r.initialize({options:e})}function Mx(i,e,r,a){i=ar(i),wx(rE,al[i.app.options.appId],e,r,a).catch(o=>rn.error(o))}const C_="@firebase/analytics",x_="0.10.13";function Vx(){Ri(new Pr(Cc,(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Ix(a,o,r)},"PUBLIC")),Ri(new Pr("analytics-internal",i,"PRIVATE")),tr(C_,x_),tr(C_,x_,"esm2017");function i(e){try{const r=e.getProvider(Cc).getImmediate();return{logEvent:(a,o,u)=>Mx(r,a,o,u)}}catch(r){throw gn.create("interop-component-reg-failed",{reason:r})}}}Vx();const kx={apiKey:"AIzaSyCATpmRr66Dz2-LwNL3n-i64VkXPVxaNd0",authDomain:"barbie-webbshop.firebaseapp.com",projectId:"barbie-webbshop",storageBucket:"barbie-webbshop.appspot.com",messagingSenderId:"359627353856",appId:"1:359627353856:web:f524c424eaff3e73fc8de5",measurementId:"G-XP3HF5KWQZ"},iE=t0(kx);Ox(iE);const ol=XR(iE),jx="data:image/svg+xml,%3csvg%20width='38'%20height='36'%20viewBox='0%200%2038%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_3_1012)'%3e%3cpath%20d='M19%200.5C27.0412%200.5%2033.5%206.57609%2033.5%2014C33.5%2021.4239%2027.0412%2027.5%2019%2027.5C10.9588%2027.5%204.5%2021.4239%204.5%2014C4.5%206.57609%2010.9588%200.5%2019%200.5Z'%20fill='black'%20stroke='%23FF3499'/%3e%3cpath%20d='M28.2178%2013.5L25.6797%2019H12.7988L9.83789%2013.5H28.2178Z'%20fill='black'%20stroke='%23FF3499'/%3e%3cline%20x1='15.5'%20y1='14'%20x2='15.5'%20y2='19'%20stroke='%23FF3499'/%3e%3cline%20x1='19.5'%20y1='14'%20x2='19.5'%20y2='19'%20stroke='%23FF3499'/%3e%3cline%20x1='23.5'%20y1='14'%20x2='23.5'%20y2='19'%20stroke='%23FF3499'/%3e%3cmask%20id='path-6-inside-1_3_1012'%20fill='white'%3e%3cpath%20d='M25.7869%2014C25.5%2010.6463%2020.7881%206.04682%2017.5%208.5C14.871%2010.0271%2013%2016.0275%2013%2013.0049C13.7307%2010.0197%2016.3096%207%2019.9414%207C23.5733%207%2028.5%2012.5%2025.7869%2014Z'/%3e%3c/mask%3e%3cpath%20d='M25.7869%2014L19.8087%2014.5114L20.5968%2023.7253L28.6899%2019.2509L25.7869%2014ZM17.5%208.5L20.5137%2013.6882L20.8117%2013.5151L21.088%2013.309L17.5%208.5ZM13%2013.0049L7.17204%2011.5784L7%2012.2813V13.0049H13ZM25.7869%2014L31.765%2013.4886C31.4406%209.69529%2028.993%206.31011%2026.4501%204.33439C23.9191%202.36798%2018.7509%200.0807543%2013.912%203.69099L17.5%208.5L21.088%2013.309C20.8463%2013.4893%2020.5198%2013.6526%2020.1373%2013.7408C19.765%2013.8267%2019.4498%2013.8167%2019.2367%2013.7842C18.8638%2013.7273%2018.837%2013.6157%2019.0877%2013.8104C19.3129%2013.9854%2019.5558%2014.2537%2019.7273%2014.5317C19.807%2014.6608%2019.843%2014.7466%2019.8528%2014.7733C19.8647%2014.8055%2019.8262%2014.7164%2019.8087%2014.5114L25.7869%2014ZM17.5%208.5L14.4863%203.31179C12.7675%204.31017%2011.5725%205.75609%2010.8801%206.68348C10.1304%207.68756%209.4989%208.74539%209.13386%209.3473C8.91694%209.70498%208.81653%209.86628%208.7578%209.95328C8.54938%2010.262%208.92747%209.59158%209.74793%208.9801C10.1086%208.71129%2011.777%207.51317%2014.2027%207.92853C16.9728%208.40289%2018.1853%2010.472%2018.5352%2011.2315C18.8975%2012.0181%2018.9678%2012.6598%2018.9804%2012.7669C19.0035%2012.9629%2019%2013.0634%2019%2013.0049H13H7C7%2013.3242%207.01111%2013.7321%207.0629%2014.1715C7.10422%2014.5221%207.21729%2015.3433%207.6359%2016.2521C8.04203%2017.1338%209.32435%2019.2678%2012.1773%2019.7564C14.6858%2020.1859%2016.45%2018.9513%2016.9189%2018.6018C17.9559%2017.8289%2018.6002%2016.8206%2018.7035%2016.6677C18.9564%2016.293%2019.2132%2015.8688%2019.3944%2015.5699C19.8258%2014.8586%2020.155%2014.3189%2020.4955%2013.8629C20.8932%2013.3302%2020.918%2013.4534%2020.5137%2013.6882L17.5%208.5ZM13%2013.0049L18.828%2014.4314C18.9342%2013.9975%2019.2005%2013.5314%2019.5105%2013.2375C19.7681%2012.9934%2019.8951%2013%2019.9414%2013V7V1C12.6543%201%208.32126%206.88324%207.17204%2011.5784L13%2013.0049ZM19.9414%207V13C19.4283%2013%2019.3661%2012.8458%2019.7602%2013.0741C20.0936%2013.2674%2020.4497%2013.5657%2020.6984%2013.8544C21.0352%2014.2451%2020.7719%2014.1227%2020.6329%2013.3859C20.5495%2012.9442%2020.4806%2012.0683%2020.8945%2011.0358C21.3426%209.91816%2022.14%209.16029%2022.8838%208.74907L25.7869%2014L28.6899%2019.2509C30.112%2018.4647%2031.3489%2017.2068%2032.0327%2015.5013C32.6824%2013.8809%2032.6453%2012.3293%2032.4248%2011.161C32.0116%208.97102%2030.7984%207.19238%2029.7887%206.02065C28.6909%204.74675%2027.3039%203.57638%2025.7769%202.6915C24.3105%201.84173%2022.2706%201%2019.9414%201V7Z'%20fill='%23FF3499'%20mask='url(%23path-6-inside-1_3_1012)'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_3_1012'%20x='0'%20y='0'%20width='38'%20height='36'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4'/%3e%3cfeGaussianBlur%20stdDeviation='2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_3_1012'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_3_1012'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function Lx(){const[i,e]=te.useState([]),[r,a]=te.useState({}),[o,u]=te.useState(""),[h,c]=te.useState("");te.useEffect(()=>{async function T(){const p=(await Vb(Rm(ol,"products"))).docs.map(b=>({id:b.id,...b.data()}));e(p)}T()},[]);const _=T=>{a(m=>({...m,[T.id]:(m[T.id]||0)+1}))},y=[...i].filter(T=>{var m,p;return((m=T.name)==null?void 0:m.toLowerCase().includes(h.toLowerCase()))||((p=T.category)==null?void 0:p.toLowerCase().includes(h.toLowerCase()))}).sort((T,m)=>{switch(o){case"name-asc":return T.name.localeCompare(m.name);case"name-desc":return m.name.localeCompare(T.name);case"price-asc":return T.price-m.price;case"price-desc":return m.price-T.price;default:return 0}});return W.jsx(W.Fragment,{children:W.jsxs("div",{className:"products-section",children:[W.jsx("input",{type:"search",placeholder:"Sök efter produkt...",className:"search",value:h,onChange:T=>c(T.target.value)}),W.jsxs("select",{className:"dropdown",value:o,onChange:T=>u(T.target.value),children:[W.jsx("option",{value:"",children:"Sortera"}),W.jsx("option",{value:"name-asc",children:"Namn A-Ö "}),W.jsx("option",{value:"name-desc",children:"Namn Ö-A"}),W.jsx("option",{value:"price-asc",children:"Pris lågt till högt"}),W.jsx("option",{value:"price-desc",children:"Pris högt till lågt"})]}),W.jsx("h1",{children:"Välkommen till Produktsidan!"}),W.jsx("div",{className:"products",children:y.map(T=>W.jsxs("div",{className:"products-container",children:[W.jsx("h3",{children:T.name}),W.jsxs("p",{children:[T.price," kr"]}),W.jsx("img",{src:T.imageUrl,alt:T.description,width:"200",height:"215"}),W.jsx("p",{children:T.description}),W.jsx("button",{className:"shop-icon",onClick:()=>_(T),children:W.jsx("img",{src:jx,alt:"shop-icon",className:"shop-icon"})})]},T.id))})]})})}function Px(){const i=ic(o=>o.cart)||[],e=ic(o=>o.addToCart),r=ic(o=>o.removeFromCart),a=i.reduce((o,u)=>o+u.price*u.quantity,0);return W.jsx(W.Fragment,{children:W.jsxs("div",{className:"cart-section",children:[i.length===0?W.jsx("p",{children:"Din varukorg är tom"}):i.map(o=>W.jsxs("div",{className:"cart-items",children:[W.jsxs("p",{children:[o.name,"...........................",o.price," Kr"]}),W.jsx("button",{className:"increase",onClick:()=>e(o),children:"+"}),W.jsx("button",{className:"decrease",onClick:()=>r(o),children:"-"})]},o.id)),W.jsx("div",{className:"cart-box",children:W.jsxs("h3",{className:"total",children:["Totalt: ",a," kr"]})}),W.jsx(pn,{to:"/order",children:W.jsx("button",{className:"continue",children:"Fortsätt"})})]})})}const Ux="/webbshop-Julia/assets/barbie1-CLNPUiub.jpg";function zx(){return W.jsx(W.Fragment,{children:W.jsxs("div",{children:[W.jsx("h1",{className:"home-text",children:"Välkommen till BarbieToys!"}),W.jsx("p",{className:"home-info",children:"Upptäck en magisk värld av Barbies, drömslott, bilar och massor av tillbehör. Här finns något för varje fantasi! Bläddra bland våra produkter och hitta dina nya favoriter! Fortsätt för att se mer av våra produkter här."}),W.jsx(pn,{to:"/Products",children:W.jsx("button",{className:"product-button",children:"Produkter"})}),W.jsx("p",{children:" "}),W.jsx("img",{src:Ux,alt:"barbie1",className:"barbi-img1"})]})})}const Bx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAkCAYAAABixKGjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHSSURBVHgBtVbLSsNAFD22oFgQIl0IpYu4SZetW1fRtcX+gfELFPwAW3Ar6Bc0f2AX7hO/oF0JdZMuxF1poVCoCHWmJiQzZmby6oHTwtw7557c3OkUUEMnfCL0CNf+d99fz4UrwpkvynPmxzMLrxMwdQEdrGPaCtOPdRC2KHgCHSlgKzbzxR0khAn2sS1B3i2XZyIBbLDtkMGJ5L4ocqGldGOCbZ8mS+5Ekl0kgyMyU8J/JwFsJEMPrDmlC1WveQSTM4gu8s61GDdJ8Ox/N0UJGsRHPSlnccI62FOXhx64Q1eUcLSAVsbfCbRQLGiLVzvkY0jYEmaVK7g5OodVPYW+V8VkNYW7GKP39YrJ91RWwKXia1FU363CadxtRHnQImfjR2mBEiTo1tqxwpvCZL1/bMm2y8UvD5uyMFqVOjKL54VUfLT8lIUxmI+QWfx6YgtfGF2nEyODdFoo6ItzDHZiqPDJ+wPmP0vZVnXP6TjyE0PXWvt11Va1+H3tQrDeRi5x88AgbEhiBjKLi1yH8XY2cZlrNsdIL65yHeaJ3ceOIv0lVB3tKNzFhzDmoNiLIuCQtuUN28Hm0qa3hodiXXvRKjq2eEEHsAhHGUVdwi4i/xd/AW02E4MN4zXBAAAAAElFTkSuQmCC";function qx(){return W.jsx(W.Fragment,{children:W.jsxs("div",{className:"Footer",children:[W.jsx("p",{children:"© 2025 Barbie Toy Shop – Alla rättigheter förbehållna. Kontakt: barbietoys@mail.com"}),W.jsx(pn,{to:"/loggIn",children:W.jsx("button",{className:"loggin",children:W.jsx("img",{src:Bx,alt:"inlogg",className:"inlogg"})})})]})})}var yd={exports:{}},D_;function $x(){return D_||(D_=1,function(i,e){(function(r,a){i.exports=a()})(self,()=>{return r={7629:(o,u,h)=>{const c=h(375),_=h(8571),y=h(9474),T=h(1687),m=h(8652),p=h(8160),b=h(3292),g=h(6354),v=h(8901),S=h(9708),A=h(6914),R=h(2294),D=h(6133),V=h(1152),k=h(8863),z=h(2036),N={Base:class{constructor(w){this.type=w,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new R.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof S.describe=="function","Manifest functionality disabled"),S.describe(this)}allow(...w){return p.verifyFlat(w,"allow"),this._values(w,"_valids")}alter(w){c(w&&typeof w=="object"&&!Array.isArray(w),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const I in w){const j=w[I];c(typeof j=="function","Alteration adjuster for",I,"must be a function"),x.$_terms.alterations.push({target:I,adjuster:j})}return x.$_temp.ruleset=!1,x}artifact(w){return c(w!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",w)}cast(w){return c(w===!1||typeof w=="string","Invalid to value"),c(w===!1||this._definition.cast[w],"Type",this.type,"does not support casting to",w),this.$_setFlag("cast",w===!1?void 0:w)}default(w,x){return this._default("default",w,x)}description(w){return c(w&&typeof w=="string","Description must be a non-empty string"),this.$_setFlag("description",w)}empty(w){const x=this.clone();return w!==void 0&&(w=x.$_compile(w,{override:!1})),x.$_setFlag("empty",w,{clone:!1})}error(w){return c(w,"Missing error"),c(w instanceof Error||typeof w=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",w)}example(w,x={}){return c(w!==void 0,"Missing example"),p.assertOptions(x,["override"]),this._inner("examples",w,{single:!0,override:x.override})}external(w,x){return typeof w=="object"&&(c(!x,"Cannot combine options with description"),x=w.description,w=w.method),c(typeof w=="function","Method must be a function"),c(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:w,description:x},{single:!0})}failover(w,x){return this._default("failover",w,x)}forbidden(){return this.presence("forbidden")}id(w){return w?(c(typeof w=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(w),"id cannot contain period character"),this.$_setFlag("id",w)):this.$_setFlag("id",void 0)}invalid(...w){return this._values(w,"_invalids")}label(w){return c(w&&typeof w=="string","Label name must be a non-empty string"),this.$_setFlag("label",w)}meta(w){return c(w!==void 0,"Meta cannot be undefined"),this._inner("metas",w,{single:!0})}note(...w){c(w.length,"Missing notes");for(const x of w)c(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",w)}only(w=!0){return c(typeof w=="boolean","Invalid mode:",w),this.$_setFlag("only",w)}optional(){return this.presence("optional")}prefs(w){c(w,"Missing preferences"),c(w.context===void 0,"Cannot override context"),c(w.externals===void 0,"Cannot override externals"),c(w.warnings===void 0,"Cannot override warnings"),c(w.debug===void 0,"Cannot override debug"),p.checkPreferences(w);const x=this.clone();return x._preferences=p.preferences(x._preferences,w),x}presence(w){return c(["optional","required","forbidden"].includes(w),"Unknown presence mode",w),this.$_setFlag("presence",w)}raw(w=!0){return this.$_setFlag("result",w?"raw":void 0)}result(w){return c(["raw","strip"].includes(w),"Unknown result mode",w),this.$_setFlag("result",w)}required(){return this.presence("required")}strict(w){const x=this.clone(),I=w!==void 0&&!w;return x._preferences=p.preferences(x._preferences,{convert:I}),x}strip(w=!0){return this.$_setFlag("result",w?"strip":void 0)}tag(...w){c(w.length,"Missing tags");for(const x of w)c(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",w)}unit(w){return c(w&&typeof w=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",w)}valid(...w){p.verifyFlat(w,"valid");const x=this.allow(...w);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(w,x){const I=this.clone();I.$_terms.whens||(I.$_terms.whens=[]);const j=b.when(I,w,x);if(!["any","link"].includes(I.type)){const B=j.is?[j]:j.switch;for(const P of B)c(!P.then||P.then.type==="any"||P.then.type===I.type,"Cannot combine",I.type,"with",P.then&&P.then.type),c(!P.otherwise||P.otherwise.type==="any"||P.otherwise.type===I.type,"Cannot combine",I.type,"with",P.otherwise&&P.otherwise.type)}return I.$_terms.whens.push(j),I.$_mutateRebuild()}cache(w){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=w||m.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const w=Object.create(Object.getPrototypeOf(this));return this._assign(w)}concat(w){c(p.isSchema(w),"Invalid schema object"),c(this.type==="any"||w.type==="any"||w.type===this.type,"Cannot merge type",this.type,"with another type:",w.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!w._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&w.type!=="any"){const I=w.clone();for(const j of Object.keys(x))j!=="type"&&(I[j]=x[j]);x=I}x._ids.concat(w._ids),x._refs.register(w,D.toSibling),x._preferences=x._preferences?p.preferences(x._preferences,w._preferences):w._preferences,x._valids=z.merge(x._valids,w._valids,w._invalids),x._invalids=z.merge(x._invalids,w._invalids,w._valids);for(const I of w._singleRules.keys())x._singleRules.has(I)&&(x._rules=x._rules.filter(j=>j.keep||j.name!==I),x._singleRules.delete(I));for(const I of w._rules)w._definition.rules[I.method].multi||x._singleRules.set(I.name,I),x._rules.push(I);if(x._flags.empty&&w._flags.empty){x._flags.empty=x._flags.empty.concat(w._flags.empty);const I=Object.assign({},w._flags);delete I.empty,T(x._flags,I)}else if(w._flags.empty){x._flags.empty=w._flags.empty;const I=Object.assign({},w._flags);delete I.empty,T(x._flags,I)}else T(x._flags,w._flags);for(const I in w.$_terms){const j=w.$_terms[I];j?x.$_terms[I]?x.$_terms[I]=x.$_terms[I].concat(j):x.$_terms[I]=j.slice():x.$_terms[I]||(x.$_terms[I]=j)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,w]),x.$_mutateRebuild()}extend(w){return c(!w.base,"Cannot extend type with another base"),v.type(this,w)}extract(w){return w=Array.isArray(w)?w:w.split("."),this._ids.reach(w)}fork(w,x){c(!this._inRuleset(),"Cannot fork inside a ruleset");let I=this;for(let j of[].concat(w))j=Array.isArray(j)?j:j.split("."),I=I._ids.fork(j,x,I);return I.$_temp.ruleset=!1,I}rule(w){const x=this._definition;p.assertOptions(w,Object.keys(x.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const I=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(I>=0&&I<this._rules.length,"Cannot apply rules to empty ruleset");const j=this.clone();for(let B=I;B<j._rules.length;++B){const P=j._rules[B],fe=_(P);for(const he in w)x.modifiers[he](fe,w[he]),c(fe.name===P.name,"Cannot change rule name");j._rules[B]=fe,j._singleRules.get(fe.name)===P&&j._singleRules.set(fe.name,fe)}return j.$_temp.ruleset=!1,j.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const w=this.clone();return w.$_temp.ruleset=w._rules.length,w}get $(){return this.ruleset}tailor(w){w=[].concat(w),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:I,adjuster:j}of this.$_terms.alterations)w.includes(I)&&(x=j(x),c(p.isSchema(x),"Alteration adjuster for",I,"failed to return a schema object"));return x=x.$_modify({each:I=>I.tailor(w),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return V.location?V.location(this):this}validate(w,x){return k.entry(w,this,x)}validateAsync(w,x){return k.entryAsync(w,this,x)}$_addRule(w){typeof w=="string"&&(w={name:w}),c(w&&typeof w=="object","Invalid options"),c(w.name&&typeof w.name=="string","Invalid rule name");for(const P in w)c(P[0]!=="_","Cannot set private rule properties");const x=Object.assign({},w);x._resolve=[],x.method=x.method||x.name;const I=this._definition.rules[x.method],j=x.args;c(I,"Unknown rule",x.method);const B=this.clone();if(j){c(Object.keys(j).length===1||Object.keys(j).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const P in j){let fe=j[P];if(I.argsByName){const he=I.argsByName.get(P);if(he.ref&&p.isResolvable(fe))x._resolve.push(P),B.$_mutateRegister(fe);else if(he.normalize&&(fe=he.normalize(fe),j[P]=fe),he.assert){const K=p.validateArg(fe,P,he);c(!K,K,"or reference")}}fe!==void 0?j[P]=fe:delete j[P]}}return I.multi||(B._ruleRemove(x.name,{clone:!1}),B._singleRules.set(x.name,x)),B.$_temp.ruleset===!1&&(B.$_temp.ruleset=null),I.priority?B._rules.unshift(x):B._rules.push(x),B}$_compile(w,x){return b.schema(this.$_root,w,x)}$_createError(w,x,I,j,B,P={}){const fe=P.flags!==!1?this._flags:{},he=P.messages?A.merge(this._definition.messages,P.messages):this._definition.messages;return new g.Report(w,x,I,fe,he,j,B)}$_getFlag(w){return this._flags[w]}$_getRule(w){return this._singleRules.get(w)}$_mapLabels(w){return w=Array.isArray(w)?w:w.split("."),this._ids.labels(w)}$_match(w,x,I,j){(I=Object.assign({},I)).abortEarly=!0,I._externals=!1,x.snapshot();const B=!k.validate(w,this,x,I,j).errors;return x.restore(),B}$_modify(w){return p.assertOptions(w,["each","once","ref","schema"]),R.schema(this,w)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(w,{source:x,name:I,path:j,key:B})=>{const P=this._definition[x][I]&&this._definition[x][I].register;P!==!1&&this.$_mutateRegister(w,{family:P,key:B})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(w,{family:x,key:I}={}){this._refs.register(w,x),this._ids.register(w,{key:I})}$_property(w){return this._definition.properties[w]}$_reach(w){return this._ids.reach(w)}$_rootReferences(){return this._refs.roots()}$_setFlag(w,x,I={}){c(w[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const j=this._definition.flags[w]||{};if(y(x,j.default)&&(x=void 0),y(x,this._flags[w]))return this;const B=I.clone!==!1?this.clone():this;return x!==void 0?(B._flags[w]=x,B.$_mutateRegister(x)):delete B._flags[w],w[0]!=="_"&&(B.$_temp.ruleset=!1),B}$_parent(w,...x){return this[w][p.symbols.parent].call(this,...x)}$_validate(w,x,I){return k.validate(w,this,x,I)}_assign(w){w.type=this.type,w.$_root=this.$_root,w.$_temp=Object.assign({},this.$_temp),w.$_temp.whens={},w._ids=this._ids.clone(),w._preferences=this._preferences,w._valids=this._valids&&this._valids.clone(),w._invalids=this._invalids&&this._invalids.clone(),w._rules=this._rules.slice(),w._singleRules=_(this._singleRules,{shallow:!0}),w._refs=this._refs.clone(),w._flags=Object.assign({},this._flags),w._cache=null,w.$_terms={};for(const x in this.$_terms)w.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;w.$_super={};for(const x in this.$_super)w.$_super[x]=this._super[x].bind(w);return w}_bare(){const w=this.clone();w._reset();const x=w._definition.terms;for(const I in x){const j=x[I];w.$_terms[I]=j.init}return w.$_mutateRebuild()}_default(w,x,I={}){return p.assertOptions(I,"literal"),c(x!==void 0,"Missing",w,"value"),c(typeof x=="function"||!I.literal,"Only function value supports literal option"),typeof x=="function"&&I.literal&&(x={[p.symbols.literal]:!0,literal:x}),this.$_setFlag(w,x)}_generate(w,x,I){if(!this.$_terms.whens)return{schema:this};const j=[],B=[];for(let he=0;he<this.$_terms.whens.length;++he){const K=this.$_terms.whens[he];if(K.concat){j.push(K.concat),B.push(`${he}.concat`);continue}const ae=K.ref?K.ref.resolve(w,x,I):w,de=K.is?[K]:K.switch,Se=B.length;for(let $=0;$<de.length;++$){const{is:ee,then:ue,otherwise:oe}=de[$],ge=`${he}${K.switch?"."+$:""}`;if(ee.$_match(ae,x.nest(ee,`${ge}.is`),I)){if(ue){const Ce=x.localize([...x.path,`${ge}.then`],x.ancestors,x.schemas),{schema:Ee,id:tt}=ue._generate(w,Ce,I);j.push(Ee),B.push(`${ge}.then${tt?`(${tt})`:""}`);break}}else if(oe){const Ce=x.localize([...x.path,`${ge}.otherwise`],x.ancestors,x.schemas),{schema:Ee,id:tt}=oe._generate(w,Ce,I);j.push(Ee),B.push(`${ge}.otherwise${tt?`(${tt})`:""}`);break}}if(K.break&&B.length>Se)break}const P=B.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",P),!P)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[P])return{schema:this.$_temp.whens[P],id:P};let fe=this;this._definition.generate&&(fe=this._definition.generate(this,w,x,I));for(const he of j)fe=fe.concat(he);return this.$_root._tracer&&this.$_root._tracer._combine(fe,[this,...j]),this.$_temp.whens[P]=fe,{schema:fe,id:P}}_inner(w,x,I={}){c(!this._inRuleset(),`Cannot set ${w} inside a ruleset`);const j=this.clone();return j.$_terms[w]&&!I.override||(j.$_terms[w]=[]),I.single?j.$_terms[w].push(x):j.$_terms[w].push(...x),j.$_temp.ruleset=!1,j}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(w,x={}){if(!this._singleRules.has(w))return this;const I=x.clone!==!1?this.clone():this;I._singleRules.delete(w);const j=[];for(let B=0;B<I._rules.length;++B){const P=I._rules[B];P.name!==w||P.keep?j.push(P):I._inRuleset()&&B<I.$_temp.ruleset&&--I.$_temp.ruleset}return I._rules=j,I}_values(w,x){p.verifyFlat(w,x.slice(1,-1));const I=this.clone(),j=w[0]===p.symbols.override;if(j&&(w=w.slice(1)),!I[x]&&w.length?I[x]=new z:j&&(I[x]=w.length?new z:null,I.$_mutateRebuild()),!I[x])return I;j&&I[x].override();for(const B of w){c(B!==void 0,"Cannot call allow/valid/invalid with undefined"),c(B!==p.symbols.override,"Override must be the first value");const P=x==="_invalids"?"_valids":"_invalids";I[P]&&(I[P].remove(B),I[P].length||(c(x==="_valids"||!I._flags.only,"Setting invalid value",B,"leaves schema rejecting all values due to previous valid rule"),I[P]=null)),I[x].add(B,I._refs)}return I}}};N.Base.prototype[p.symbols.any]={version:p.version,compile:b.compile,root:"$_root"},N.Base.prototype.isImmutable=!0,N.Base.prototype.deny=N.Base.prototype.invalid,N.Base.prototype.disallow=N.Base.prototype.invalid,N.Base.prototype.equal=N.Base.prototype.valid,N.Base.prototype.exist=N.Base.prototype.required,N.Base.prototype.not=N.Base.prototype.invalid,N.Base.prototype.options=N.Base.prototype.prefs,N.Base.prototype.preferences=N.Base.prototype.prefs,o.exports=new N.Base},8652:(o,u,h)=>{const c=h(375),_=h(8571),y=h(8160),T={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:m=>new T.Cache(m)},T.Cache=class{constructor(m={}){y.assertOptions(m,["max"]),c(m.max===void 0||m.max&&m.max>0&&isFinite(m.max),"Invalid max cache size"),this._max=m.max||T.max,this._map=new Map,this._list=new T.List}get length(){return this._map.size}set(m,p){if(m!==null&&!T.supported.has(typeof m))return;let b=this._map.get(m);if(b)return b.value=p,void this._list.first(b);b=this._list.unshift({key:m,value:p}),this._map.set(m,b),this._compact()}get(m){const p=this._map.get(m);if(p)return this._list.first(p),_(p.value)}_compact(){if(this._map.size>this._max){const m=this._list.pop();this._map.delete(m.key)}}},T.List=class{constructor(){this.tail=null,this.head=null}unshift(m){return m.next=null,m.prev=this.head,this.head&&(this.head.next=m),this.head=m,this.tail||(this.tail=m),m}first(m){m!==this.head&&(this._remove(m),this.unshift(m))}pop(){return this._remove(this.tail)}_remove(m){const{next:p,prev:b}=m;return p.prev=b,b&&(b.next=p),m===this.tail&&(this.tail=p),m.prev=null,m.next=null,m}}},8160:(o,u,h)=>{const c=h(375),_=h(7916),y=h(5934);let T,m;const p={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=y.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(b,g,v="Options"){c(b&&typeof b=="object"&&!Array.isArray(b),"Options must be of type object");const S=Object.keys(b).filter(A=>!g.includes(A));c(S.length===0,`${v} contain unknown keys: ${S}`)},u.checkPreferences=function(b){m=m||h(3378);const g=m.preferences.validate(b);if(g.error)throw new _([g.error.details[0].message])},u.compare=function(b,g,v){switch(v){case"=":return b===g;case">":return b>g;case"<":return b<g;case">=":return b>=g;case"<=":return b<=g}},u.default=function(b,g){return b===void 0?g:b},u.isIsoDate=function(b){return p.isoDate.test(b)},u.isNumber=function(b){return typeof b=="number"&&!isNaN(b)},u.isResolvable=function(b){return!!b&&(b[u.symbols.ref]||b[u.symbols.template])},u.isSchema=function(b,g={}){const v=b&&b[u.symbols.any];return!!v&&(c(g.legacy||v.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(b){return b[u.symbols.values]},u.limit=function(b){return Number.isSafeInteger(b)&&b>=0},u.preferences=function(b,g){T=T||h(6914),b=b||{},g=g||{};const v=Object.assign({},b,g);return g.errors&&b.errors&&(v.errors=Object.assign({},b.errors,g.errors),v.errors.wrap=Object.assign({},b.errors.wrap,g.errors.wrap)),g.messages&&(v.messages=T.compile(g.messages,b.messages)),delete v[u.symbols.prefs],v},u.tryWithPath=function(b,g,v={}){try{return b()}catch(S){throw S.path!==void 0?S.path=g+"."+S.path:S.path=g,v.append&&(S.message=`${S.message} (${S.path})`),S}},u.validateArg=function(b,g,{assert:v,message:S}){if(u.isSchema(v)){const A=v.validate(b);return A.error?A.error.message:void 0}if(!v(b))return g?`${g} ${S}`:S},u.verifyFlat=function(b,g){for(const v of b)c(!Array.isArray(v),"Method no longer accepts array arguments:",g)}},3292:(o,u,h)=>{const c=h(375),_=h(8160),y=h(6133),T={};u.schema=function(m,p,b={}){_.assertOptions(b,["appendPath","override"]);try{return T.schema(m,p,b)}catch(g){throw b.appendPath&&g.path!==void 0&&(g.message=`${g.message} (${g.path})`),g}},T.schema=function(m,p,b){c(p!==void 0,"Invalid undefined schema"),Array.isArray(p)&&(c(p.length,"Invalid empty array schema"),p.length===1&&(p=p[0]));const g=(v,...S)=>b.override!==!1?v.valid(m.override,...S):v.valid(...S);if(T.simple(p))return g(m,p);if(typeof p=="function")return m.custom(p);if(c(typeof p=="object","Invalid schema content:",typeof p),_.isResolvable(p))return g(m,p);if(_.isSchema(p))return p;if(Array.isArray(p)){for(const v of p)if(!T.simple(v))return m.alternatives().try(...p);return g(m,...p)}return p instanceof RegExp?m.string().regex(p):p instanceof Date?g(m.date(),p):(c(Object.getPrototypeOf(p)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),m.object().keys(p))},u.ref=function(m,p){return y.isRef(m)?m:y.create(m,p)},u.compile=function(m,p,b={}){_.assertOptions(b,["legacy"]);const g=p&&p[_.symbols.any];if(g)return c(b.legacy||g.version===_.version,"Cannot mix different versions of joi schemas:",g.version,_.version),p;if(typeof p!="object"||!b.legacy)return u.schema(m,p,{appendPath:!0});const v=T.walk(p);return v?v.compile(v.root,p):u.schema(m,p,{appendPath:!0})},T.walk=function(m){if(typeof m!="object")return null;if(Array.isArray(m)){for(const b of m){const g=T.walk(b);if(g)return g}return null}const p=m[_.symbols.any];if(p)return{root:m[p.root],compile:p.compile};c(Object.getPrototypeOf(m)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const b in m){const g=T.walk(m[b]);if(g)return g}return null},T.simple=function(m){return m===null||["boolean","string","number"].includes(typeof m)},u.when=function(m,p,b){if(b===void 0&&(c(p&&typeof p=="object","Missing options"),b=p,p=y.create(".")),Array.isArray(b)&&(b={switch:b}),_.assertOptions(b,["is","not","then","otherwise","switch","break"]),_.isSchema(p))return c(b.is===void 0,'"is" can not be used with a schema condition'),c(b.not===void 0,'"not" can not be used with a schema condition'),c(b.switch===void 0,'"switch" can not be used with a schema condition'),T.condition(m,{is:p,then:b.then,otherwise:b.otherwise,break:b.break});if(c(y.isRef(p)||typeof p=="string","Invalid condition:",p),c(b.not===void 0||b.is===void 0,'Cannot combine "is" with "not"'),b.switch===void 0){let v=b;b.not!==void 0&&(v={is:b.not,then:b.otherwise,otherwise:b.then,break:b.break});let S=v.is!==void 0?m.$_compile(v.is):m.$_root.invalid(null,!1,0,"").required();return c(v.then!==void 0||v.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(v.break===void 0||v.then===void 0||v.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),b.is===void 0||y.isRef(b.is)||_.isSchema(b.is)||(S=S.required()),T.condition(m,{ref:u.ref(p),is:S,then:v.then,otherwise:v.otherwise,break:v.break})}c(Array.isArray(b.switch),'"switch" must be an array'),c(b.is===void 0,'Cannot combine "switch" with "is"'),c(b.not===void 0,'Cannot combine "switch" with "not"'),c(b.then===void 0,'Cannot combine "switch" with "then"');const g={ref:u.ref(p),switch:[],break:b.break};for(let v=0;v<b.switch.length;++v){const S=b.switch[v],A=v===b.switch.length-1;_.assertOptions(S,A?["is","then","otherwise"]:["is","then"]),c(S.is!==void 0,'Switch statement missing "is"'),c(S.then!==void 0,'Switch statement missing "then"');const R={is:m.$_compile(S.is),then:m.$_compile(S.then)};if(y.isRef(S.is)||_.isSchema(S.is)||(R.is=R.is.required()),A){c(b.otherwise===void 0||S.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=b.otherwise!==void 0?b.otherwise:S.otherwise;D!==void 0&&(c(g.break===void 0,"Cannot specify both otherwise and break"),R.otherwise=m.$_compile(D))}g.switch.push(R)}return g},T.condition=function(m,p){for(const b of["then","otherwise"])p[b]===void 0?delete p[b]:p[b]=m.$_compile(p[b]);return p}},6354:(o,u,h)=>{const c=h(5688),_=h(8160),y=h(3328);u.Report=class{constructor(T,m,p,b,g,v,S){if(this.code=T,this.flags=b,this.messages=g,this.path=v.path,this.prefs=S,this.state=v,this.value=m,this.message=null,this.template=null,this.local=p||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const A=this.path[this.path.length-1];typeof A!="object"&&(this.local.key=A)}}_setTemplate(T){if(this.template=T,!this.flags.label&&this.path.length===0){const m=this._template(this.template,"root");m&&(this.local.label=m)}}toString(){if(this.message)return this.message;const T=this.code;if(!this.prefs.errors.render)return this.code;const m=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return m===void 0?`Error code "${T}" is not defined, your custom type is missing the correct messages definition`:(this.message=m.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(T,m){return u.template(this.value,T,m||this.code,this.state,this.prefs)}},u.path=function(T){let m="";for(const p of T)typeof p!="object"&&(typeof p=="string"?(m&&(m+="."),m+=p):m+=`[${p}]`);return m},u.template=function(T,m,p,b,g){if(!m)return;if(y.isTemplate(m))return p!=="root"?m:null;let v=g.errors.language;if(_.isResolvable(v)&&(v=v.resolve(T,b,g)),v&&m[v]){if(m[v][p]!==void 0)return m[v][p];if(m[v]["*"]!==void 0)return m[v]["*"]}return m[p]?m[p]:m["*"]},u.label=function(T,m,p,b){if(!p.errors.label)return"";if(T.label)return T.label;let g=m.path;return p.errors.label==="key"&&m.path.length>1&&(g=m.path.slice(-1)),u.path(g)||u.template(null,p.messages,"root",m,p)||b&&u.template(null,b,"root",m,p)||"value"},u.process=function(T,m,p){if(!T)return null;const{override:b,message:g,details:v}=u.details(T);if(b)return b;if(p.errors.stack)return new u.ValidationError(g,v,m);const S=Error.stackTraceLimit;Error.stackTraceLimit=0;const A=new u.ValidationError(g,v,m);return Error.stackTraceLimit=S,A},u.details=function(T,m={}){let p=[];const b=[];for(const g of T){if(g instanceof Error){if(m.override!==!1)return{override:g};const S=g.toString();p.push(S),b.push({message:S,type:"override",context:{error:g}});continue}const v=g.toString();p.push(v),b.push({message:v,path:g.path.filter(S=>typeof S!="object"),type:g.code,context:g.local})}return p.length>1&&(p=[...new Set(p)]),{message:p.join(". "),details:b}},u.ValidationError=class extends Error{constructor(T,m,p){super(T),this._original=p,this.details=m}static isError(T){return T instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,h)=>{const c=h(375),_=h(8571),y=h(8160),T=h(6914),m={};u.type=function(p,b){const g=Object.getPrototypeOf(p),v=_(g),S=p._assign(Object.create(v)),A=Object.assign({},b);delete A.base,v._definition=A;const R=g._definition||{};A.messages=T.merge(R.messages,A.messages),A.properties=Object.assign({},R.properties,A.properties),S.type=A.type,A.flags=Object.assign({},R.flags,A.flags);const D=Object.assign({},R.terms);if(A.terms)for(const N in A.terms){const w=A.terms[N];c(S.$_terms[N]===void 0,"Invalid term override for",A.type,N),S.$_terms[N]=w.init,D[N]=w}A.terms=D,A.args||(A.args=R.args),A.prepare=m.prepare(A.prepare,R.prepare),A.coerce&&(typeof A.coerce=="function"&&(A.coerce={method:A.coerce}),A.coerce.from&&!Array.isArray(A.coerce.from)&&(A.coerce={method:A.coerce.method,from:[].concat(A.coerce.from)})),A.coerce=m.coerce(A.coerce,R.coerce),A.validate=m.validate(A.validate,R.validate);const V=Object.assign({},R.rules);if(A.rules)for(const N in A.rules){const w=A.rules[N];c(typeof w=="object","Invalid rule definition for",A.type,N);let x=w.method;if(x===void 0&&(x=function(){return this.$_addRule(N)}),x&&(c(!v[N],"Rule conflict in",A.type,N),v[N]=x),c(!V[N],"Rule conflict in",A.type,N),V[N]=w,w.alias){const I=[].concat(w.alias);for(const j of I)v[j]=w.method}w.args&&(w.argsByName=new Map,w.args=w.args.map(I=>(typeof I=="string"&&(I={name:I}),c(!w.argsByName.has(I.name),"Duplicated argument name",I.name),y.isSchema(I.assert)&&(I.assert=I.assert.strict().label(I.name)),w.argsByName.set(I.name,I),I)))}A.rules=V;const k=Object.assign({},R.modifiers);if(A.modifiers)for(const N in A.modifiers){c(!v[N],"Rule conflict in",A.type,N);const w=A.modifiers[N];c(typeof w=="function","Invalid modifier definition for",A.type,N);const x=function(I){return this.rule({[N]:I})};v[N]=x,k[N]=w}if(A.modifiers=k,A.overrides){v._super=g,S.$_super={};for(const N in A.overrides)c(g[N],"Cannot override missing",N),A.overrides[N][y.symbols.parent]=g[N],S.$_super[N]=g[N].bind(S);Object.assign(v,A.overrides)}A.cast=Object.assign({},R.cast,A.cast);const z=Object.assign({},R.manifest,A.manifest);return z.build=m.build(A.manifest&&A.manifest.build,R.manifest&&R.manifest.build),A.manifest=z,A.rebuild=m.rebuild(A.rebuild,R.rebuild),S},m.build=function(p,b){return p&&b?function(g,v){return b(p(g,v),v)}:p||b},m.coerce=function(p,b){return p&&b?{from:p.from&&b.from?[...new Set([...p.from,...b.from])]:null,method(g,v){let S;if((!b.from||b.from.includes(typeof g))&&(S=b.method(g,v),S)){if(S.errors||S.value===void 0)return S;g=S.value}if(!p.from||p.from.includes(typeof g)){const A=p.method(g,v);if(A)return A}return S}}:p||b},m.prepare=function(p,b){return p&&b?function(g,v){const S=p(g,v);if(S){if(S.errors||S.value===void 0)return S;g=S.value}return b(g,v)||S}:p||b},m.rebuild=function(p,b){return p&&b?function(g){b(g),p(g)}:p||b},m.validate=function(p,b){return p&&b?function(g,v){const S=b(g,v);if(S){if(S.errors&&(!Array.isArray(S.errors)||S.errors.length))return S;g=S.value}return p(g,v)||S}:p||b}},5107:(o,u,h)=>{const c=h(375),_=h(8571),y=h(8652),T=h(8160),m=h(3292),p=h(6354),b=h(8901),g=h(9708),v=h(6133),S=h(3328),A=h(1152);let R;const D={types:{alternatives:h(4946),any:h(8068),array:h(546),boolean:h(4937),date:h(7500),function:h(390),link:h(8785),number:h(3832),object:h(8966),string:h(7417),symbol:h(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const V={_types:new Set(Object.keys(D.types))};for(const k of V._types)V[k]=function(...z){return c(!z.length||["alternatives","link","object"].includes(k),"The",k,"type does not allow arguments"),D.generate(this,D.types[k],z)};for(const k of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])V[k]=function(...z){return this.any()[k](...z)};Object.assign(V,D.methods);for(const k in D.aliases){const z=D.aliases[k];V[k]=V[z]}return V.x=V.expression,A.setup&&A.setup(V),V}};D.methods={ValidationError:p.ValidationError,version:T.version,cache:y.provider,assert(V,k,...z){D.assert(V,k,!0,z)},attempt:(V,k,...z)=>D.assert(V,k,!1,z),build(V){return c(typeof g.build=="function","Manifest functionality disabled"),g.build(this,V)},checkPreferences(V){T.checkPreferences(V)},compile(V,k){return m.compile(this,V,k)},defaults(V){c(typeof V=="function","modifier must be a function");const k=Object.assign({},this);for(const z of k._types){const N=V(k[z]());c(T.isSchema(N),"modifier must return a valid schema object"),k[z]=function(...w){return D.generate(this,N,w)}}return k},expression:(...V)=>new S(...V),extend(...V){T.verifyFlat(V,"extend"),R=R||h(3378),c(V.length,"You need to provide at least one extension"),this.assert(V,R.extensions);const k=Object.assign({},this);k._types=new Set(k._types);for(let z of V){typeof z=="function"&&(z=z(k)),this.assert(z,R.extension);const N=D.expandExtension(z,k);for(const w of N){c(k[w.type]===void 0||k._types.has(w.type),"Cannot override name",w.type);const x=w.base||this.any(),I=b.type(x,w);k._types.add(w.type),k[w.type]=function(...j){return D.generate(this,I,j)}}}return k},isError:p.ValidationError.isError,isExpression:S.isTemplate,isRef:v.isRef,isSchema:T.isSchema,in:(...V)=>v.in(...V),override:T.symbols.override,ref:(...V)=>v.create(...V),types(){const V={};for(const k of this._types)V[k]=this[k]();for(const k in D.aliases)V[k]=this[k]();return V}},D.assert=function(V,k,z,N){const w=N[0]instanceof Error||typeof N[0]=="string"?N[0]:null,x=w!==null?N[1]:N[0],I=k.validate(V,T.preferences({errors:{stack:!0}},x||{}));let j=I.error;if(!j)return I.value;if(w instanceof Error)throw w;const B=z&&typeof j.annotate=="function"?j.annotate():j.message;throw j instanceof p.ValidationError==0&&(j=_(j)),j.message=w?`${w} ${B}`:B,j},D.generate=function(V,k,z){return c(V,"Must be invoked on a Joi instance."),k.$_root=V,k._definition.args&&z.length?k._definition.args(k,...z):k},D.expandExtension=function(V,k){if(typeof V.type=="string")return[V];const z=[];for(const N of k._types)if(V.type.test(N)){const w=Object.assign({},V);w.type=N,w.base=k[N](),z.push(w)}return z},o.exports=D.root()},6914:(o,u,h)=>{const c=h(375),_=h(8571),y=h(3328);u.compile=function(T,m){if(typeof T=="string")return c(!m,"Cannot set single message string"),new y(T);if(y.isTemplate(T))return c(!m,"Cannot set single message template"),T;c(typeof T=="object"&&!Array.isArray(T),"Invalid message options"),m=m?_(m):{};for(let p in T){const b=T[p];if(p==="root"||y.isTemplate(b)){m[p]=b;continue}if(typeof b=="string"){m[p]=new y(b);continue}c(typeof b=="object"&&!Array.isArray(b),"Invalid message for",p);const g=p;for(p in m[g]=m[g]||{},b){const v=b[p];p==="root"||y.isTemplate(v)?m[g][p]=v:(c(typeof v=="string","Invalid message for",p,"in",g),m[g][p]=new y(v))}}return m},u.decompile=function(T){const m={};for(let p in T){const b=T[p];if(p==="root"){m.root=b;continue}if(y.isTemplate(b)){m[p]=b.describe({compact:!0});continue}const g=p;for(p in m[g]={},b){const v=b[p];p!=="root"?m[g][p]=v.describe({compact:!0}):m[g].root=v}}return m},u.merge=function(T,m){if(!T)return u.compile(m);if(!m)return T;if(typeof m=="string")return new y(m);if(y.isTemplate(m))return m;const p=_(T);for(let b in m){const g=m[b];if(b==="root"||y.isTemplate(g)){p[b]=g;continue}if(typeof g=="string"){p[b]=new y(g);continue}c(typeof g=="object"&&!Array.isArray(g),"Invalid message for",b);const v=b;for(b in p[v]=p[v]||{},g){const S=g[b];b==="root"||y.isTemplate(S)?p[v][b]=S:(c(typeof S=="string","Invalid message for",b,"in",v),p[v][b]=new y(S))}}return p}},2294:(o,u,h)=>{const c=h(375),_=h(8160),y=h(6133),T={};u.Ids=T.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const m=new T.Ids;return m._byId=new Map(this._byId),m._byKey=new Map(this._byKey),m._schemaChain=this._schemaChain,m}concat(m){m._schemaChain&&(this._schemaChain=!0);for(const[p,b]of m._byId.entries())c(!this._byKey.has(p),"Schema id conflicts with existing key:",p),this._byId.set(p,b);for(const[p,b]of m._byKey.entries())c(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,b)}fork(m,p,b){const g=this._collect(m);g.push({schema:b});const v=g.shift();let S={id:v.id,schema:p(v.schema)};c(_.isSchema(S.schema),"adjuster function failed to return a joi schema type");for(const A of g)S={id:A.id,schema:T.fork(A.schema,S.id,S.schema)};return S.schema}labels(m,p=[]){const b=m[0],g=this._get(b);if(!g)return[...p,...m].join(".");const v=m.slice(1);return p=[...p,g.schema._flags.label||b],v.length?g.schema._ids.labels(v,p):p.join(".")}reach(m,p=[]){const b=m[0],g=this._get(b);c(g,"Schema does not contain path",[...p,...m].join("."));const v=m.slice(1);return v.length?g.schema._ids.reach(v,[...p,b]):g.schema}register(m,{key:p}={}){if(!m||!_.isSchema(m))return;(m.$_property("schemaChain")||m._ids._schemaChain)&&(this._schemaChain=!0);const b=m._flags.id;if(b){const g=this._byId.get(b);c(!g||g.schema===m,"Cannot add different schemas with the same id:",b),c(!this._byKey.has(b),"Schema id conflicts with existing key:",b),this._byId.set(b,{schema:m,id:b})}p&&(c(!this._byKey.has(p),"Schema already contains key:",p),c(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,{schema:m,id:p}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(m,p=[],b=[]){const g=m[0],v=this._get(g);c(v,"Schema does not contain path",[...p,...m].join(".")),b=[v,...b];const S=m.slice(1);return S.length?v.schema._ids._collect(S,[...p,g],b):b}_get(m){return this._byId.get(m)||this._byKey.get(m)}},T.fork=function(m,p,b){const g=u.schema(m,{each:(v,{key:S})=>{if(p===(v._flags.id||S))return b},ref:!1});return g?g.$_mutateRebuild():m},u.schema=function(m,p){let b;for(const g in m._flags){if(g[0]==="_")continue;const v=T.scan(m._flags[g],{source:"flags",name:g},p);v!==void 0&&(b=b||m.clone(),b._flags[g]=v)}for(let g=0;g<m._rules.length;++g){const v=m._rules[g],S=T.scan(v.args,{source:"rules",name:v.name},p);if(S!==void 0){b=b||m.clone();const A=Object.assign({},v);A.args=S,b._rules[g]=A,b._singleRules.get(v.name)===v&&b._singleRules.set(v.name,A)}}for(const g in m.$_terms){if(g[0]==="_")continue;const v=T.scan(m.$_terms[g],{source:"terms",name:g},p);v!==void 0&&(b=b||m.clone(),b.$_terms[g]=v)}return b},T.scan=function(m,p,b,g,v){const S=g||[];if(m===null||typeof m!="object")return;let A;if(Array.isArray(m)){for(let R=0;R<m.length;++R){const D=p.source==="terms"&&p.name==="keys"&&m[R].key,V=T.scan(m[R],p,b,[R,...S],D);V!==void 0&&(A=A||m.slice(),A[R]=V)}return A}if(b.schema!==!1&&_.isSchema(m)||b.ref!==!1&&y.isRef(m)){const R=b.each(m,{...p,path:S,key:v});return R===m?void 0:R}for(const R in m){if(R[0]==="_")continue;const D=T.scan(m[R],p,b,[R,...S],v);D!==void 0&&(A=A||Object.assign({},m),A[R]=D)}return A}},6133:(o,u,h)=>{const c=h(375),_=h(8571),y=h(9621),T=h(8160);let m;const p={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(b,g={}){c(typeof b=="string","Invalid reference key:",b),T.assertOptions(g,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!g.prefix||typeof g.prefix=="object","options.prefix must be of type object");const v=Object.assign({},p.defaults,g);delete v.prefix;const S=v.separator,A=p.context(b,S,g.prefix);if(v.type=A.type,b=A.key,v.type==="value")if(A.root&&(c(!S||b[0]!==S,"Cannot specify relative path with root prefix"),v.ancestor="root",b||(b=null)),S&&S===b)b=null,v.ancestor=0;else if(v.ancestor!==void 0)c(!S||!b||b[0]!==S,"Cannot combine prefix with ancestor option");else{const[R,D]=p.ancestor(b,S);D&&(b=b.slice(D))===""&&(b=null),v.ancestor=R}return v.path=S?b===null?[]:b.split(S):[b],new p.Ref(v)},u.in=function(b,g={}){return u.create(b,{...g,in:!0})},u.isRef=function(b){return!!b&&!!b[T.symbols.ref]},p.Ref=class{constructor(b){c(typeof b=="object","Invalid reference construction"),T.assertOptions(b,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(b.separator)||typeof b.separator=="string"&&b.separator.length===1,"Invalid separator"),c(!b.adjust||typeof b.adjust=="function","options.adjust must be a function"),c(!b.map||Array.isArray(b.map),"options.map must be an array"),c(!b.map||!b.adjust,"Cannot set both map and adjust options"),Object.assign(this,p.defaults,b),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(b,g,v,S,A={}){return c(!this.in||A.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(v.context,g,A):this.type==="local"?this._resolve(S,g,A):this.ancestor?this.ancestor==="root"?this._resolve(g.ancestors[g.ancestors.length-1],g,A):(c(this.ancestor<=g.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(g.ancestors[this.ancestor-1],g,A)):this._resolve(b,g,A)}_resolve(b,g,v){let S;if(this.type==="value"&&g.mainstay.shadow&&v.shadow!==!1&&(S=g.mainstay.shadow.get(this.absolute(g))),S===void 0&&(S=y(b,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(S=this.adjust(S)),this.map){const A=this.map.get(S);A!==void 0&&(S=A)}return g.mainstay&&g.mainstay.tracer.resolve(g,this,S),S}toString(){return this.display}absolute(b){return[...b.path.slice(0,-this.ancestor),...this.path]}clone(){return new p.Ref(this)}describe(){const b={path:this.path};this.type!=="value"&&(b.type=this.type),this.separator!=="."&&(b.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(b.ancestor=this.ancestor),this.map&&(b.map=[...this.map]);for(const g of["adjust","iterables","render"])this[g]!==null&&this[g]!==void 0&&(b[g]=this[g]);return this.in!==!1&&(b.in=!0),{ref:b}}updateDisplay(){const b=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${b}`);if(!this.separator)return void(this.display=`ref:${b}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${b}`);if(this.ancestor==="root")return void(this.display=`ref:root:${b}`);if(this.ancestor===1)return void(this.display=`ref:${b||".."}`);const g=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${g}${b||""}`}},p.Ref.prototype[T.symbols.ref]=!0,u.build=function(b){return(b=Object.assign({},p.defaults,b)).type==="value"&&b.ancestor===void 0&&(b.ancestor=1),new p.Ref(b)},p.context=function(b,g,v={}){if(b=b.trim(),v){const S=v.global===void 0?"$":v.global;if(S!==g&&b.startsWith(S))return{key:b.slice(S.length),type:"global"};const A=v.local===void 0?"#":v.local;if(A!==g&&b.startsWith(A))return{key:b.slice(A.length),type:"local"};const R=v.root===void 0?"/":v.root;if(R!==g&&b.startsWith(R))return{key:b.slice(R.length),type:"value",root:!0}}return{key:b,type:"value"}},p.ancestor=function(b,g){if(!g)return[1,0];if(b[0]!==g)return[1,0];if(b[1]!==g)return[0,1];let v=2;for(;b[v]===g;)++v;return[v-1,v]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(b,g){if(b)if(g=g===void 0?u.toParent:g,Array.isArray(b))for(const v of b)this.register(v,g);else if(T.isSchema(b))for(const v of b._refs.refs)v.ancestor-g>=0&&this.refs.push({ancestor:v.ancestor-g,root:v.root});else u.isRef(b)&&b.type==="value"&&b.ancestor-g>=0&&this.refs.push({ancestor:b.ancestor-g,root:b.root}),m=m||h(3328),m.isTemplate(b)&&this.register(b.refs(),g)}get length(){return this.refs.length}clone(){const b=new u.Manager;return b.refs=_(this.refs),b}reset(){this.refs=[]}roots(){return this.refs.filter(b=>!b.ancestor).map(b=>b.root)}}},3378:(o,u,h)=>{const c=h(5107),_={};_.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:_.wrap,array:_.wrap,string:_.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),_.nameRx=/^[a-zA-Z0-9]\w*$/,_.rule=c.object({alias:c.array().items(c.string().pattern(_.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(_.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(_.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(_.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(_.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(_.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(_.nameRx,_.rule),terms:c.object().pattern(_.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),_.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},_.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),_.desc.buffer,_.desc.func,_.desc.ref,_.desc.regex,_.desc.special,_.desc.template,_.desc.value,c.link("/")]),_.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),_.desc.buffer,_.desc.func,_.desc.override,_.desc.ref,_.desc.regex,_.desc.template,_.desc.value),_.desc.messages=c.object().pattern(/.+/,[c.string(),_.desc.template,c.object().pattern(/.+/,[c.string(),_.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:_.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),_.desc.ref],wrap:{label:_.wrap,array:_.wrap}},externals:c.boolean(),messages:_.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:_.desc.values,invalid:_.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),_.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:_.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,h)=>{const c=h(8571),_=h(9621),y=h(8160),T={value:Symbol("value")};o.exports=T.State=class{constructor(m,p,b){this.path=m,this.ancestors=p,this.mainstay=b.mainstay,this.schemas=b.schemas,this.debug=null}localize(m,p=null,b=null){const g=new T.State(m,p,this);return b&&g.schemas&&(g.schemas=[T.schemas(b),...g.schemas]),g}nest(m,p){const b=new T.State(this.path,this.ancestors,this);return b.schemas=b.schemas&&[T.schemas(m),...b.schemas],b.debug=p,b}shadow(m,p){this.mainstay.shadow=this.mainstay.shadow||new T.Shadow,this.mainstay.shadow.set(this.path,m,p)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},T.schemas=function(m){return y.isSchema(m)?{schema:m}:m},T.Shadow=class{constructor(){this._values=null}set(m,p,b){if(!m.length||b==="strip"&&typeof m[m.length-1]=="number")return;this._values=this._values||new Map;let g=this._values;for(let v=0;v<m.length;++v){const S=m[v];let A=g.get(S);A||(A=new Map,g.set(S,A)),g=A}g[T.value]=p}get(m){const p=this.node(m);if(p)return p[T.value]}node(m){if(this._values)return _(this._values,m,{iterables:!0})}override(m,p){if(!this._values)return;const b=m.slice(0,-1),g=m[m.length-1],v=_(this._values,b,{iterables:!0});p?v.set(g,p):v&&v.delete(g)}}},3328:(o,u,h)=>{const c=h(375),_=h(8571),y=h(5277),T=h(1447),m=h(8160),p=h(6354),b=h(6133),g={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=g.Template=class{constructor(v,S){if(c(typeof v=="string","Template source must be a string"),c(!v.includes("\0")&&!v.includes(""),"Template source cannot contain reserved control characters"),this.source=v,this.rendered=v,this._template=null,S){const{functions:A,...R}=S;this._settings=Object.keys(R).length?_(R):void 0,this._functions=A,this._functions&&(c(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const v=g.encode(this.source),S=g.split(v);let A=!1;const R=[],D=S.shift();D&&R.push(D);for(const V of S){const k=V[0]!=="{",z=k?"}":"}}",N=V.indexOf(z);if(N===-1||V[1]==="{"){R.push(`{${g.decode(V)}`);continue}let w=V.slice(k?0:1,N);const x=w[0]===":";x&&(w=w.slice(1));const I=this._ref(g.decode(w),{raw:k,wrapped:x});R.push(I),typeof I!="string"&&(A=!0);const j=V.slice(N+z.length);j&&R.push(g.decode(j))}A?this._template=R:this.rendered=R.join("")}static date(v,S){return g.dateFormat[S.dateFormat].call(v)}describe(v={}){if(!this._settings&&v.compact)return this.source;const S={template:this.source};return this._settings&&(S.options=this._settings),this._functions&&(S.functions=this._functions),S}static build(v){return new g.Template(v.template,v.options||v.functions?{...v.options,functions:v.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(v){return!!v&&!!v[m.symbols.template]}refs(){if(!this._template)return;const v=[];for(const S of this._template)typeof S!="string"&&v.push(...S.refs);return v}resolve(v,S,A,R){return this._template&&this._template.length===1?this._part(this._template[0],v,S,A,R,{}):this.render(v,S,A,R)}_part(v,...S){return v.ref?v.ref.resolve(...S):v.formula.evaluate(S)}render(v,S,A,R,D={}){if(!this.isDynamic())return this.rendered;const V=[];for(const k of this._template)if(typeof k=="string")V.push(k);else{const z=this._part(k,v,S,A,R,D),N=g.stringify(z,v,S,A,R,D);if(N!==void 0){const w=k.raw||(D.errors&&D.errors.escapeHtml)===!1?N:y(N);V.push(g.wrap(w,k.wrapped&&A.errors.wrap.label))}}return V.join("")}_ref(v,{raw:S,wrapped:A}){const R=[],D=k=>{const z=b.create(k,this._settings);return R.push(z),N=>{const w=z.resolve(...N);return w!==void 0?w:null}};try{const k=this._functions?{...g.functions,...this._functions}:g.functions;var V=new T.Parser(v,{reference:D,functions:k,constants:g.constants})}catch(k){throw k.message=`Invalid template variable "${v}" fails due to: ${k.message}`,k}if(V.single){if(V.single.type==="reference"){const k=R[0];return{ref:k,raw:S,refs:R,wrapped:A||k.type==="local"&&k.key==="label"}}return g.stringify(V.single.value)}return{formula:V,raw:S,refs:R}}toString(){return this.source}},g.Template.prototype[m.symbols.template]=!0,g.Template.prototype.isImmutable=!0,g.encode=function(v){return v.replace(/\\(\{+)/g,(S,A)=>g.opens.slice(0,A.length)).replace(/\\(\}+)/g,(S,A)=>g.closes.slice(0,A.length))},g.decode=function(v){return v.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},g.split=function(v){const S=[];let A="";for(let R=0;R<v.length;++R){const D=v[R];if(D==="{"){let V="";for(;R+1<v.length&&v[R+1]==="{";)V+="{",++R;S.push(A),A=V}else A+=D}return S.push(A),S},g.wrap=function(v,S){return S?S.length===1?`${S}${v}${S}`:`${S[0]}${v}${S[1]}`:v},g.stringify=function(v,S,A,R,D,V={}){const k=typeof v,z=R&&R.errors&&R.errors.wrap||{};let N=!1;if(b.isRef(v)&&v.render&&(N=v.in,v=v.resolve(S,A,R,D,{in:v.in,...V})),v===null)return"null";if(k==="string")return g.wrap(v,V.arrayItems&&z.string);if(k==="number"||k==="function"||k==="symbol")return v.toString();if(k!=="object")return JSON.stringify(v);if(v instanceof Date)return g.Template.date(v,R);if(v instanceof Map){const x=[];for(const[I,j]of v.entries())x.push(`${I.toString()} -> ${j.toString()}`);v=x}if(!Array.isArray(v))return v.toString();const w=[];for(const x of v)w.push(g.stringify(x,S,A,R,D,{arrayItems:!0,...V}));return g.wrap(w.join(", "),!N&&z.array)},g.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},g.functions={if:(v,S,A)=>v?S:A,length:v=>typeof v=="string"?v.length:v&&typeof v=="object"?Array.isArray(v)?v.length:Object.keys(v).length:null,msg(v){const[S,A,R,D,V]=this,k=V.messages;if(!k)return"";const z=p.template(S,k[0],v,A,R)||p.template(S,k[1],v,A,R);return z?z.render(S,A,R,D,V):""},number:v=>typeof v=="number"?v:typeof v=="string"?parseFloat(v):typeof v=="boolean"?v?1:0:v instanceof Date?v.getTime():null}},4946:(o,u,h)=>{const c=h(375),_=h(1687),y=h(8068),T=h(8160),m=h(3292),p=h(6354),b=h(6133),g={};o.exports=y.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:b.toSibling}},args:(v,...S)=>S.length===1&&Array.isArray(S[0])?v.try(...S[0]):v.try(...S),validate(v,S){const{schema:A,error:R,state:D,prefs:V}=S;if(A._flags.match){const z=[],N=[];for(let x=0;x<A.$_terms.matches.length;++x){const I=A.$_terms.matches[x],j=D.nest(I.schema,`match.${x}`);j.snapshot();const B=I.schema.$_validate(v,j,V);B.errors?(N.push(B.errors),j.restore()):(z.push(B.value),j.commit())}if(z.length===0)return{errors:R("alternatives.any",{details:N.map(x=>p.details(x,{override:!1}))})};if(A._flags.match==="one")return z.length===1?{value:z[0]}:{errors:R("alternatives.one")};if(z.length!==A.$_terms.matches.length)return{errors:R("alternatives.all",{details:N.map(x=>p.details(x,{override:!1}))})};const w=x=>x.$_terms.matches.some(I=>I.schema.type==="object"||I.schema.type==="alternatives"&&w(I.schema));return w(A)?{value:z.reduce((x,I)=>_(x,I,{mergeArrays:!1}))}:{value:z[z.length-1]}}const k=[];for(let z=0;z<A.$_terms.matches.length;++z){const N=A.$_terms.matches[z];if(N.schema){const I=D.nest(N.schema,`match.${z}`);I.snapshot();const j=N.schema.$_validate(v,I,V);if(!j.errors)return I.commit(),j;I.restore(),k.push({schema:N.schema,reports:j.errors});continue}const w=N.ref?N.ref.resolve(v,D,V):v,x=N.is?[N]:N.switch;for(let I=0;I<x.length;++I){const j=x[I],{is:B,then:P,otherwise:fe}=j,he=`match.${z}${N.switch?"."+I:""}`;if(B.$_match(w,D.nest(B,`${he}.is`),V)){if(P)return P.$_validate(v,D.nest(P,`${he}.then`),V)}else if(fe)return fe.$_validate(v,D.nest(fe,`${he}.otherwise`),V)}}return g.errors(k,S)},rules:{conditional:{method(v,S){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(S.break===void 0,"Cannot use break option with alternatives conditional");const A=this.clone(),R=m.when(A,v,S),D=R.is?[R]:R.switch;for(const V of D)if(V.then&&V.otherwise){A.$_setFlag("_endedSwitch",!0,{clone:!1});break}return A.$_terms.matches.push(R),A.$_mutateRebuild()}},match:{method(v){if(c(["any","one","all"].includes(v),"Invalid alternatives match mode",v),v!=="any")for(const S of this.$_terms.matches)c(S.schema,"Cannot combine match mode",v,"with conditional rules");return this.$_setFlag("match",v)}},try:{method(...v){c(v.length,"Missing alternative schemas"),T.verifyFlat(v,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const S=this.clone();for(const A of v)S.$_terms.matches.push({schema:S.$_compile(A)});return S.$_mutateRebuild()}}},overrides:{label(v){return this.$_parent("label",v).$_modify({each:(S,A)=>A.path[0]!=="is"&&typeof S._flags.label!="string"?S.label(v):void 0,ref:!1})}},rebuild(v){v.$_modify({each:S=>{T.isSchema(S)&&S.type==="array"&&v.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(v,S){if(S.matches)for(const A of S.matches){const{schema:R,ref:D,is:V,not:k,then:z,otherwise:N}=A;v=R?v.try(R):D?v.conditional(D,{is:V,then:z,not:k,otherwise:N,switch:A.switch}):v.conditional(V,{then:z,otherwise:N})}return v}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),g.errors=function(v,{error:S,state:A}){if(!v.length)return{errors:S("alternatives.any")};if(v.length===1)return{errors:v[0].reports};const R=new Set,D=[];for(const{reports:V,schema:k}of v){if(V.length>1)return g.unmatched(v,S);const z=V[0];if(z instanceof p.Report==0)return g.unmatched(v,S);if(z.state.path.length!==A.path.length){D.push({type:k.type,report:z});continue}if(z.code==="any.only"){for(const x of z.local.valids)R.add(x);continue}const[N,w]=z.code.split(".");w!=="base"?D.push({type:k.type,report:z}):z.code==="object.base"?R.add(z.local.type):R.add(N)}return D.length?D.length===1?{errors:D[0].report}:g.unmatched(v,S):{errors:S("alternatives.types",{types:[...R]})}},g.unmatched=function(v,S){const A=[];for(const R of v)A.push(...R.reports);return{errors:S("alternatives.match",p.details(A,{override:!1}))}}},8068:(o,u,h)=>{const c=h(375),_=h(7629),y=h(8160),T=h(6914);o.exports=_.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(m,p){return c(typeof m=="function","Method must be a function"),c(p===void 0||p&&typeof p=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:m,description:p}})},validate(m,p,{method:b}){try{return b(m,p)}catch(g){return p.error("any.custom",{error:g})}},args:["method","description"],multi:!0},messages:{method(m){return this.prefs({messages:m})}},shared:{method(m){c(y.isSchema(m)&&m._flags.id,"Schema must be a schema with an id");const p=this.clone();return p.$_terms.shared=p.$_terms.shared||[],p.$_terms.shared.push(m),p.$_mutateRegister(m),p}},warning:{method(m,p){return c(m&&typeof m=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:m,local:p},warn:!0})},validate:(m,p,{code:b,local:g})=>p.error(b,g),args:["code","local"],multi:!0}},modifiers:{keep(m,p=!0){m.keep=p},message(m,p){m.message=T.compile(p)},warn(m,p=!0){m.warn=p}},manifest:{build(m,p){for(const b in p){const g=p[b];if(["examples","externals","metas","notes","tags"].includes(b))for(const v of g)m=m[b.slice(0,-1)](v);else if(b!=="alterations")if(b!=="whens"){if(b==="shared")for(const v of g)m=m.shared(v)}else for(const v of g){const{ref:S,is:A,not:R,then:D,otherwise:V,concat:k}=v;m=k?m.concat(k):S?m.when(S,{is:A,not:R,then:D,otherwise:V,switch:v.switch,break:v.break}):m.when(A,{then:D,otherwise:V,break:v.break})}else{const v={};for(const{target:S,adjuster:A}of g)v[S]=A;m=m.alter(v)}}return m}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,h)=>{const c=h(375),_=h(9474),y=h(9621),T=h(8068),m=h(8160),p=h(3292),b={};o.exports=T.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(g,{schema:v,state:S,prefs:A}){if(!Array.isArray(g))return;const R=v.$_getRule("sort");return R?b.sort(v,g,R.args.options,S,A):void 0}},validate(g,{schema:v,error:S}){if(!Array.isArray(g)){if(v._flags.single){const A=[g];return A[m.symbols.arraySingle]=!0,{value:A}}return{errors:S("array.base")}}if(v.$_getRule("items")||v.$_terms.externals)return{value:g.slice()}},rules:{has:{method(g){g=this.$_compile(g,{appendPath:!0});const v=this.$_addRule({name:"has",args:{schema:g}});return v.$_mutateRegister(g),v},validate(g,{state:v,prefs:S,error:A},{schema:R}){const D=[g,...v.ancestors];for(let k=0;k<g.length;++k){const z=v.localize([...v.path,k],D,R);if(R.$_match(g[k],z,S))return g}const V=R._flags.label;return V?A("array.hasKnown",{patternLabel:V}):A("array.hasUnknown",null)},multi:!0},items:{method(...g){m.verifyFlat(g,"items");const v=this.$_addRule("items");for(let S=0;S<g.length;++S){const A=m.tryWithPath(()=>this.$_compile(g[S]),S,{append:!0});v.$_terms.items.push(A)}return v.$_mutateRebuild()},validate(g,{schema:v,error:S,state:A,prefs:R,errorsArray:D}){const V=v.$_terms._requireds.slice(),k=v.$_terms.ordered.slice(),z=[...v.$_terms._inclusions,...V],N=!g[m.symbols.arraySingle];delete g[m.symbols.arraySingle];const w=D();let x=g.length;for(let I=0;I<x;++I){const j=g[I];let B=!1,P=!1;const fe=N?I:new Number(I),he=[...A.path,fe];if(!v._flags.sparse&&j===void 0){if(w.push(S("array.sparse",{key:fe,path:he,pos:I,value:void 0},A.localize(he))),R.abortEarly)return w;k.shift();continue}const K=[g,...A.ancestors];for(const $ of v.$_terms._exclusions)if($.$_match(j,A.localize(he,K,$),R,{presence:"ignore"})){if(w.push(S("array.excludes",{pos:I,value:j},A.localize(he))),R.abortEarly)return w;B=!0,k.shift();break}if(B)continue;if(v.$_terms.ordered.length){if(k.length){const $=k.shift(),ee=$.$_validate(j,A.localize(he,K,$),R);if(ee.errors){if(w.push(...ee.errors),R.abortEarly)return w}else if($._flags.result==="strip")b.fastSplice(g,I),--I,--x;else{if(!v._flags.sparse&&ee.value===void 0){if(w.push(S("array.sparse",{key:fe,path:he,pos:I,value:void 0},A.localize(he))),R.abortEarly)return w;continue}g[I]=ee.value}continue}if(!v.$_terms.items.length){if(w.push(S("array.orderedLength",{pos:I,limit:v.$_terms.ordered.length})),R.abortEarly)return w;break}}const ae=[];let de=V.length;for(let $=0;$<de;++$){const ee=A.localize(he,K,V[$]);ee.snapshot();const ue=V[$].$_validate(j,ee,R);if(ae[$]=ue,!ue.errors){if(ee.commit(),g[I]=ue.value,P=!0,b.fastSplice(V,$),--$,--de,!v._flags.sparse&&ue.value===void 0&&(w.push(S("array.sparse",{key:fe,path:he,pos:I,value:void 0},A.localize(he))),R.abortEarly))return w;break}ee.restore()}if(P)continue;const Se=R.stripUnknown&&!!R.stripUnknown.arrays||!1;de=z.length;for(const $ of z){let ee;const ue=V.indexOf($);if(ue!==-1)ee=ae[ue];else{const oe=A.localize(he,K,$);if(oe.snapshot(),ee=$.$_validate(j,oe,R),!ee.errors){oe.commit(),$._flags.result==="strip"?(b.fastSplice(g,I),--I,--x):v._flags.sparse||ee.value!==void 0?g[I]=ee.value:(w.push(S("array.sparse",{key:fe,path:he,pos:I,value:void 0},A.localize(he))),B=!0),P=!0;break}oe.restore()}if(de===1){if(Se){b.fastSplice(g,I),--I,--x,P=!0;break}if(w.push(...ee.errors),R.abortEarly)return w;B=!0;break}}if(!B&&(v.$_terms._inclusions.length||v.$_terms._requireds.length)&&!P){if(Se){b.fastSplice(g,I),--I,--x;continue}if(w.push(S("array.includes",{pos:I,value:j},A.localize(he))),R.abortEarly)return w}}return V.length&&b.fillMissedErrors(v,w,V,g,A,R),k.length&&(b.fillOrderedErrors(v,w,k,g,A,R),w.length||b.fillDefault(k,g,A,R)),w.length?w:g},priority:!0,manifest:!1},length:{method(g){return this.$_addRule({name:"length",args:{limit:g},operator:"="})},validate:(g,v,{limit:S},{name:A,operator:R,args:D})=>m.compare(g.length,S,R)?g:v.error("array."+A,{limit:D.limit,value:g}),args:[{name:"limit",ref:!0,assert:m.limit,message:"must be a positive integer"}]},max:{method(g){return this.$_addRule({name:"max",method:"length",args:{limit:g},operator:"<="})}},min:{method(g){return this.$_addRule({name:"min",method:"length",args:{limit:g},operator:">="})}},ordered:{method(...g){m.verifyFlat(g,"ordered");const v=this.$_addRule("items");for(let S=0;S<g.length;++S){const A=m.tryWithPath(()=>this.$_compile(g[S]),S,{append:!0});b.validateSingle(A,v),v.$_mutateRegister(A),v.$_terms.ordered.push(A)}return v.$_mutateRebuild()}},single:{method(g){const v=g===void 0||!!g;return c(!v||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",v)}},sort:{method(g={}){m.assertOptions(g,["by","order"]);const v={order:g.order||"ascending"};return g.by&&(v.by=p.ref(g.by,{ancestor:0}),c(!v.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:v}})},validate(g,{error:v,state:S,prefs:A,schema:R},{options:D}){const{value:V,errors:k}=b.sort(R,g,D,S,A);if(k)return k;for(let z=0;z<g.length;++z)if(g[z]!==V[z])return v("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return g},convert:!0},sparse:{method(g){const v=g===void 0||!!g;return this._flags.sparse===v?this:(v?this.clone():this.$_addRule("items")).$_setFlag("sparse",v,{clone:!1})}},unique:{method(g,v={}){c(!g||typeof g=="function"||typeof g=="string","comparator must be a function or a string"),m.assertOptions(v,["ignoreUndefined","separator"]);const S={name:"unique",args:{options:v,comparator:g}};if(g)if(typeof g=="string"){const A=m.default(v.separator,".");S.path=A?g.split(A):[g]}else S.comparator=g;return this.$_addRule(S)},validate(g,{state:v,error:S,schema:A},{comparator:R,options:D},{comparator:V,path:k}){const z={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},N=V||_,w=D.ignoreUndefined;for(let x=0;x<g.length;++x){const I=k?y(g[x],k):g[x],j=V?z.custom:z[typeof I];if(c(j,"Failed to find unique map container for type",typeof I),j instanceof Map){const B=j.entries();let P;for(;!(P=B.next()).done;)if(N(P.value[0],I)){const fe=v.localize([...v.path,x],[g,...v.ancestors]),he={pos:x,value:g[x],dupePos:P.value[1],dupeValue:g[P.value[1]]};return k&&(he.path=R),S("array.unique",he,fe)}j.set(I,x)}else{if((!w||I!==void 0)&&j[I]!==void 0){const B={pos:x,value:g[x],dupePos:j[I],dupeValue:g[j[I]]};return k&&(B.path=R),S("array.unique",B,v.localize([...v.path,x],[g,...v.ancestors]))}j[I]=x}}return g},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(g,v)=>new Set(g)}},rebuild(g){g.$_terms._inclusions=[],g.$_terms._exclusions=[],g.$_terms._requireds=[];for(const v of g.$_terms.items)b.validateSingle(v,g),v._flags.presence==="required"?g.$_terms._requireds.push(v):v._flags.presence==="forbidden"?g.$_terms._exclusions.push(v):g.$_terms._inclusions.push(v);for(const v of g.$_terms.ordered)b.validateSingle(v,g)},manifest:{build:(g,v)=>(v.items&&(g=g.items(...v.items)),v.ordered&&(g=g.ordered(...v.ordered)),g)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),b.fillMissedErrors=function(g,v,S,A,R,D){const V=[];let k=0;for(const z of S){const N=z._flags.label;N?V.push(N):++k}V.length?k?v.push(g.$_createError("array.includesRequiredBoth",A,{knownMisses:V,unknownMisses:k},R,D)):v.push(g.$_createError("array.includesRequiredKnowns",A,{knownMisses:V},R,D)):v.push(g.$_createError("array.includesRequiredUnknowns",A,{unknownMisses:k},R,D))},b.fillOrderedErrors=function(g,v,S,A,R,D){const V=[];for(const k of S)k._flags.presence==="required"&&V.push(k);V.length&&b.fillMissedErrors(g,v,V,A,R,D)},b.fillDefault=function(g,v,S,A){const R=[];let D=!0;for(let V=g.length-1;V>=0;--V){const k=g[V],z=[v,...S.ancestors],N=k.$_validate(void 0,S.localize(S.path,z,k),A).value;if(D){if(N===void 0)continue;D=!1}R.unshift(N)}R.length&&v.push(...R)},b.fastSplice=function(g,v){let S=v;for(;S<g.length;)g[S++]=g[S];--g.length},b.validateSingle=function(g,v){(g.type==="array"||g._flags._arrayItems)&&(c(!v._flags.single,"Cannot specify array item with single rule enabled"),v.$_setFlag("_arrayItems",!0,{clone:!1}))},b.sort=function(g,v,S,A,R){const D=S.order==="ascending"?1:-1,V=-1*D,k=D,z=(N,w)=>{let x=b.compare(N,w,V,k);if(x!==null||(S.by&&(N=S.by.resolve(N,A,R),w=S.by.resolve(w,A,R)),x=b.compare(N,w,V,k),x!==null))return x;const I=typeof N;if(I!==typeof w)throw g.$_createError("array.sort.mismatching",v,null,A,R);if(I!=="number"&&I!=="string")throw g.$_createError("array.sort.unsupported",v,{type:I},A,R);return I==="number"?(N-w)*D:N<w?V:k};try{return{value:v.slice().sort(z)}}catch(N){return{errors:N}}},b.compare=function(g,v,S,A){return g===v?0:g===void 0?1:v===void 0?-1:g===null?A:v===null?S:null}},4937:(o,u,h)=>{const c=h(375),_=h(8068),y=h(8160),T=h(2036),m={isBool:function(p){return typeof p=="boolean"}};o.exports=_.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(p,{schema:b}){if(typeof p!="boolean"){if(typeof p=="string"){const g=b._flags.sensitive?p:p.toLowerCase();p=g==="true"||g!=="false"&&p}return typeof p!="boolean"&&(p=b.$_terms.truthy&&b.$_terms.truthy.has(p,null,null,!b._flags.sensitive)||(!b.$_terms.falsy||!b.$_terms.falsy.has(p,null,null,!b._flags.sensitive))&&p),{value:p}}},validate(p,{error:b}){if(typeof p!="boolean")return{value:p,errors:b("boolean.base")}},rules:{truthy:{method(...p){y.verifyFlat(p,"truthy");const b=this.clone();b.$_terms.truthy=b.$_terms.truthy||new T;for(let g=0;g<p.length;++g){const v=p[g];c(v!==void 0,"Cannot call truthy with undefined"),b.$_terms.truthy.add(v)}return b}},falsy:{method(...p){y.verifyFlat(p,"falsy");const b=this.clone();b.$_terms.falsy=b.$_terms.falsy||new T;for(let g=0;g<p.length;++g){const v=p[g];c(v!==void 0,"Cannot call falsy with undefined"),b.$_terms.falsy.add(v)}return b}},sensitive:{method(p=!0){return this.$_setFlag("sensitive",p)}}},cast:{number:{from:m.isBool,to:(p,b)=>p?1:0},string:{from:m.isBool,to:(p,b)=>p?"true":"false"}},manifest:{build:(p,b)=>(b.truthy&&(p=p.truthy(...b.truthy)),b.falsy&&(p=p.falsy(...b.falsy)),p)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,h)=>{const c=h(375),_=h(8068),y=h(8160),T=h(3328),m={isDate:function(p){return p instanceof Date}};o.exports=_.extend({type:"date",coerce:{from:["number","string"],method:(p,{schema:b})=>({value:m.parse(p,b._flags.format)||p})},validate(p,{schema:b,error:g,prefs:v}){if(p instanceof Date&&!isNaN(p.getTime()))return;const S=b._flags.format;return v.convert&&S&&typeof p=="string"?{value:p,errors:g("date.format",{format:S})}:{value:p,errors:g("date.base")}},rules:{compare:{method:!1,validate(p,b,{date:g},{name:v,operator:S,args:A}){const R=g==="now"?Date.now():g.getTime();return y.compare(p.getTime(),R,S)?p:b.error("date."+v,{limit:A.date,value:p})},args:[{name:"date",ref:!0,normalize:p=>p==="now"?p:m.parse(p),assert:p=>p!==null,message:"must have a valid date format"}]},format:{method(p){return c(["iso","javascript","unix"].includes(p),"Unknown date format",p),this.$_setFlag("format",p)}},greater:{method(p){return this.$_addRule({name:"greater",method:"compare",args:{date:p},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(p){return this.$_addRule({name:"less",method:"compare",args:{date:p},operator:"<"})}},max:{method(p){return this.$_addRule({name:"max",method:"compare",args:{date:p},operator:"<="})}},min:{method(p){return this.$_addRule({name:"min",method:"compare",args:{date:p},operator:">="})}},timestamp:{method(p="javascript"){return c(["javascript","unix"].includes(p),'"type" must be one of "javascript, unix"'),this.format(p)}}},cast:{number:{from:m.isDate,to:(p,b)=>p.getTime()},string:{from:m.isDate,to:(p,{prefs:b})=>T.date(p,b)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),m.parse=function(p,b){if(p instanceof Date)return p;if(typeof p!="string"&&(isNaN(p)||!isFinite(p))||/^\s*$/.test(p))return null;if(b==="iso")return y.isIsoDate(p)?m.date(p.toString()):null;const g=p;if(typeof p=="string"&&/^[+-]?\d+(\.\d+)?$/.test(p)&&(p=parseFloat(p)),b){if(b==="javascript")return m.date(1*p);if(b==="unix")return m.date(1e3*p);if(typeof g=="string")return null}return m.date(p)},m.date=function(p){const b=new Date(p);return isNaN(b.getTime())?null:b}},390:(o,u,h)=>{const c=h(375),_=h(7824);o.exports=_.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:y}})},validate:(y,T,{n:m})=>y.length===m?y:T.error("function.arity",{n:m})},class:{method(){return this.$_addRule("class")},validate:(y,T)=>/^\s*class\s/.test(y.toString())?y:T.error("function.class",{value:y})},minArity:{method(y){return c(Number.isSafeInteger(y)&&y>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:y}})},validate:(y,T,{n:m})=>y.length>=m?y:T.error("function.minArity",{n:m})},maxArity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:y}})},validate:(y,T,{n:m})=>y.length<=m?y:T.error("function.maxArity",{n:m})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,h)=>{const c=h(978),_=h(375),y=h(8571),T=h(3652),m=h(8068),p=h(8160),b=h(3292),g=h(6354),v=h(6133),S=h(3328),A={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=m.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(R,D)=>R.keys(D),validate(R,{schema:D,error:V,state:k,prefs:z}){if(!R||typeof R!==D.$_property("typeof")||Array.isArray(R))return{value:R,errors:V("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;R=A.clone(R,z);const N=[];if(D.$_terms.renames&&!A.rename(D,R,k,z,N))return{value:R,errors:N};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:R,errors:N};const w=new Set(Object.keys(R));if(D.$_terms.keys){const x=[R,...k.ancestors];for(const I of D.$_terms.keys){const j=I.key,B=R[j];w.delete(j);const P=k.localize([...k.path,j],x,I),fe=I.schema.$_validate(B,P,z);if(fe.errors){if(z.abortEarly)return{value:R,errors:fe.errors};fe.value!==void 0&&(R[j]=fe.value),N.push(...fe.errors)}else I.schema._flags.result==="strip"||fe.value===void 0&&B!==void 0?delete R[j]:fe.value!==void 0&&(R[j]=fe.value)}}if(w.size||D._flags._hasPatternMatch){const x=A.unknown(D,R,w,N,k,z);if(x)return x}if(D.$_terms.dependencies)for(const x of D.$_terms.dependencies){if(x.key!==null&&A.isPresent(x.options)(x.key.resolve(R,k,z,null,{shadow:!1}))===!1)continue;const I=A.dependencies[x.rel](D,x,R,k,z);if(I){const j=D.$_createError(I.code,R,I.context,k,z);if(z.abortEarly)return{value:R,errors:j};N.push(j)}}return{value:R,errors:N}},rules:{and:{method(...R){return p.verifyFlat(R,"and"),A.dependency(this,"and",null,R)}},append:{method(R){return R==null||Object.keys(R).length===0?this:this.keys(R)}},assert:{method(R,D,V){S.isTemplate(R)||(R=b.ref(R)),_(V===void 0||typeof V=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const k=this.$_addRule({name:"assert",args:{subject:R,schema:D,message:V}});return k.$_mutateRegister(R),k.$_mutateRegister(D),k},validate(R,{error:D,prefs:V,state:k},{subject:z,schema:N,message:w}){const x=z.resolve(R,k,V),I=v.isRef(z)?z.absolute(k):[];return N.$_match(x,k.localize(I,[R,...k.ancestors],N),V)?R:D("object.assert",{subject:z,message:w})},args:["subject","schema","message"],multi:!0},instance:{method(R,D){return _(typeof R=="function","constructor must be a function"),D=D||R.name,this.$_addRule({name:"instance",args:{constructor:R,name:D}})},validate:(R,D,{constructor:V,name:k})=>R instanceof V?R:D.error("object.instance",{type:k,value:R}),args:["constructor","name"]},keys:{method(R){_(R===void 0||typeof R=="object","Object schema must be a valid object"),_(!p.isSchema(R),"Object schema cannot be a joi schema");const D=this.clone();if(R)if(Object.keys(R).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(V=>!R.hasOwnProperty(V.key)):new A.Keys;for(const V in R)p.tryWithPath(()=>D.$_terms.keys.push({key:V,schema:this.$_compile(R[V])}),V)}else D.$_terms.keys=new A.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(R){return this.$_addRule({name:"length",args:{limit:R},operator:"="})},validate:(R,D,{limit:V},{name:k,operator:z,args:N})=>p.compare(Object.keys(R).length,V,z)?R:D.error("object."+k,{limit:N.limit,value:R}),args:[{name:"limit",ref:!0,assert:p.limit,message:"must be a positive integer"}]},max:{method(R){return this.$_addRule({name:"max",method:"length",args:{limit:R},operator:"<="})}},min:{method(R){return this.$_addRule({name:"min",method:"length",args:{limit:R},operator:">="})}},nand:{method(...R){return p.verifyFlat(R,"nand"),A.dependency(this,"nand",null,R)}},or:{method(...R){return p.verifyFlat(R,"or"),A.dependency(this,"or",null,R)}},oxor:{method(...R){return A.dependency(this,"oxor",null,R)}},pattern:{method(R,D,V={}){const k=R instanceof RegExp;k||(R=this.$_compile(R,{appendPath:!0})),_(D!==void 0,"Invalid rule"),p.assertOptions(V,["fallthrough","matches"]),k&&_(!R.flags.includes("g")&&!R.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const z=this.clone();z.$_terms.patterns=z.$_terms.patterns||[];const N={[k?"regex":"schema"]:R,rule:D};return V.matches&&(N.matches=this.$_compile(V.matches),N.matches.type!=="array"&&(N.matches=N.matches.$_root.array().items(N.matches)),z.$_mutateRegister(N.matches),z.$_setFlag("_hasPatternMatch",!0,{clone:!1})),V.fallthrough&&(N.fallthrough=!0),z.$_terms.patterns.push(N),z.$_mutateRegister(D),z}},ref:{method(){return this.$_addRule("ref")},validate:(R,D)=>v.isRef(R)?R:D.error("object.refType",{value:R})},regex:{method(){return this.$_addRule("regex")},validate:(R,D)=>R instanceof RegExp?R:D.error("object.regex",{value:R})},rename:{method(R,D,V={}){_(typeof R=="string"||R instanceof RegExp,"Rename missing the from argument"),_(typeof D=="string"||D instanceof S,"Invalid rename to argument"),_(D!==R,"Cannot rename key to same name:",R),p.assertOptions(V,["alias","ignoreUndefined","override","multiple"]);const k=this.clone();k.$_terms.renames=k.$_terms.renames||[];for(const z of k.$_terms.renames)_(z.from!==R,"Cannot rename the same key multiple times");return D instanceof S&&k.$_mutateRegister(D),k.$_terms.renames.push({from:R,to:D,options:c(A.renameDefaults,V)}),k}},schema:{method(R="any"){return this.$_addRule({name:"schema",args:{type:R}})},validate:(R,D,{type:V})=>!p.isSchema(R)||V!=="any"&&R.type!==V?D.error("object.schema",{type:V}):R},unknown:{method(R){return this.$_setFlag("unknown",R!==!1)}},with:{method(R,D,V={}){return A.dependency(this,"with",R,D,V)}},without:{method(R,D,V={}){return A.dependency(this,"without",R,D,V)}},xor:{method(...R){return p.verifyFlat(R,"xor"),A.dependency(this,"xor",null,R)}}},overrides:{default(R,D){return R===void 0&&(R=p.symbols.deepDefault),this.$_parent("default",R,D)}},rebuild(R){if(R.$_terms.keys){const D=new T.Sorter;for(const V of R.$_terms.keys)p.tryWithPath(()=>D.add(V,{after:V.schema.$_rootReferences(),group:V.key}),V.key);R.$_terms.keys=new A.Keys(...D.nodes)}},manifest:{build(R,D){if(D.keys&&(R=R.keys(D.keys)),D.dependencies)for(const{rel:V,key:k=null,peers:z,options:N}of D.dependencies)R=A.dependency(R,V,k,z,N);if(D.patterns)for(const{regex:V,schema:k,rule:z,fallthrough:N,matches:w}of D.patterns)R=R.pattern(V||k,z,{fallthrough:N,matches:w});if(D.renames)for(const{from:V,to:k,options:z}of D.renames)R=R.rename(V,k,z);return R}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),A.clone=function(R,D){if(typeof R=="object"){if(D.nonEnumerables)return y(R,{shallow:!0});const k=Object.create(Object.getPrototypeOf(R));return Object.assign(k,R),k}const V=function(...k){return R.apply(this,k)};return V.prototype=y(R.prototype),Object.defineProperty(V,"name",{value:R.name,writable:!1}),Object.defineProperty(V,"length",{value:R.length,writable:!1}),Object.assign(V,R),V},A.dependency=function(R,D,V,k,z){_(V===null||typeof V=="string",D,"key must be a strings"),z||(z=k.length>1&&typeof k[k.length-1]=="object"?k.pop():{}),p.assertOptions(z,["separator","isPresent"]),k=[].concat(k);const N=p.default(z.separator,"."),w=[];for(const I of k)_(typeof I=="string",D,"peers must be strings"),w.push(b.ref(I,{separator:N,ancestor:0,prefix:!1}));V!==null&&(V=b.ref(V,{separator:N,ancestor:0,prefix:!1}));const x=R.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new A.Dependency(D,V,w,k,z)),x},A.dependencies={and(R,D,V,k,z){const N=[],w=[],x=D.peers.length,I=A.isPresent(D.options);for(const j of D.peers)I(j.resolve(V,k,z,null,{shadow:!1}))===!1?N.push(j.key):w.push(j.key);if(N.length!==x&&w.length!==x)return{code:"object.and",context:{present:w,presentWithLabels:A.keysToLabels(R,w),missing:N,missingWithLabels:A.keysToLabels(R,N)}}},nand(R,D,V,k,z){const N=[],w=A.isPresent(D.options);for(const j of D.peers)w(j.resolve(V,k,z,null,{shadow:!1}))&&N.push(j.key);if(N.length!==D.peers.length)return;const x=D.paths[0],I=D.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:A.keysToLabels(R,x),peers:I,peersWithLabels:A.keysToLabels(R,I)}}},or(R,D,V,k,z){const N=A.isPresent(D.options);for(const w of D.peers)if(N(w.resolve(V,k,z,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:A.keysToLabels(R,D.paths)}}},oxor(R,D,V,k,z){const N=[],w=A.isPresent(D.options);for(const I of D.peers)w(I.resolve(V,k,z,null,{shadow:!1}))&&N.push(I.key);if(!N.length||N.length===1)return;const x={peers:D.paths,peersWithLabels:A.keysToLabels(R,D.paths)};return x.present=N,x.presentWithLabels=A.keysToLabels(R,N),{code:"object.oxor",context:x}},with(R,D,V,k,z){const N=A.isPresent(D.options);for(const w of D.peers)if(N(w.resolve(V,k,z,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:A.keysToLabels(R,D.key.key),peer:w.key,peerWithLabel:A.keysToLabels(R,w.key)}}},without(R,D,V,k,z){const N=A.isPresent(D.options);for(const w of D.peers)if(N(w.resolve(V,k,z,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:A.keysToLabels(R,D.key.key),peer:w.key,peerWithLabel:A.keysToLabels(R,w.key)}}},xor(R,D,V,k,z){const N=[],w=A.isPresent(D.options);for(const I of D.peers)w(I.resolve(V,k,z,null,{shadow:!1}))&&N.push(I.key);if(N.length===1)return;const x={peers:D.paths,peersWithLabels:A.keysToLabels(R,D.paths)};return N.length===0?{code:"object.missing",context:x}:(x.present=N,x.presentWithLabels=A.keysToLabels(R,N),{code:"object.xor",context:x})}},A.keysToLabels=function(R,D){return Array.isArray(D)?D.map(V=>R.$_mapLabels(V)):R.$_mapLabels(D)},A.isPresent=function(R){return typeof R.isPresent=="function"?R.isPresent:D=>D!==void 0},A.rename=function(R,D,V,k,z){const N={};for(const w of R.$_terms.renames){const x=[],I=typeof w.from!="string";if(I)for(const j in D){if(D[j]===void 0&&w.options.ignoreUndefined||j===w.to)continue;const B=w.from.exec(j);B&&x.push({from:j,to:w.to,match:B})}else!Object.prototype.hasOwnProperty.call(D,w.from)||D[w.from]===void 0&&w.options.ignoreUndefined||x.push(w);for(const j of x){const B=j.from;let P=j.to;if(P instanceof S&&(P=P.render(D,V,k,j.match)),B!==P){if(!w.options.multiple&&N[P]&&(z.push(R.$_createError("object.rename.multiple",D,{from:B,to:P,pattern:I},V,k)),k.abortEarly)||Object.prototype.hasOwnProperty.call(D,P)&&!w.options.override&&!N[P]&&(z.push(R.$_createError("object.rename.override",D,{from:B,to:P,pattern:I},V,k)),k.abortEarly))return!1;D[B]===void 0?delete D[P]:D[P]=D[B],N[P]=!0,w.options.alias||delete D[B]}}}return!0},A.unknown=function(R,D,V,k,z,N){if(R.$_terms.patterns){let w=!1;const x=R.$_terms.patterns.map(j=>{if(j.matches)return w=!0,[]}),I=[D,...z.ancestors];for(const j of V){const B=D[j],P=[...z.path,j];for(let fe=0;fe<R.$_terms.patterns.length;++fe){const he=R.$_terms.patterns[fe];if(he.regex){const de=he.regex.test(j);if(z.mainstay.tracer.debug(z,"rule",`pattern.${fe}`,de?"pass":"error"),!de)continue}else if(!he.schema.$_match(j,z.nest(he.schema,`pattern.${fe}`),N))continue;V.delete(j);const K=z.localize(P,I,{schema:he.rule,key:j}),ae=he.rule.$_validate(B,K,N);if(ae.errors){if(N.abortEarly)return{value:D,errors:ae.errors};k.push(...ae.errors)}if(he.matches&&x[fe].push(j),D[j]=ae.value,!he.fallthrough)break}}if(w)for(let j=0;j<x.length;++j){const B=x[j];if(!B)continue;const P=R.$_terms.patterns[j].matches,fe=z.localize(z.path,I,P),he=P.$_validate(B,fe,N);if(he.errors){const K=g.details(he.errors,{override:!1});K.matches=B;const ae=R.$_createError("object.pattern.match",D,K,z,N);if(N.abortEarly)return{value:D,errors:ae};k.push(ae)}}}if(V.size&&(R.$_terms.keys||R.$_terms.patterns)){if(N.stripUnknown&&R._flags.unknown===void 0||N.skipFunctions){const w=!(!N.stripUnknown||N.stripUnknown!==!0&&!N.stripUnknown.objects);for(const x of V)w?(delete D[x],V.delete(x)):typeof D[x]=="function"&&V.delete(x)}if(!p.default(R._flags.unknown,N.allowUnknown))for(const w of V){const x=z.localize([...z.path,w],[]),I=R.$_createError("object.unknown",D[w],{child:w},x,N,{flags:!1});if(N.abortEarly)return{value:D,errors:I};k.push(I)}}},A.Dependency=class{constructor(R,D,V,k,z){this.rel=R,this.key=D,this.peers=V,this.paths=k,this.options=z}describe(){const R={rel:this.rel,peers:this.paths};return this.key!==null&&(R.key=this.key.key),this.peers[0].separator!=="."&&(R.options={...R.options,separator:this.peers[0].separator}),this.options.isPresent&&(R.options={...R.options,isPresent:this.options.isPresent}),R}},A.Keys=class extends Array{concat(R){const D=this.slice(),V=new Map;for(let k=0;k<D.length;++k)V.set(D[k].key,k);for(const k of R){const z=k.key,N=V.get(z);N!==void 0?D[N]={key:z,schema:D[N].schema.concat(k.schema)}:D.push(k)}return D}}},8785:(o,u,h)=>{const c=h(375),_=h(8068),y=h(8160),T=h(3292),m=h(6354),p={};o.exports=_.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(b,g)=>b.ref(g),validate(b,{schema:g,state:v,prefs:S}){c(g.$_terms.link,"Uninitialized link schema");const A=p.generate(g,b,v,S),R=g.$_terms.link[0].ref;return A.$_validate(b,v.nest(A,`link:${R.display}:${A.type}`),S)},generate:(b,g,v,S)=>p.generate(b,g,v,S),rules:{ref:{method(b){c(!this.$_terms.link,"Cannot reinitialize schema"),b=T.ref(b),c(b.type==="value"||b.type==="local","Invalid reference type:",b.type),c(b.type==="local"||b.ancestor==="root"||b.ancestor>0,"Link cannot reference itself");const g=this.clone();return g.$_terms.link=[{ref:b}],g}},relative:{method(b=!0){return this.$_setFlag("relative",b)}}},overrides:{concat(b){c(this.$_terms.link,"Uninitialized link schema"),c(y.isSchema(b),"Invalid schema object"),c(b.type!=="link","Cannot merge type link with another link");const g=this.clone();return g.$_terms.whens||(g.$_terms.whens=[]),g.$_terms.whens.push({concat:b}),g.$_mutateRebuild()}},manifest:{build:(b,g)=>(c(g.link,"Invalid link description missing link"),b.ref(g.link))}}),p.generate=function(b,g,v,S){let A=v.mainstay.links.get(b);if(A)return A._generate(g,v,S).schema;const R=b.$_terms.link[0].ref,{perspective:D,path:V}=p.perspective(R,v);p.assert(D,"which is outside of schema boundaries",R,b,v,S);try{A=V.length?D.$_reach(V):D}catch{p.assert(!1,"to non-existing schema",R,b,v,S)}return p.assert(A.type!=="link","which is another link",R,b,v,S),b._flags.relative||v.mainstay.links.set(b,A),A._generate(g,v,S).schema},p.perspective=function(b,g){if(b.type==="local"){for(const{schema:v,key:S}of g.schemas){if((v._flags.id||S)===b.path[0])return{perspective:v,path:b.path.slice(1)};if(v.$_terms.shared){for(const A of v.$_terms.shared)if(A._flags.id===b.path[0])return{perspective:A,path:b.path.slice(1)}}}return{perspective:null,path:null}}return b.ancestor==="root"?{perspective:g.schemas[g.schemas.length-1].schema,path:b.path}:{perspective:g.schemas[b.ancestor]&&g.schemas[b.ancestor].schema,path:b.path}},p.assert=function(b,g,v,S,A,R){b||c(!1,`"${m.label(S._flags,A,R)}" contains link reference "${v.display}" ${g}`)}},3832:(o,u,h)=>{const c=h(375),_=h(8068),y=h(8160),T={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(m){const p=m.toString(),b=p.indexOf("."),g=p.indexOf("e");return(b<0?0:(g<0?p.length:g)-b-1)+(g<0?0:Math.max(0,-parseInt(p.slice(g+1))))}};o.exports=_.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(m,{schema:p,error:b}){if(!m.match(T.numberRx))return;m=m.trim();const g={value:parseFloat(m)};if(g.value===0&&(g.value=0),!p._flags.unsafe)if(m.match(/e/i)){if(T.extractSignificantDigits(m)!==T.extractSignificantDigits(String(g.value)))return g.errors=b("number.unsafe"),g}else{const v=g.value.toString();if(v.match(/e/i))return g;if(v!==T.normalizeDecimal(m))return g.errors=b("number.unsafe"),g}return g}},validate(m,{schema:p,error:b,prefs:g}){if(m===1/0||m===-1/0)return{value:m,errors:b("number.infinity")};if(!y.isNumber(m))return{value:m,errors:b("number.base")};const v={value:m};if(g.convert){const S=p.$_getRule("precision");if(S){const A=Math.pow(10,S.args.limit);v.value=Math.round(v.value*A)/A}}return v.value===0&&(v.value=0),!p._flags.unsafe&&(m>Number.MAX_SAFE_INTEGER||m<Number.MIN_SAFE_INTEGER)&&(v.errors=b("number.unsafe")),v},rules:{compare:{method:!1,validate:(m,p,{limit:b},{name:g,operator:v,args:S})=>y.compare(m,b,v)?m:p.error("number."+g,{limit:S.limit,value:m}),args:[{name:"limit",ref:!0,assert:y.isNumber,message:"must be a number"}]},greater:{method(m){return this.$_addRule({name:"greater",method:"compare",args:{limit:m},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(m,p)=>Math.trunc(m)-m==0?m:p.error("number.integer")},less:{method(m){return this.$_addRule({name:"less",method:"compare",args:{limit:m},operator:"<"})}},max:{method(m){return this.$_addRule({name:"max",method:"compare",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"compare",args:{limit:m},operator:">="})}},multiple:{method(m){const p=typeof m=="number"?T.decimalPlaces(m):null,b=Math.pow(10,p);return this.$_addRule({name:"multiple",args:{base:m,baseDecimalPlace:p,pfactor:b}})},validate:(m,p,{base:b,baseDecimalPlace:g,pfactor:v},S)=>T.decimalPlaces(m)>g?p.error("number.multiple",{multiple:S.args.base,value:m}):Math.round(v*m)%Math.round(v*b)==0?m:p.error("number.multiple",{multiple:S.args.base,value:m}),args:[{name:"base",ref:!0,assert:m=>typeof m=="number"&&isFinite(m)&&m>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(m,p)=>Number.isSafeInteger(m)&&m>=0&&m<=65535?m:p.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(m){return c(Number.isSafeInteger(m),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:m}})},validate(m,p,{limit:b}){const g=m.toString().match(T.precisionRx);return Math.max((g[1]?g[1].length:0)-(g[2]?parseInt(g[2],10):0),0)<=b?m:p.error("number.precision",{limit:b,value:m})},convert:!0},sign:{method(m){return c(["negative","positive"].includes(m),"Invalid sign",m),this.$_addRule({name:"sign",args:{sign:m}})},validate:(m,p,{sign:b})=>b==="negative"&&m<0||b==="positive"&&m>0?m:p.error(`number.${b}`)},unsafe:{method(m=!0){return c(typeof m=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",m)}}},cast:{string:{from:m=>typeof m=="number",to:(m,p)=>m.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),T.extractSignificantDigits=function(m){return m.replace(T.exponentialPartRegex,"").replace(T.dotRegex,"").replace(T.trailingZerosRegex,"").replace(T.leadingSignAndZerosRegex,"")},T.normalizeDecimal=function(m){return(m=m.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&m.endsWith("0")&&(m=m.replace(/0+$/,"")),m==="-0"?"0":m}},8966:(o,u,h)=>{const c=h(7824);o.exports=c.extend({type:"object",cast:{map:{from:_=>_&&typeof _=="object",to:(_,y)=>new Map(Object.entries(_))}}})},7417:(o,u,h)=>{const c=h(375),_=h(5380),y=h(1745),T=h(9959),m=h(6064),p=h(9926),b=h(5752),g=h(8068),v=h(8160),S={tlds:p instanceof Set&&{tlds:{allow:p,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:T.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=g.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(A,{schema:R,state:D,prefs:V}){const k=R.$_getRule("normalize");k&&(A=A.normalize(k.args.form));const z=R.$_getRule("case");z&&(A=z.args.direction==="upper"?A.toLocaleUpperCase():A.toLocaleLowerCase());const N=R.$_getRule("trim");if(N&&N.args.enabled&&(A=A.trim()),R.$_terms.replacements)for(const x of R.$_terms.replacements)A=A.replace(x.pattern,x.replacement);const w=R.$_getRule("hex");if(w&&w.args.options.byteAligned&&A.length%2!=0&&(A=`0${A}`),R.$_getRule("isoDate")){const x=S.isoDate(A);x&&(A=x)}if(R._flags.truncate){const x=R.$_getRule("max");if(x){let I=x.args.limit;if(v.isResolvable(I)&&(I=I.resolve(A,D,V),!v.limit(I)))return{value:A,errors:R.$_createError("any.ref",I,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},D,V)};A=A.slice(0,I)}}return{value:A}}},validate(A,{schema:R,error:D}){if(typeof A!="string")return{value:A,errors:D("string.base")};if(A===""){const V=R.$_getRule("min");return V&&V.args.limit===0?void 0:{value:A,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(A,R)=>/^[a-zA-Z0-9]+$/.test(A)?A:R.error("string.alphanum")},base64:{method(A={}){return v.assertOptions(A,["paddingRequired","urlSafe"]),A={urlSafe:!1,paddingRequired:!0,...A},c(typeof A.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof A.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:A}})},validate:(A,R,{options:D})=>S.base64Regex[D.paddingRequired][D.urlSafe].test(A)?A:R.error("string.base64")},case:{method(A){return c(["lower","upper"].includes(A),"Invalid case:",A),this.$_addRule({name:"case",args:{direction:A}})},validate:(A,R,{direction:D})=>D==="lower"&&A===A.toLocaleLowerCase()||D==="upper"&&A===A.toLocaleUpperCase()?A:R.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(A,R){let D=A.length,V=0,k=1;for(;D--;){const z=A.charAt(D)*k;V+=z-9*(z>9),k^=3}return V>0&&V%10==0?A:R.error("string.creditCard")}},dataUri:{method(A={}){return v.assertOptions(A,["paddingRequired"]),A={paddingRequired:!0,...A},c(typeof A.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:A}})},validate(A,R,{options:D}){const V=A.match(S.dataUriRegex);return V&&(!V[2]||V[2]!=="base64"||S.base64Regex[D.paddingRequired].false.test(V[3]))?A:R.error("string.dataUri")}},domain:{method(A){A&&v.assertOptions(A,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const R=S.addressOptions(A);return this.$_addRule({name:"domain",args:{options:A},address:R})},validate:(A,R,D,{address:V})=>_.isValid(A,V)?A:R.error("string.domain")},email:{method(A={}){v.assertOptions(A,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(A.multiple===void 0||typeof A.multiple=="boolean","multiple option must be an boolean");const R=S.addressOptions(A),D=new RegExp(`\\s*[${A.separator?m(A.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:A},regex:D,address:R})},validate(A,R,{options:D},{regex:V,address:k}){const z=D.multiple?A.split(V):[A],N=[];for(const w of z)y.isValid(w,k)||N.push(w);return N.length?R.error("string.email",{value:A,invalids:N}):A}},guid:{alias:"uuid",method(A={}){v.assertOptions(A,["version","separator"]);let R="";if(A.version){const k=[].concat(A.version);c(k.length>=1,"version must have at least 1 valid version specified");const z=new Set;for(let N=0;N<k.length;++N){const w=k[N];c(typeof w=="string","version at position "+N+" must be a string");const x=S.guidVersions[w.toLowerCase()];c(x,"version at position "+N+" must be one of "+Object.keys(S.guidVersions).join(", ")),c(!z.has(x),"version at position "+N+" must not be a duplicate"),R+=x,z.add(x)}}c(S.guidSeparators.has(A.separator),'separator must be one of true, false, "-", or ":"');const D=A.separator===void 0?"[:-]?":A.separator===!0?"[:-]":A.separator===!1?"[]?":`\\${A.separator}`,V=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${R||"0-9A-F"}][0-9A-F]{3}\\2?[${R?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:A},regex:V})},validate(A,R,D,{regex:V}){const k=V.exec(A);return k?S.guidBrackets[k[1]]!==k[k.length-1]?R.error("string.guid"):A:R.error("string.guid")}},hex:{method(A={}){return v.assertOptions(A,["byteAligned","prefix"]),A={byteAligned:!1,prefix:!1,...A},c(typeof A.byteAligned=="boolean","byteAligned must be boolean"),c(typeof A.prefix=="boolean"||A.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:A}})},validate:(A,R,{options:D})=>(D.prefix==="optional"?S.hexRegex.withOptionalPrefix:D.prefix===!0?S.hexRegex.withPrefix:S.hexRegex.withoutPrefix).test(A)?D.byteAligned&&A.length%2!=0?R.error("string.hexAlign"):A:R.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(A,R)=>_.isValid(A,{minDomainSegments:1})||S.ipRegex.test(A)?A:R.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(A={}){v.assertOptions(A,["cidr","version"]);const{cidr:R,versions:D,regex:V}=T.regex(A),k=A.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:R,version:k}},regex:V})},validate:(A,R,{options:D},{regex:V})=>V.test(A)?A:D.version?R.error("string.ipVersion",{value:A,cidr:D.cidr,version:D.version}):R.error("string.ip",{value:A,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(A,{error:R})=>S.isoDate(A)?A:R("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(A,R)=>S.isoDurationRegex.test(A)?A:R.error("string.isoDuration")},length:{method(A,R){return S.length(this,"length",A,"=",R)},validate(A,R,{limit:D,encoding:V},{name:k,operator:z,args:N}){const w=!V&&A.length;return v.compare(w,D,z)?A:R.error("string."+k,{limit:N.limit,value:A,encoding:V})},args:[{name:"limit",ref:!0,assert:v.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(A,R){return S.length(this,"max",A,"<=",R)},args:["limit","encoding"]},min:{method(A,R){return S.length(this,"min",A,">=",R)},args:["limit","encoding"]},normalize:{method(A="NFC"){return c(S.normalizationForms.includes(A),"normalization form must be one of "+S.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:A}})},validate:(A,{error:R},{form:D})=>A===A.normalize(D)?A:R("string.normalize",{value:A,form:D}),convert:!0},pattern:{alias:"regex",method(A,R={}){c(A instanceof RegExp,"regex must be a RegExp"),c(!A.flags.includes("g")&&!A.flags.includes("y"),"regex should not use global or sticky mode"),typeof R=="string"&&(R={name:R}),v.assertOptions(R,["invert","name"]);const D=["string.pattern",R.invert?".invert":"",R.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:A,options:R},errorCode:D})},validate:(A,R,{regex:D,options:V},{errorCode:k})=>D.test(A)^V.invert?A:R.error(k,{name:V.name,regex:D,value:A}),args:["regex","options"],multi:!0},replace:{method(A,R){typeof A=="string"&&(A=new RegExp(m(A),"g")),c(A instanceof RegExp,"pattern must be a RegExp"),c(typeof R=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:A,replacement:R}),D}},token:{method(){return this.$_addRule("token")},validate:(A,R)=>/^\w+$/.test(A)?A:R.error("string.token")},trim:{method(A=!0){return c(typeof A=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:A}})},validate:(A,R,{enabled:D})=>D&&A!==A.trim()?R.error("string.trim"):A,convert:!0},truncate:{method(A=!0){return c(typeof A=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",A)}},uppercase:{method(){return this.case("upper")}},uri:{method(A={}){v.assertOptions(A,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),A.domain&&v.assertOptions(A.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:R,scheme:D}=b.regex(A),V=A.domain?S.addressOptions(A.domain):null;return this.$_addRule({name:"uri",args:{options:A},regex:R,domain:V,scheme:D})},validate(A,R,{options:D},{regex:V,domain:k,scheme:z}){if(["http:/","https:/"].includes(A))return R.error("string.uri");let N=V.exec(A);if(!N&&R.prefs.convert&&D.encodeUri){const w=encodeURI(A);N=V.exec(w),N&&(A=w)}if(N){const w=N[1]||N[2];return!k||D.allowRelative&&!w||_.isValid(w,k)?A:R.error("string.domain",{value:w})}return D.relativeOnly?R.error("string.uriRelativeOnly"):D.scheme?R.error("string.uriCustomScheme",{scheme:z,value:A}):R.error("string.uri")}}},manifest:{build(A,R){if(R.replacements)for(const{pattern:D,replacement:V}of R.replacements)A=A.replace(D,V);return A}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),S.addressOptions=function(A){if(!A)return S.tlds||A;if(c(A.minDomainSegments===void 0||Number.isSafeInteger(A.minDomainSegments)&&A.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(A.maxDomainSegments===void 0||Number.isSafeInteger(A.maxDomainSegments)&&A.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),A.tlds===!1)return A;if(A.tlds===!0||A.tlds===void 0)return c(S.tlds,"Built-in TLD list disabled"),Object.assign({},A,S.tlds);c(typeof A.tlds=="object","tlds must be true, false, or an object");const R=A.tlds.deny;if(R)return Array.isArray(R)&&(A=Object.assign({},A,{tlds:{deny:new Set(R)}})),c(A.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!A.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),S.validateTlds(A.tlds.deny,"tlds.deny"),A;const D=A.tlds.allow;return D?D===!0?(c(S.tlds,"Built-in TLD list disabled"),Object.assign({},A,S.tlds)):(Array.isArray(D)&&(A=Object.assign({},A,{tlds:{allow:new Set(D)}})),c(A.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),S.validateTlds(A.tlds.allow,"tlds.allow"),A):A},S.validateTlds=function(A,R){for(const D of A)c(_.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${R} must contain valid top level domain names`)},S.isoDate=function(A){if(!v.isIsoDate(A))return null;/.*T.*[+-]\d\d$/.test(A)&&(A+="00");const R=new Date(A);return isNaN(R.getTime())?null:R.toISOString()},S.length=function(A,R,D,V,k){return c(!k||!1,"Invalid encoding:",k),A.$_addRule({name:R,method:"length",args:{limit:D,encoding:k},operator:V})}},8826:(o,u,h)=>{const c=h(375),_=h(8068),y={};y.Map=class extends Map{slice(){return new y.Map(this)}},o.exports=_.extend({type:"symbol",terms:{map:{init:new y.Map}},coerce:{method(T,{schema:m,error:p}){const b=m.$_terms.map.get(T);return b&&(T=b),m._flags.only&&typeof T!="symbol"?{value:T,errors:p("symbol.map",{map:m.$_terms.map})}:{value:T}}},validate(T,{error:m}){if(typeof T!="symbol")return{value:T,errors:m("symbol.base")}},rules:{map:{method(T){T&&!T[Symbol.iterator]&&typeof T=="object"&&(T=Object.entries(T)),c(T&&T[Symbol.iterator],"Iterable must be an iterable or object");const m=this.clone(),p=[];for(const b of T){c(b&&b[Symbol.iterator],"Entry must be an iterable");const[g,v]=b;c(typeof g!="object"&&typeof g!="function"&&typeof g!="symbol","Key must not be of type object, function, or Symbol"),c(typeof v=="symbol","Value must be a Symbol"),m.$_terms.map.set(g,v),p.push(v)}return m.valid(...p)}}},manifest:{build:(T,m)=>(m.map&&(T=T.map(m.map)),T)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,h)=>{const c=h(375),_=h(8571),y=h(738),T=h(9621),m=h(8160),p=h(6354),b=h(493),g={result:Symbol("result")};u.entry=function(v,S,A){let R=m.defaults;A&&(c(A.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(A.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),R=m.preferences(m.defaults,A));const D=g.entry(v,S,R);c(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const V={value:D.value};return D.error&&(V.error=D.error),D.mainstay.warnings.length&&(V.warning=p.details(D.mainstay.warnings)),D.mainstay.debug&&(V.debug=D.mainstay.debug),D.mainstay.artifacts&&(V.artifacts=D.mainstay.artifacts),V},u.entryAsync=async function(v,S,A){let R=m.defaults;A&&(R=m.preferences(m.defaults,A));const D=g.entry(v,S,R),V=D.mainstay;if(D.error)throw V.debug&&(D.error.debug=V.debug),D.error;if(V.externals.length){let z=D.value;const N=[];for(const w of V.externals){const x=w.state.path,I=w.schema.type==="link"?V.links.get(w.schema):null;let j,B,P=z;const fe=x.length?[z]:[],he=x.length?T(v,x):v;if(x.length){j=x[x.length-1];let K=z;for(const ae of x.slice(0,-1))K=K[ae],fe.unshift(K);B=fe[0],P=B[j]}try{const K=(de,Se)=>(I||w.schema).$_createError(de,P,Se,w.state,R),ae=await w.method(P,{schema:w.schema,linked:I,state:w.state,prefs:A,original:he,error:K,errorsArray:g.errorsArray,warn:(de,Se)=>V.warnings.push((I||w.schema).$_createError(de,P,Se,w.state,R)),message:(de,Se)=>(I||w.schema).$_createError("external",P,Se,w.state,R,{messages:de})});if(ae===void 0||ae===P)continue;if(ae instanceof p.Report){if(V.tracer.log(w.schema,w.state,"rule","external","error"),N.push(ae),R.abortEarly)break;continue}if(Array.isArray(ae)&&ae[m.symbols.errors]){if(V.tracer.log(w.schema,w.state,"rule","external","error"),N.push(...ae),R.abortEarly)break;continue}B?(V.tracer.value(w.state,"rule",P,ae,"external"),B[j]=ae):(V.tracer.value(w.state,"rule",z,ae,"external"),z=ae)}catch(K){throw R.errors.label&&(K.message+=` (${w.label})`),K}}if(D.value=z,N.length)throw D.error=p.process(N,v,R),V.debug&&(D.error.debug=V.debug),D.error}if(!R.warnings&&!R.debug&&!R.artifacts)return D.value;const k={value:D.value};return V.warnings.length&&(k.warning=p.details(V.warnings)),V.debug&&(k.debug=V.debug),V.artifacts&&(k.artifacts=V.artifacts),k},g.Mainstay=class{constructor(v,S,A){this.externals=[],this.warnings=[],this.tracer=v,this.debug=S,this.links=A,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const v=this._snapshots.pop();this.externals=v.externals,this.warnings=v.warnings}commit(){this._snapshots.pop()}},g.entry=function(v,S,A){const{tracer:R,cleanup:D}=g.tracer(S,A),V=A.debug?[]:null,k=S._ids._schemaChain?new Map:null,z=new g.Mainstay(R,V,k),N=S._ids._schemaChain?[{schema:S}]:null,w=new b([],[],{mainstay:z,schemas:N}),x=u.validate(v,S,w,A);D&&S.$_root.untrace();const I=p.process(x.errors,v,A);return{value:x.value,error:I,mainstay:z}},g.tracer=function(v,S){return v.$_root._tracer?{tracer:v.$_root._tracer._register(v)}:S.debug?(c(v.$_root.trace,"Debug mode not supported"),{tracer:v.$_root.trace()._register(v),cleanup:!0}):{tracer:g.ignore}},u.validate=function(v,S,A,R,D={}){if(S.$_terms.whens&&(S=S._generate(v,A,R).schema),S._preferences&&(R=g.prefs(S,R)),S._cache&&R.cache){const I=S._cache.get(v);if(A.mainstay.tracer.debug(A,"validate","cached",!!I),I)return I}const V=(I,j,B)=>S.$_createError(I,v,j,B||A,R),k={original:v,prefs:R,schema:S,state:A,error:V,errorsArray:g.errorsArray,warn:(I,j,B)=>A.mainstay.warnings.push(V(I,j,B)),message:(I,j)=>S.$_createError("custom",v,j,A,R,{messages:I})};A.mainstay.tracer.entry(S,A);const z=S._definition;if(z.prepare&&v!==void 0&&R.convert){const I=z.prepare(v,k);if(I){if(A.mainstay.tracer.value(A,"prepare",v,I.value),I.errors)return g.finalize(I.value,[].concat(I.errors),k);v=I.value}}if(z.coerce&&v!==void 0&&R.convert&&(!z.coerce.from||z.coerce.from.includes(typeof v))){const I=z.coerce.method(v,k);if(I){if(A.mainstay.tracer.value(A,"coerced",v,I.value),I.errors)return g.finalize(I.value,[].concat(I.errors),k);v=I.value}}const N=S._flags.empty;N&&N.$_match(g.trim(v,S),A.nest(N),m.defaults)&&(A.mainstay.tracer.value(A,"empty",v,void 0),v=void 0);const w=D.presence||S._flags.presence||(S._flags._endedSwitch?null:R.presence);if(v===void 0){if(w==="forbidden")return g.finalize(v,null,k);if(w==="required")return g.finalize(v,[S.$_createError("any.required",v,null,A,R)],k);if(w==="optional"){if(S._flags.default!==m.symbols.deepDefault)return g.finalize(v,null,k);A.mainstay.tracer.value(A,"default",v,{}),v={}}}else if(w==="forbidden")return g.finalize(v,[S.$_createError("any.unknown",v,null,A,R)],k);const x=[];if(S._valids){const I=S._valids.get(v,A,R,S._flags.insensitive);if(I)return R.convert&&(A.mainstay.tracer.value(A,"valids",v,I.value),v=I.value),A.mainstay.tracer.filter(S,A,"valid",I),g.finalize(v,null,k);if(S._flags.only){const j=S.$_createError("any.only",v,{valids:S._valids.values({display:!0})},A,R);if(R.abortEarly)return g.finalize(v,[j],k);x.push(j)}}if(S._invalids){const I=S._invalids.get(v,A,R,S._flags.insensitive);if(I){A.mainstay.tracer.filter(S,A,"invalid",I);const j=S.$_createError("any.invalid",v,{invalids:S._invalids.values({display:!0})},A,R);if(R.abortEarly)return g.finalize(v,[j],k);x.push(j)}}if(z.validate){const I=z.validate(v,k);if(I&&(A.mainstay.tracer.value(A,"base",v,I.value),v=I.value,I.errors)){if(!Array.isArray(I.errors))return x.push(I.errors),g.finalize(v,x,k);if(I.errors.length)return x.push(...I.errors),g.finalize(v,x,k)}}return S._rules.length?g.rules(v,x,k):g.finalize(v,x,k)},g.rules=function(v,S,A){const{schema:R,state:D,prefs:V}=A;for(const k of R._rules){const z=R._definition.rules[k.method];if(z.convert&&V.convert){D.mainstay.tracer.log(R,D,"rule",k.name,"full");continue}let N,w=k.args;if(k._resolve.length){w=Object.assign({},w);for(const I of k._resolve){const j=z.argsByName.get(I),B=w[I].resolve(v,D,V),P=j.normalize?j.normalize(B):B,fe=m.validateArg(P,null,j);if(fe){N=R.$_createError("any.ref",B,{arg:I,ref:w[I],reason:fe},D,V);break}w[I]=P}}N=N||z.validate(v,A,w,k);const x=g.rule(N,k);if(x.errors){if(D.mainstay.tracer.log(R,D,"rule",k.name,"error"),k.warn){D.mainstay.warnings.push(...x.errors);continue}if(V.abortEarly)return g.finalize(v,x.errors,A);S.push(...x.errors)}else D.mainstay.tracer.log(R,D,"rule",k.name,"pass"),D.mainstay.tracer.value(D,"rule",v,x.value,k.name),v=x.value}return g.finalize(v,S,A)},g.rule=function(v,S){return v instanceof p.Report?(g.error(v,S),{errors:[v],value:null}):Array.isArray(v)&&v[m.symbols.errors]?(v.forEach(A=>g.error(A,S)),{errors:v,value:null}):{errors:null,value:v}},g.error=function(v,S){return S.message&&v._setTemplate(S.message),v},g.finalize=function(v,S,A){S=S||[];const{schema:R,state:D,prefs:V}=A;if(S.length){const z=g.default("failover",void 0,S,A);z!==void 0&&(D.mainstay.tracer.value(D,"failover",v,z),v=z,S=[])}if(S.length&&R._flags.error)if(typeof R._flags.error=="function"){S=R._flags.error(S),Array.isArray(S)||(S=[S]);for(const z of S)c(z instanceof Error||z instanceof p.Report,"error() must return an Error object")}else S=[R._flags.error];if(v===void 0){const z=g.default("default",v,S,A);D.mainstay.tracer.value(D,"default",v,z),v=z}if(R._flags.cast&&v!==void 0){const z=R._definition.cast[R._flags.cast];if(z.from(v)){const N=z.to(v,A);D.mainstay.tracer.value(D,"cast",v,N,R._flags.cast),v=N}}if(R.$_terms.externals&&V.externals&&V._externals!==!1)for(const{method:z}of R.$_terms.externals)D.mainstay.externals.push({method:z,schema:R,state:D,label:p.label(R._flags,D,V)});const k={value:v,errors:S.length?S:null};return R._flags.result&&(k.value=R._flags.result==="strip"?void 0:A.original,D.mainstay.tracer.value(D,R._flags.result,v,k.value),D.shadow(v,R._flags.result)),R._cache&&V.cache!==!1&&!R._refs.length&&R._cache.set(A.original,k),v===void 0||k.errors||R._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(R._flags.artifact)||D.mainstay.artifacts.set(R._flags.artifact,[]),D.mainstay.artifacts.get(R._flags.artifact).push(D.path)),k},g.prefs=function(v,S){const A=S===m.defaults;return A&&v._preferences[m.symbols.prefs]?v._preferences[m.symbols.prefs]:(S=m.preferences(S,v._preferences),A&&(v._preferences[m.symbols.prefs]=S),S)},g.default=function(v,S,A,R){const{schema:D,state:V,prefs:k}=R,z=D._flags[v];if(k.noDefaults||z===void 0)return S;if(V.mainstay.tracer.log(D,V,"rule",v,"full"),!z)return z;if(typeof z=="function"){const N=z.length?[_(V.ancestors[0]),R]:[];try{return z(...N)}catch(w){return void A.push(D.$_createError(`any.${v}`,null,{error:w},V,k))}}return typeof z!="object"?z:z[m.symbols.literal]?z.literal:m.isResolvable(z)?z.resolve(S,V,k):_(z)},g.trim=function(v,S){if(typeof v!="string")return v;const A=S.$_getRule("trim");return A&&A.args.enabled?v.trim():v},g.ignore={active:!1,debug:y,entry:y,filter:y,log:y,resolve:y,value:y},g.errorsArray=function(){const v=[];return v[m.symbols.errors]=!0,v}},2036:(o,u,h)=>{const c=h(375),_=h(9474),y=h(8160),T={};o.exports=T.Values=class{constructor(m,p){this._values=new Set(m),this._refs=new Set(p),this._lowercase=T.lowercases(m),this._override=!1}get length(){return this._values.size+this._refs.size}add(m,p){y.isResolvable(m)?this._refs.has(m)||(this._refs.add(m),p&&p.register(m)):this.has(m,null,null,!1)||(this._values.add(m),typeof m=="string"&&this._lowercase.set(m.toLowerCase(),m))}static merge(m,p,b){if(m=m||new T.Values,p){if(p._override)return p.clone();for(const g of[...p._values,...p._refs])m.add(g)}if(b)for(const g of[...b._values,...b._refs])m.remove(g);return m.length?m:null}remove(m){y.isResolvable(m)?this._refs.delete(m):(this._values.delete(m),typeof m=="string"&&this._lowercase.delete(m.toLowerCase()))}has(m,p,b,g){return!!this.get(m,p,b,g)}get(m,p,b,g){if(!this.length)return!1;if(this._values.has(m))return{value:m};if(typeof m=="string"&&m&&g){const v=this._lowercase.get(m.toLowerCase());if(v)return{value:v}}if(!this._refs.size&&typeof m!="object")return!1;if(typeof m=="object"){for(const v of this._values)if(_(v,m))return{value:v}}if(p)for(const v of this._refs){const S=v.resolve(m,p,b,null,{in:!0});if(S===void 0)continue;const A=v.in&&typeof S=="object"?Array.isArray(S)?S:Object.keys(S):[S];for(const R of A)if(typeof R==typeof m){if(g&&m&&typeof m=="string"){if(R.toLowerCase()===m.toLowerCase())return{value:R,ref:v}}else if(_(R,m))return{value:R,ref:v}}}return!1}override(){this._override=!0}values(m){if(m&&m.display){const p=[];for(const b of[...this._values,...this._refs])b!==void 0&&p.push(b);return p}return Array.from([...this._values,...this._refs])}clone(){const m=new T.Values(this._values,this._refs);return m._override=this._override,m}concat(m){c(!m._override,"Cannot concat override set of values");const p=new T.Values([...this._values,...m._values],[...this._refs,...m._refs]);return p._override=this._override,p}describe(){const m=[];this._override&&m.push({override:!0});for(const p of this._values.values())m.push(p&&typeof p=="object"?{value:p}:p);for(const p of this._refs.values())m.push(p.describe());return m}},T.Values.prototype[y.symbols.values]=!0,T.Values.prototype.slice=T.Values.prototype.clone,T.lowercases=function(m){const p=new Map;if(m)for(const b of m)typeof b=="string"&&p.set(b.toLowerCase(),b);return p}},978:(o,u,h)=>{const c=h(375),_=h(8571),y=h(1687),T=h(9621),m={};o.exports=function(p,b,g={}){if(c(p&&typeof p=="object","Invalid defaults value: must be an object"),c(!b||b===!0||typeof b=="object","Invalid source value: must be true, falsy or an object"),c(typeof g=="object","Invalid options: must be an object"),!b)return null;if(g.shallow)return m.applyToDefaultsWithShallow(p,b,g);const v=_(p);if(b===!0)return v;const S=g.nullOverride!==void 0&&g.nullOverride;return y(v,b,{nullOverride:S,mergeArrays:!1})},m.applyToDefaultsWithShallow=function(p,b,g){const v=g.shallow;c(Array.isArray(v),"Invalid keys");const S=new Map,A=b===!0?null:new Set;for(let V of v){V=Array.isArray(V)?V:V.split(".");const k=T(p,V);k&&typeof k=="object"?S.set(k,A&&T(b,V)||k):A&&A.add(V)}const R=_(p,{},S);if(!A)return R;for(const V of A)m.reachCopy(R,b,V);const D=g.nullOverride!==void 0&&g.nullOverride;return y(R,b,{nullOverride:D,mergeArrays:!1})},m.reachCopy=function(p,b,g){for(const A of g){if(!(A in b))return;const R=b[A];if(typeof R!="object"||R===null)return;b=R}const v=b;let S=p;for(let A=0;A<g.length-1;++A){const R=g[A];typeof S[R]!="object"&&(S[R]={}),S=S[R]}S[g[g.length-1]]=v}},375:(o,u,h)=>{const c=h(7916);o.exports=function(_,...y){if(!_)throw y.length===1&&y[0]instanceof Error?y[0]:new c(y)}},8571:(o,u,h)=>{const c=h(9621),_=h(4277),y=h(7043),T={needsProtoHack:new Set([_.set,_.map,_.weakSet,_.weakMap])};o.exports=T.clone=function(m,p={},b=null){if(typeof m!="object"||m===null)return m;let g=T.clone,v=b;if(p.shallow){if(p.shallow!==!0)return T.cloneWithShallow(m,p);g=D=>D}else if(v){const D=v.get(m);if(D)return D}else v=new Map;const S=_.getInternalProto(m);if(S===_.buffer)return!1;if(S===_.date)return new Date(m.getTime());if(S===_.regex)return new RegExp(m);const A=T.base(m,S,p);if(A===m)return m;if(v&&v.set(m,A),S===_.set)for(const D of m)A.add(g(D,p,v));else if(S===_.map)for(const[D,V]of m)A.set(D,g(V,p,v));const R=y.keys(m,p);for(const D of R){if(D==="__proto__")continue;if(S===_.array&&D==="length"){A.length=m.length;continue}const V=Object.getOwnPropertyDescriptor(m,D);V?V.get||V.set?Object.defineProperty(A,D,V):V.enumerable?A[D]=g(m[D],p,v):Object.defineProperty(A,D,{enumerable:!1,writable:!0,configurable:!0,value:g(m[D],p,v)}):Object.defineProperty(A,D,{enumerable:!0,writable:!0,configurable:!0,value:g(m[D],p,v)})}return A},T.cloneWithShallow=function(m,p){const b=p.shallow;(p=Object.assign({},p)).shallow=!1;const g=new Map;for(const v of b){const S=c(m,v);typeof S!="object"&&typeof S!="function"||g.set(S,S)}return T.clone(m,p,g)},T.base=function(m,p,b){if(b.prototype===!1)return T.needsProtoHack.has(p)?new p.constructor:p===_.array?[]:{};const g=Object.getPrototypeOf(m);if(g&&g.isImmutable)return m;if(p===_.array){const v=[];return g!==p&&Object.setPrototypeOf(v,g),v}if(T.needsProtoHack.has(p)){const v=new g.constructor;return g!==p&&Object.setPrototypeOf(v,g),v}return Object.create(g)}},9474:(o,u,h)=>{const c=h(4277),_={mismatched:null};o.exports=function(y,T,m){return m=Object.assign({prototype:!0},m),!!_.isDeepEqual(y,T,m,[])},_.isDeepEqual=function(y,T,m,p){if(y===T)return y!==0||1/y==1/T;const b=typeof y;if(b!==typeof T||y===null||T===null)return!1;if(b==="function"){if(!m.deepFunction||y.toString()!==T.toString())return!1}else if(b!=="object")return y!=y&&T!=T;const g=_.getSharedType(y,T,!!m.prototype);switch(g){case c.buffer:return!1;case c.promise:return y===T;case c.regex:return y.toString()===T.toString();case _.mismatched:return!1}for(let v=p.length-1;v>=0;--v)if(p[v].isSame(y,T))return!0;p.push(new _.SeenEntry(y,T));try{return!!_.isDeepEqualObj(g,y,T,m,p)}finally{p.pop()}},_.getSharedType=function(y,T,m){if(m)return Object.getPrototypeOf(y)!==Object.getPrototypeOf(T)?_.mismatched:c.getInternalProto(y);const p=c.getInternalProto(y);return p!==c.getInternalProto(T)?_.mismatched:p},_.valueOf=function(y){const T=y.valueOf;if(T===void 0)return y;try{return T.call(y)}catch(m){return m}},_.hasOwnEnumerableProperty=function(y,T){return Object.prototype.propertyIsEnumerable.call(y,T)},_.isSetSimpleEqual=function(y,T){for(const m of Set.prototype.values.call(y))if(!Set.prototype.has.call(T,m))return!1;return!0},_.isDeepEqualObj=function(y,T,m,p,b){const{isDeepEqual:g,valueOf:v,hasOwnEnumerableProperty:S}=_,{keys:A,getOwnPropertySymbols:R}=Object;if(y===c.array){if(!p.part){if(T.length!==m.length)return!1;for(let N=0;N<T.length;++N)if(!g(T[N],m[N],p,b))return!1;return!0}for(const N of T)for(const w of m)if(g(N,w,p,b))return!0}else if(y===c.set){if(T.size!==m.size)return!1;if(!_.isSetSimpleEqual(T,m)){const N=new Set(Set.prototype.values.call(m));for(const w of Set.prototype.values.call(T)){if(N.delete(w))continue;let x=!1;for(const I of N)if(g(w,I,p,b)){N.delete(I),x=!0;break}if(!x)return!1}}}else if(y===c.map){if(T.size!==m.size)return!1;for(const[N,w]of Map.prototype.entries.call(T))if(w===void 0&&!Map.prototype.has.call(m,N)||!g(w,Map.prototype.get.call(m,N),p,b))return!1}else if(y===c.error&&(T.name!==m.name||T.message!==m.message))return!1;const D=v(T),V=v(m);if((T!==D||m!==V)&&!g(D,V,p,b))return!1;const k=A(T);if(!p.part&&k.length!==A(m).length&&!p.skip)return!1;let z=0;for(const N of k)if(p.skip&&p.skip.includes(N))m[N]===void 0&&++z;else if(!S(m,N)||!g(T[N],m[N],p,b))return!1;if(!p.part&&k.length-z!==A(m).length)return!1;if(p.symbols!==!1){const N=R(T),w=new Set(R(m));for(const x of N){if(!p.skip||!p.skip.includes(x)){if(S(T,x)){if(!S(m,x)||!g(T[x],m[x],p,b))return!1}else if(S(m,x))return!1}w.delete(x)}for(const x of w)if(S(m,x))return!1}return!0},_.SeenEntry=class{constructor(y,T){this.obj=y,this.ref=T}isSame(y,T){return this.obj===y&&this.ref===T}}},7916:(o,u,h)=>{const c=h(8761);o.exports=class extends Error{constructor(_){super(_.filter(y=>y!=="").map(y=>typeof y=="string"?y:y instanceof Error?y.message:c(y)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(h){if(!h)return"";let c="";for(let _=0;_<h.length;++_){const y=h.charCodeAt(_);u.isSafe(y)?c+=h[_]:c+=u.escapeHtmlChar(y)}return c},u.escapeHtmlChar=function(h){return u.namedHtml.get(h)||(h>=256?"&#"+h+";":`&#x${h.toString(16).padStart(2,"0")};`)},u.isSafe=function(h){return u.safeCharCodes.has(h)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const h=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&h.add(c);return h}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,h)=>{const c=h(375),_=h(8571),y=h(7043),T={};o.exports=T.merge=function(m,p,b){if(c(m&&typeof m=="object","Invalid target value: must be an object"),c(p==null||typeof p=="object","Invalid source value: must be null, undefined, or an object"),!p)return m;if(b=Object.assign({nullOverride:!0,mergeArrays:!0},b),Array.isArray(p)){c(Array.isArray(m),"Cannot merge array onto an object"),b.mergeArrays||(m.length=0);for(let v=0;v<p.length;++v)m.push(_(p[v],{symbols:b.symbols}));return m}const g=y.keys(p,b);for(let v=0;v<g.length;++v){const S=g[v];if(S==="__proto__"||!Object.prototype.propertyIsEnumerable.call(p,S))continue;const A=p[S];if(A&&typeof A=="object"){if(m[S]===A)continue;!m[S]||typeof m[S]!="object"||Array.isArray(m[S])!==Array.isArray(A)||A instanceof Date||A instanceof RegExp?m[S]=_(A,{symbols:b.symbols}):T.merge(m[S],A,b)}else(A!=null||b.nullOverride)&&(m[S]=A)}return m}},9621:(o,u,h)=>{const c=h(375),_={};o.exports=function(y,T,m){if(T===!1||T==null)return y;typeof(m=m||{})=="string"&&(m={separator:m});const p=Array.isArray(T);c(!p||!m.separator,"Separator option is not valid for array-based chain");const b=p?T:T.split(m.separator||".");let g=y;for(let v=0;v<b.length;++v){let S=b[v];const A=m.iterables&&_.iterables(g);if(Array.isArray(g)||A==="set"){const R=Number(S);Number.isInteger(R)&&(S=R<0?g.length+R:R)}if(!g||typeof g=="function"&&m.functions===!1||!A&&g[S]===void 0){c(!m.strict||v+1===b.length,"Missing segment",S,"in reach path ",T),c(typeof g=="object"||m.functions===!0||typeof g!="function","Invalid segment",S,"in reach path ",T),g=m.default;break}g=A?A==="set"?[...g][S]:g.get(S):g[S]}return g},_.iterables=function(y){return y instanceof Set?"set":y instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(h){return"[Cannot display object: "+h.message+"]"}}},4277:(o,u)=>{const h={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},h.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const _=Object.prototype.toString.call(c);return h.typeMap.get(_)||u.generic}},7043:(o,u)=>{u.keys=function(h,c={}){return c.symbols!==!1?Reflect.ownKeys(h):Object.getOwnPropertyNames(h)}},3652:(o,u,h)=>{const c=h(375),_={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(y,T){const m=[].concat((T=T||{}).before||[]),p=[].concat(T.after||[]),b=T.group||"?",g=T.sort||0;c(!m.includes(b),`Item cannot come before itself: ${b}`),c(!m.includes("?"),"Item cannot come before unassociated items"),c(!p.includes(b),`Item cannot come after itself: ${b}`),c(!p.includes("?"),"Item cannot come after unassociated items"),Array.isArray(y)||(y=[y]);for(const v of y){const S={seq:this._items.length,sort:g,before:m,after:p,group:b,node:v};this._items.push(S)}if(!T.manual){const v=this._sort();c(v,"item",b!=="?"?`added into group ${b}`:"","created a dependencies error")}return this.nodes}merge(y){Array.isArray(y)||(y=[y]);for(const m of y)if(m)for(const p of m._items)this._items.push(Object.assign({},p));this._items.sort(_.mergeSort);for(let m=0;m<this._items.length;++m)this._items[m].seq=m;const T=this._sort();return c(T,"merge created a dependencies error"),this.nodes}sort(){const y=this._sort();return c(y,"sort created a dependencies error"),this.nodes}_sort(){const y={},T=Object.create(null),m=Object.create(null);for(const S of this._items){const A=S.seq,R=S.group;m[R]=m[R]||[],m[R].push(A),y[A]=S.before;for(const D of S.after)T[D]=T[D]||[],T[D].push(A)}for(const S in y){const A=[];for(const R in y[S]){const D=y[S][R];m[D]=m[D]||[],A.push(...m[D])}y[S]=A}for(const S in T)if(m[S])for(const A of m[S])y[A].push(...T[S]);const p={};for(const S in y){const A=y[S];for(const R of A)p[R]=p[R]||[],p[R].push(S)}const b={},g=[];for(let S=0;S<this._items.length;++S){let A=S;if(p[S]){A=null;for(let R=0;R<this._items.length;++R){if(b[R]===!0)continue;p[R]||(p[R]=[]);const D=p[R].length;let V=0;for(let k=0;k<D;++k)b[p[R][k]]&&++V;if(V===D){A=R;break}}}A!==null&&(b[A]=!0,g.push(A))}if(g.length!==this._items.length)return!1;const v={};for(const S of this._items)v[S.seq]=S;this._items=[],this.nodes=[];for(const S of g){const A=v[S];this.nodes.push(A.node),this._items.push(A)}return!0}},_.mergeSort=(y,T)=>y.sort===T.sort?0:y.sort<T.sort?-1:1},5380:(o,u,h)=>{const c=h(443),_=h(2178),y={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(T,m={}){if(!T)return _.code("DOMAIN_NON_EMPTY_STRING");if(typeof T!="string")throw new Error("Invalid input: domain must be a string");if(T.length>256)return _.code("DOMAIN_TOO_LONG");if(y.nonAsciiRx.test(T)){if(m.allowUnicode===!1)return _.code("DOMAIN_INVALID_UNICODE_CHARS");T=T.normalize("NFC")}if(y.domainControlRx.test(T))return _.code("DOMAIN_INVALID_CHARS");T=y.punycode(T),m.allowFullyQualified&&T[T.length-1]==="."&&(T=T.slice(0,-1));const p=m.minDomainSegments||y.minDomainSegments,b=T.split(".");if(b.length<p)return _.code("DOMAIN_SEGMENTS_COUNT");if(m.maxDomainSegments&&b.length>m.maxDomainSegments)return _.code("DOMAIN_SEGMENTS_COUNT_MAX");const g=m.tlds;if(g){const v=b[b.length-1].toLowerCase();if(g.deny&&g.deny.has(v)||g.allow&&!g.allow.has(v))return _.code("DOMAIN_FORBIDDEN_TLDS")}for(let v=0;v<b.length;++v){const S=b[v];if(!S.length)return _.code("DOMAIN_EMPTY_SEGMENT");if(S.length>63)return _.code("DOMAIN_LONG_SEGMENT");if(v<b.length-1){if(!y.domainSegmentRx.test(S))return _.code("DOMAIN_INVALID_CHARS")}else if(!y.tldSegmentRx.test(S))return _.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(T,m){return!u.analyze(T,m)},y.punycode=function(T){T.includes("%")&&(T=T.replace(/%/g,"%25"));try{return new y.URL(`http://${T}`).host}catch{return T}}},1745:(o,u,h)=>{const c=h(9848),_=h(5380),y=h(2178),T={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(m,p){return T.email(m,p)},u.isValid=function(m,p){return!T.email(m,p)},T.email=function(m,p={}){if(typeof m!="string")throw new Error("Invalid input: email must be a string");if(!m)return y.code("EMPTY_STRING");const b=!T.nonAsciiRx.test(m);if(!b){if(p.allowUnicode===!1)return y.code("FORBIDDEN_UNICODE");m=m.normalize("NFC")}const g=m.split("@");if(g.length!==2)return g.length>2?y.code("MULTIPLE_AT_CHAR"):y.code("MISSING_AT_CHAR");const[v,S]=g;if(!v)return y.code("EMPTY_LOCAL");if(!p.ignoreLength){if(m.length>254)return y.code("ADDRESS_TOO_LONG");if(T.encoder.encode(v).length>64)return y.code("LOCAL_TOO_LONG")}return T.local(v,b)||_.analyze(S,p)},T.local=function(m,p){const b=m.split(".");for(const g of b){if(!g.length)return y.code("EMPTY_LOCAL_SEGMENT");if(p){if(!T.atextRx.test(g))return y.code("INVALID_LOCAL_CHARS")}else for(const v of g){if(T.atextRx.test(v))continue;const S=T.binary(v);if(!T.atomRx.test(S))return y.code("INVALID_LOCAL_CHARS")}}},T.binary=function(m){return Array.from(T.encoder.encode(m)).map(p=>String.fromCharCode(p)).join("")},T.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,T.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(h){return{code:h,error:u.codes[h]}}},9959:(o,u,h)=>{const c=h(375),_=h(5752);u.regex=function(y={}){c(y.cidr===void 0||typeof y.cidr=="string","options.cidr must be a string");const T=y.cidr?y.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(T),"options.cidr must be one of required, optional, forbidden"),c(y.version===void 0||typeof y.version=="string"||Array.isArray(y.version),"options.version must be a string or an array of string");let m=y.version||["ipv4","ipv6","ipvfuture"];Array.isArray(m)||(m=[m]),c(m.length>=1,"options.version must have at least 1 version specified");for(let g=0;g<m.length;++g)c(typeof m[g]=="string","options.version must only contain strings"),m[g]=m[g].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(m[g]),"options.version contains unknown version "+m[g]+" - must be one of ipv4, ipv6, ipvfuture");m=Array.from(new Set(m));const p=`(?:${m.map(g=>{if(T==="forbidden")return _.ip[g];const v=`\\/${g==="ipv4"?_.ip.v4Cidr:_.ip.v6Cidr}`;return T==="required"?`${_.ip[g]}${v}`:`${_.ip[g]}(?:${v})?`}).join("|")})`,b=new RegExp(`^${p}$`);return{cidr:T,versions:m,regex:b,raw:p}}},5752:(o,u,h)=>{const c=h(375),_=h(6064),y={generate:function(){const T={},m="\\dA-Fa-f",p="["+m+"]",b="\\w-\\.~",g="!\\$&'\\(\\)\\*\\+,;=",v="%"+m,S=b+v+g+":@",A="["+S+"]",R="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";T.ipv4address="(?:"+R+"\\.){3}"+R;const D=p+"{1,4}",V="(?:"+D+":"+D+"|"+T.ipv4address+")",k="(?:"+D+":){6}"+V,z="::(?:"+D+":){5}"+V,N="(?:"+D+")?::(?:"+D+":){4}"+V,w="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+V,x="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+V,I="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+V,j="(?:(?:"+D+":){0,4}"+D+")?::"+V,B="(?:(?:"+D+":){0,5}"+D+")?::"+D,P="(?:(?:"+D+":){0,6}"+D+")?::";T.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",T.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",T.ipv6address="(?:"+k+"|"+z+"|"+N+"|"+w+"|"+x+"|"+I+"|"+j+"|"+B+"|"+P+")",T.ipvFuture="v"+p+"+\\.["+b+g+":]+",T.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",T.schemeRegex=new RegExp(T.scheme);const fe="["+b+v+g+":]*",he="["+b+v+g+"]{1,255}",K="(?:\\[(?:"+T.ipv6address+"|"+T.ipvFuture+")\\]|"+T.ipv4address+"|"+he+")",ae="(?:"+fe+"@)?"+K+"(?::\\d*)?",de="(?:"+fe+"@)?("+K+")(?::\\d*)?",Se=A+"*",$=A+"+",ee="(?:\\/"+Se+")*",ue="\\/(?:"+$+ee+")?",oe=$+ee,ge="["+b+v+g+"@]+"+ee,Ce="(?:\\/\\/\\/"+Se+ee+")";return T.hierPart="(?:(?:\\/\\/"+ae+ee+")|"+ue+"|"+oe+"|"+Ce+")",T.hierPartCapture="(?:(?:\\/\\/"+de+ee+")|"+ue+"|"+oe+")",T.relativeRef="(?:(?:\\/\\/"+ae+ee+")|"+ue+"|"+ge+"|)",T.relativeRefCapture="(?:(?:\\/\\/"+de+ee+")|"+ue+"|"+ge+"|)",T.query="["+S+"\\/\\?]*(?=#|$)",T.queryWithSquareBrackets="["+S+"\\[\\]\\/\\?]*(?=#|$)",T.fragment="["+S+"\\/\\?]*",T}};y.rfc3986=y.generate(),u.ip={v4Cidr:y.rfc3986.ipv4Cidr,v6Cidr:y.rfc3986.ipv6Cidr,ipv4:y.rfc3986.ipv4address,ipv6:y.rfc3986.ipv6address,ipvfuture:y.rfc3986.ipvFuture},y.createRegex=function(T){const m=y.rfc3986,p="(?:\\?"+(T.allowQuerySquareBrackets?m.queryWithSquareBrackets:m.query)+")?(?:#"+m.fragment+")?",b=T.domain?m.relativeRefCapture:m.relativeRef;if(T.relativeOnly)return y.wrap(b+p);let g="";if(T.scheme){c(T.scheme instanceof RegExp||typeof T.scheme=="string"||Array.isArray(T.scheme),"scheme must be a RegExp, String, or Array");const A=[].concat(T.scheme);c(A.length>=1,"scheme must have at least 1 scheme specified");const R=[];for(let D=0;D<A.length;++D){const V=A[D];c(V instanceof RegExp||typeof V=="string","scheme at position "+D+" must be a RegExp or String"),V instanceof RegExp?R.push(V.source.toString()):(c(m.schemeRegex.test(V),"scheme at position "+D+" must be a valid scheme"),R.push(_(V)))}g=R.join("|")}const v="(?:"+(g?"(?:"+g+")":m.scheme)+":"+(T.domain?m.hierPartCapture:m.hierPart)+")",S=T.allowRelative?"(?:"+v+"|"+b+")":v;return y.wrap(S+p,g)},y.wrap=function(T,m){return{raw:T=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${T}`,regex:new RegExp(`^${T}$`),scheme:m}},y.uriRegex=y.createRegex({}),u.regex=function(T={}){return T.scheme||T.allowRelative||T.relativeOnly||T.allowQuerySquareBrackets||T.domain?y.createRegex(T):y.uriRegex}},1447:(o,u)=>{const h={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,_={}){if(!_[h.settings]&&_.constants)for(const y in _.constants){const T=_.constants[y];if(T!==null&&!["boolean","number","string"].includes(typeof T))throw new Error(`Formula constant ${y} contains invalid ${typeof T} value type`)}this.settings=_[h.settings]?_:Object.assign({[h.settings]:!0,constants:{},functions:{}},_),this.single=null,this._parts=null,this._parse(c)}_parse(c){let _=[],y="",T=0,m=!1;const p=g=>{if(T)throw new Error("Formula missing closing parenthesis");const v=_.length?_[_.length-1]:null;if(m||y||g){if(v&&v.type==="reference"&&g===")")return v.type="function",v.value=this._subFormula(y,v.value),void(y="");if(g===")"){const S=new u.Parser(y,this.settings);_.push({type:"segment",value:S})}else if(m){if(m==="]")return _.push({type:"reference",value:y}),void(y="");_.push({type:"literal",value:y})}else if(h.operatorCharacters.includes(y))v&&v.type==="operator"&&h.operators.includes(v.value+y)?v.value+=y:_.push({type:"operator",value:y});else if(y.match(h.numberRx))_.push({type:"constant",value:parseFloat(y)});else if(this.settings.constants[y]!==void 0)_.push({type:"constant",value:this.settings.constants[y]});else{if(!y.match(h.tokenRx))throw new Error(`Formula contains invalid token: ${y}`);_.push({type:"reference",value:y})}y=""}};for(const g of c)m?g===m?(p(),m=!1):y+=g:T?g==="("?(y+=g,++T):g===")"?(--T,T?y+=g:p(g)):y+=g:g in h.literals?m=h.literals[g]:g==="("?(p(),++T):h.operatorCharacters.includes(g)?(p(),y=g,p()):g!==" "?y+=g:p();p(),_=_.map((g,v)=>g.type!=="operator"||g.value!=="-"||v&&_[v-1].type!=="operator"?g:{type:"operator",value:"n"});let b=!1;for(const g of _){if(g.type==="operator"){if(h.operatorsPrefix.includes(g.value))continue;if(!b)throw new Error("Formula contains an operator in invalid position");if(!h.operators.includes(g.value))throw new Error(`Formula contains an unknown operator ${g.value}`)}else if(b)throw new Error("Formula missing expected operator");b=!b}if(!b)throw new Error("Formula contains invalid trailing operator");_.length===1&&["reference","literal","constant"].includes(_[0].type)&&(this.single={type:_[0].type==="reference"?"reference":"value",value:_[0].value}),this._parts=_.map(g=>{if(g.type==="operator")return h.operatorsPrefix.includes(g.value)?g:g.value;if(g.type!=="reference")return g.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(g.value))throw new Error(`Formula contains invalid reference ${g.value}`);return this.settings.reference?this.settings.reference(g.value):h.reference(g.value)})}_subFormula(c,_){const y=this.settings.functions[_];if(typeof y!="function")throw new Error(`Formula contains unknown function ${_}`);let T=[];if(c){let m="",p=0,b=!1;const g=()=>{if(!m)throw new Error(`Formula contains function ${_} with invalid arguments ${c}`);T.push(m),m=""};for(let v=0;v<c.length;++v){const S=c[v];b?(m+=S,S===b&&(b=!1)):S in h.literals&&!p?(m+=S,b=h.literals[S]):S!==","||p?(m+=S,S==="("?++p:S===")"&&--p):g()}g()}return T=T.map(m=>new u.Parser(m,this.settings)),function(m){const p=[];for(const b of T)p.push(b.evaluate(m));return y.call(m,...p)}}evaluate(c){const _=this._parts.slice();for(let y=_.length-2;y>=0;--y){const T=_[y];if(T&&T.type==="operator"){const m=_[y+1];_.splice(y+1,1);const p=h.evaluate(m,c);_[y]=h.single(T.value,p)}}return h.operatorsOrder.forEach(y=>{for(let T=1;T<_.length-1;)if(y.includes(_[T])){const m=_[T],p=h.evaluate(_[T-1],c),b=h.evaluate(_[T+1],c);_.splice(T,2);const g=h.calculate(m,p,b);_[T-1]=g===0?0:g}else T+=2}),h.evaluate(_[0],c)}},u.Parser.prototype[h.symbol]=!0,h.reference=function(c){return function(_){return _&&_[c]!==void 0?_[c]:null}},h.evaluate=function(c,_){return c===null?null:typeof c=="function"?c(_):c[h.symbol]?c.evaluate(_):c},h.single=function(c,_){if(c==="!")return!_;const y=-_;return y===0?0:y},h.calculate=function(c,_,y){if(c==="??")return h.exists(_)?_:y;if(typeof _=="string"||typeof y=="string"){if(c==="+")return(_=h.exists(_)?_:"")+(h.exists(y)?y:"")}else switch(c){case"^":return Math.pow(_,y);case"*":return _*y;case"/":return _/y;case"%":return _%y;case"+":return _+y;case"-":return _-y}switch(c){case"<":return _<y;case"<=":return _<=y;case">":return _>y;case">=":return _>=y;case"==":return _===y;case"!=":return _!==y;case"&&":return _&&y;case"||":return _||y}return null},h.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},a={},function o(u){var h=a[u];if(h!==void 0)return h.exports;var c=a[u]={exports:{}};return r[u](c,c.exports,o),c.exports}(5107);var r,a})}(yd)),yd.exports}var Fx=$x();const _i=Hd(Fx);function Hx(){const[i,e]=te.useState(""),[r,a]=te.useState(""),[o,u]=te.useState(""),[h,c]=te.useState(""),[_,y]=te.useState(null),[T,m]=te.useState(null),p=Yd(),[b,g]=te.useState({username:!1,password:!1}),v="admin",S="1234",A=_i.object({username:_i.string().min(5).required().messages({"string.empty":"Användarnamn krävs","string.min":"Minst 5 tecken"}),password:_i.string().min(4).required().messages({"string.empty":"Lösenord Krävs","string.min":"Minst 4 tecken"})}),R=D=>{D.preventDefault();const{error:V}=A.validate({username:i,password:r},{abortEarly:!1}),k={username:!i||i.length<3||i!==v,password:!r||r.length<3||r!==S};if(g(k),u(""),c(""),y(null),m(null),V){V.details.forEach(z=>{z.path.includes("username")&&(u(z.message),y(!1)),z.path.includes("password")&&(c(z.message),m(!1))});return}i!==v?(u("Fel användarnamn"),y(!1)):(u(""),y(!0)),r!==S?(c("Fel lösenord"),m(!1)):(c(""),m(!0)),i===v&&r===S&&(g({username:!1,password:!1}),p("/admin"))};return W.jsx("section",{className:"loggIn dark-theme",children:W.jsx("section",{className:"logg-section",children:W.jsx("div",{className:"sign-section",children:W.jsxs("form",{className:"form",onSubmit:R,children:[W.jsx("p",{className:"admin",children:"Användarnamn"}),W.jsx("input",{className:`input-box ${b.username?"input-error":_===!0?"input-success":""}`,type:"text",placeholder:"Användarnamn",value:i,onChange:D=>e(D.target.value)}),o&&W.jsx("p",{className:"error-inlogg",children:o}),W.jsx("p",{className:"admin",children:"Lösenord"}),W.jsx("input",{className:`input-box ${T===!0?"input-success":T===!1?"input-error":""}`,type:"password",placeholder:"Lösenord",value:r,onChange:D=>a(D.target.value)}),h&&W.jsx("p",{className:"error-inlogg",children:h}),W.jsx("button",{className:"continue",children:"Logga In"})]})})})})}const Gx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwESURBVHgBnVlZbFXXFT33vsHGxgyuHduJDTY2mNgUCESlLVCGtlKHRFRQqNpSiFB/GqWUj7SgfDBJbZEaqgL9qEh/2qhqJf6QQpsIAUJVqlZiMCDnI5gpxihlMB6wedO9XWvffY7ve8+QpEc679x9z7DX3XufffY+z5jy4rHu3bvXR5uw9MaNGxNxGjWJyjGrfd//HdrTqNdRQ8/zQrZKn0H/IbRruHgYhvG5n8SnDFjZO0zwjx07xr4Ai5kzZ874qKTzoL2DBw/WjoyM/BT0dgCbMX36dLNq1SrT1tZmZs2aZUgPDw+bhw8fmosXL5qenh5z48YNg7E3APYs5u1HvbZ69eoE18W7PPo80ORDDAXFZj960mK/NK1fmOzq6kqT5tdOnTq1HlIio8EZM2aEe/bsCU+ePBkWCoUwCAJp8/m8PLPmcjmhWc6fPx9u2bIlnD17tgDAOvs6OjoqVMqJpUuXptCmVOJJAHfSL0NJ9VignMTJra2tlbpguqKiopOS4VCCvH//vgD5NEAtzTHXr1+X+SoxrjdXeVQq2AqlU4qnDLCnLxMKtqKpqakK7RTWVCq1DEAfAnx44cIFB+yzAmVhS7qvry/kelwXPL6oYKvq6+unkr+VrgL2yqRKafKrFGg1gSaTyeVcEDYZDg4OPhGoBcZqi6VLgdr39+7dC9etW0cJE/ByBUq+VqOpJ0qW9tnc3ExpEmxNOp1eSKBc0DIrBcr6yo+2hHPb5oTzO+aG89s7wrmtbeE80M+D7pzTHv7w+z8oA8p1rDYoCPIBvwXk3dDQUK0Y0ibmORxY3VBpHVRdW1s7DQvcoqriEo1Li/Vnr70Wrlq+Inz06FEIDyAVniIcHR2VZ77/9je+GW7b+krRXPvMevfuXTEJ8L05ZcqUFrTT1QTTutHErXkxsHRXBOzX1dWlHjx48AYW2oUNIe4IgjW//c2b5vjx4yaVSgodBqEZGBiQ/nwhbwqFwCQSvvH9hMGH0b5MEmPT6Qpzra/PPNf8HLh6MjeH/pdeftn8fOcv6NLMpUuXzJIlS9h3ABh+iZrTTRiYyJWJgxab3bRpk4CFvSax09uz2ewl7Fqze/duWZwLDg0NmQ96e43n+wBWEMY+wBFUIQhkDFySwUfiQwIBTXEIjTGJZFLYF4KCSGjBggWmpqYGH5iQMfv27TP79+8fQlc3zPFBf38/B3ITFHjQJK0dQBUi6jt37lC6u6AWA7/ogLJeuXzZ/P3EiQgYjQnMoUUAzwN0wiTkIwJhnATNQaShAxnLj6LE+UGspFesXOk+ZseOHebw4cPTYT6vAuivVKrC26jhSuHJgR1oyS/zRIIDd0C52Nt/+rMANgI0JaZECZMxwYQqNUrKTybkQ2CVJoU+H2vkqQ20HNtzscf88ehbkTmpQHDQmO3btxP8q/AMHgRW5AWSFjkM2Vy9epXgV4Ju5aQ4UNaFixeZ7H8y5tcHDkRqBSi2QcwESPMD2MfCPpGKH8nF9m3dvNl8YdkyN9fyoZBQZkDTX8FBdDrmrSLJchB2sAfRQ5P+tyjRxYsXFwEls27Y2M2bN2X2ZED5/ElA+czxA7cHzCLlEeezZs0akTDGvQQ8Fl90RJOAYXvnzp0TmwWDFxYtWlQGlKVz3jzzcHDISZD1jZ27BJStBLppw3ed6iy4na+/7myV43AgmOaW5kn5ULoYs4CmgIOKMY4n/exkZGUmjtwWSrV0AUplZm2tGR0ZLpLSiXfeMdiUDiiZi8dQabNAQua9d99zQNn3eHzcNDY2lvFhPzc3yiyYQgIeyO0r++DBVfjTpk2j/loY4pUCJQM4bABKFqlWNpPnO9WbSG/ukXOlVZOwm4k0bLIMKIuCnc3l4T14BojWHVgs6sFl+HZXlgK1NkonPzY25kzBUwBxZplMtkj6fE9v4KT6+LF4iMmAkiZ/K8xMJkP/H2nKvoUqPcSrPheg858MKAvdDtTjFs+rj7R0xNBzjKWK5CNWXI9mU1lZ6caXbkScnm4p/sBTTXgDM5GqsPRzx5cCteqcOXOmHJ3O5Yh+vCJmVK+l7TgeDlYbt27dMnX1z8j7UqCkmWWg3FLaK0JuASP4YMdHmoIUAbW7unN+J87xy67P2qplJtLOFxxjkToOBlYW0ufPnTcts1omBUoeTIPQDrALvIs2GN2DENXV1QR7hadZKVArpYVwa5d6LjrGiFqdiVjp53JZ1++OSj86/7kO5y95cWmZzVoPwrwNfR8Aj/TxDGDux5EhfKxBpGUQzrHvXSZ6p0+fLgPK2tXdbfo+/DBSharXArWMJQ7Q/shUPNlgFnj/R/0SxEwGFLmaJJco/yAe+mPiA9jQiTiWPv8bzyMEWwqU0m5v7zDDQ8MTAY5uIBecoCANcmDtuED3AOn/fvwx4o7WMqDsO3SIWbuhCbwPyRZlt2IG2G0SALMDuzSBSW8fOXJEDD0OlKWuvg6uKeMWZ3RFe7QfFUk5iJlJKGEiQk6ndrq+pmebyoBeu3bNnD17llPfr6qqChi4myjyKkrHqbcqxJZ1cPzNeH4BdZhZaGkqwtKBtIUFAFyuZTMJjrd9NrOw82zLVMemSXY++2zWC80wgXwWeD6naVbRpQcJOr5a1CbUNnzt7zmR+X48Z2JhfgXpFCWCT8t24/nW+Ph42DWv0yWWth9StfcJR8mfYBWPgGWCYG1WBuLkoMjzkG4Wi/wNz3fWr19vkIPpjo7UhcND7I7qhLszACCnEmluCtKsfGZln6Vv374tpmPt1/rVtWvX8t0d0G+SFeyVrkUqjlvjMgUGMtxt8AIFiD4BV8Edchd2+mMcEH/ZsGHDjFOnTrkN8Ryipa+uXiO7nh9QgF+l3SYRN9A+Jf/Sjcbx9Lscl0BATq/RDY9igfL9tm3bGHqO4t1mVXcWvHMKNsRxGzozsHcGJsrZKXoGEW28hUH7PdQRpuPM863q4/cCT6Of1EfV41i1afgIeKxD7QbPDki10UQZLjPtsrsDSan0cmMaaqOmxO2oi1E3YcFBpsu8/vksNmrp0s3EvaA3MgT6HdTPo3YqX7j9uhpeX+nmL76R0ZfsrEGoSOny6+agdkGdS9B+jTZM20HGKxvi/wFK7dhdTxtF+3XUhajPw23OVr4z9XamMnZBVwa2QgcxRnuGYKEWAp5HFfGGBu0fOIVS2bp1K0+/TwUUNi8gefuI+YOw1bfQfkmBdgFoq3qAOgRLNAG589LLF9/ExGuvjxK9vb1JBZ6GSiq5i/nMwhb+k2MbIZWfAAODimYGy0yFmGEwKmPwTg/C6IpHJ2MNHuEoPM//Ck0dhT9+TL5YlnezWRw0Y6Bz0GoB3oFeKQs8eeCRTWbsJYeJTjFe7FpDToNhEnEtn1MAnQZoe5fqQdoBFk+DaQWYvggprYAk5xM4GDeEE5lCP+h7oHvx/E/Uf2HuOOY61UKiI3BtGTzSEwXwRHQlrPZGRi46+OwuOWJFzlUG4JjsMeIhrSkIg/M0gAFnis/wXskrUHcv3RhTkBhQa2Kh9pFhFYBWKpg8pJoFULm0ZhwAXgUrPKZZeiPj4gsHFrZqubj7JV6w8QVPHUiXp09BGdnbvTxAi00RaMys6IM92izXY4txAbQQxKQGi8pKy3c4MPLKtywW0GjNnWB01DbCkQrwAdxHATaYx6bIjEfGOwbQj6C6URPZ3xgWGoOEaG/spx0+BrAM3pMexzP7xgCU7SNoyM6V+agZCxg8CbgAFxpAqiFMMw48tCmpp39weDBqybF49sNuGY0FUFWAhQp4V4CUpKp0ctjteUgRN0OFLIDk8JyjyGAqBJFBm8XHZfA+A+DjsO+sbi4CzBEg16VEcc0acHPxupQ0PY7GtmV/gsjtN/2a+jaeHGn9AySlLTcZAwuedDXqYuiT60zk6hq0Nuop1MA/TbS/luPp7E10Mk3R2+2KGJ90zMTsJvTNJMX9/xX7b8pOkufYhyTtB/CUiV3rT9Vb6xqt1bH/JioVSMpM/Bsj1f4zFOMlIMv+TygFrAeEr+1kVRaI/bkmDCxztrG/iVIxAIkYELcW+YT6n4blbZ7wl9ITUSvw0O5EdR9iO+qe9AoqnAgwNOyL07Hx9p0jouVlDVnMPOUPOpb/AeQl3jZnd1VdAAAAAElFTkSuQmCC",Qx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAiKSURBVHgBtVhbTFRHGJ5zFhYWUO6FCnIrNpGmCKEBEVASjY3xRkK8S0lN1BKj7YtvJmr64puJaWr70qbGp9oHYvQJTBDxEi9BYiLVVFkiFNQoKrcFhNPvm51zehaBs+zin8zOOWdn/v+b/zb/jCbCpGvXrlU3NTXVoK14/PhxzvDwcI7P5xPR0dFi0aJF3pycHO/GjRs7SkpKGjdv3twiwiBNhEADAwMJhw8f/v7ChQs/jI2NJfBbZmamKCwsFEuXLhXJycnizZs34unTp6Kzs1N0d3fLeS6Xy7t///6Ws2fPntQ0zSs+JhmGkXjgwIHjxMvXiooKA5o1JiYmjLloamrKuHHjhlFWVmZwHtvevXuP46+QlOUEUuvv78+Nj4/v4uvq1asNaE4CmZyclGCcwJpjYBU5n3wSExO78J4jFpLa29uLhNLmnTt3pND3798boZA57+bNm6aWBxT/8IgavX//fjEZxsTEGOPj41KYkyadiPPJh1bxeDwSMJRQbITiFmoSTZ9HRohsKcTJN+dLJj8qgnLoaiJE0hMSErzETg0sNFA7YFqMciCvC7GQqOQHrWV9165dJ8ng+vXrIftnsET+t27dkoAbGhooV8dnZ5QYpD1//vwzPlZVVUlmofqoPQsEYxmmQsgdaG5uTp5Ts4byUzTXvn37/uCn169fh6VVAr18+bLUGPxxTsCUw7TGsbt37/6ROBy1ii4S5GUCD5fa2tqkcBXxxpMnTxw1XF5ebkRFRQ1ge448ceKEPivQbdu2uc6fP7+er9xxQjU/A5JaIm3fvl0Cdbvdsu/o6JiVL7+3trbKcRcvXlxPPB+4A4GqVbiPHTv2Ez/Z/W0+RHMSEHk0NjbKb/X19fIdFjO2bt0661zKMzODwhFJsIY9/6oXrsJTWlramp2dbYRCNPGjR48CTH/u3Dn538GDB42ioiJrQXNRRkYG3aEVFVu00m4AEWwEWhwqpu4NGzYYoQD1er0SYEREhOxRZcn+zJkz1jhqzokoPyUlhaVaLH3XdAXLgfPz810oLFxDQ0NZeXl5Yj4ETYlXr14JaILRKd9J8F0B4OLUqVPWWP7vRLm5uQJ1cRYVODo6SheVrsDkK1MWBGgICh31qVi8eLEIlghsZGREpKenSyDQsPUfgUJDore311pAMJSUlCQAko8u8NYBVqD+NXT+ECxMqKOydyFtyMI5WCIgbJOC86YD5aL7+vrkd74HS7QSTxpCWR5+G+gGwh91BNzT1dXlyBCRa/UEA1+0ALEneAqlRoMxvZ2gOBEXF9dDfNCwFWAmWOkK8FcN/tLz4MEDR4a6rgsU0QK1g3wmYPoogSGwBHhJoPPRqEkPHz4UyEg9IjDHagSrVVdXy7fY2FgC6DR9zHAoJpCmJODbt29LwNQu5/DAGCpQWopnNmD6m3jwrr18+ZJW91c3LS0tIjU1lRHIvpmTUMnPCXZwcFC8ePFCanLlypXi6tWrloZDBUp5XDgJR6gm4gFQiQ+xZY1zpaWlxaJPRcvH1vhu1apVs+ZB7jSXLl2yDn8snteuXRv2CYLEmgQL7QXfZfDbT9DHCP8e4Eerdgl+TEFg5G3atOlnguChcLbdpqamxti5c6cB/7K+sSYIlexVV11dXSN6JvsUNI8wKzDDn2fpu9FQfSJSRtaaNWvK8f4O/YyM7ZVTqDXETMT6mZCOHj3KYiqbeLjlisCsJV/cdBW0DLTlqJZ+Eeo0+7FPClw8qzzK27Jly69ww+V4zlR4ooT/5GA5rawNEFxx6NPot/DBKiT1f8mAzD7mGYzuQznYuSiPx/J8ZALiYBxFmkB1MwrZIfIm0XNfnLhy5cpAbW1tA54HYQ4Z3fPZMoMhM2sgkPg6CHnfUTYbcjV74pmyZ4KAehaNhcEStM/RilHafUNGLPkW8pRrWksdwwePHDlSR3kIcMr9VOFwi2n+ahI3B6YIZoVkBFo2+i/Qvjp06FA9GQp1giCFeyODfGqmvkHyR74uwXMBGqutJFz0eWY8KdhIahe+s1j5DE+5hWilqPZrUUL2UUBlZaWBfV8KDSYTcIyZ1pgOOZ98EBN9uKCrJX+0L4U/XVFunKlVY46NySzCmS54lbkEZlmGfgVaGfyrAnetvyuNyATOewUnwNQmbxu50Zja3LFjx29IVV+TL/krOXS/eNTWzABSq3awASrGHxqdGe7gwhbnVqBjVPPAVLxHitizZ08G6oBvcT9bBCDpnJuVlSUKCgpk4QwL8A5XPHv2TOCuTNazFIqUNLRu3bq/sE3/effu3XeYNgGeY/DdEcTECCqsEXzzCX+QSQ2oEvZDsHZ3wHHCde/ePQkYjDxg5IEwD0C6lfah6Agd97XFYFgJDecDXDqK5XQWziwREeX9SOr9sMA/eG87ffp0O+ZMYYFm1hlDGzUbtnwfLljGhcoCM5ldOAGGb0Vh9R6Ym5qNQqPGXdQyx0G4DhDytDEDH3kmw39TCsCk0tw4FuDDyYRAfQA6ZgNKpQq7Vp3AWjc0aJHItVFv376lVulPBMtnXohEYCEMTN3OT4E3fXQK4yYxzgKqtOpT/bj6bi5IeUAgWH02pFwZZyD/TsKHxwGUGhjBSWIYuZFpjG0IDIfgHvQ1NqklAPPhuzQtnuV/ADrM8UiJ1lw1xwTLdCGBSk1NA+pIxv/3X5rKeTyfsApiwk4S/jSTCQA56PNg1nwV1Uzs7PP5nTkbbp/JdIjFJqv5DFq34qvb5IVOJgOVQsiUfkoX8KhaIl4BZzmXqhaQDmDMEp8gyFLV//Ecz2Sv5keoXdPOf05yLOdNczClmWbCswwUpCsdADQel3k65jAEikCgaKzyhf+CeArnMem3qD1MM8u9QlOb/kz+uZCk2VyEIF3KnC5u2Wrbpsuwd6n2QRDOW6gIk+x+Ru1MezfHyM7/KXQN/gfNb60kCgasngAAAABJRU5ErkJggg==";function Yx(){const[i,e]=te.useState([]),[r,a]=te.useState([]),[o,u]=te.useState(null),[h,c]=te.useState({name:"",description:"",price:"",image:""});te.useEffect(()=>{(async()=>{const g=(await Vb(Rm(ol,"products"))).docs.map(v=>({id:v.id,...v.data()})).filter(v=>!v.isDeleted);e(g),a(g)})()},[]);const _=async p=>{try{const b=qd(ol,"products",p);await b_(b,{isDeleted:!0}),e(g=>g.filter(v=>v.id!==p)),console.log("Produkten har tagits bort.")}catch(b){console.error("Fel vid borttagningen",b)}},y=p=>{u(p.id),c({title:p.name,description:p.description,price:p.price,image:p.image})},T=p=>{c({...h,[p.target.name]:p.target.value})},m=async p=>{const b=qd(ol,"products",p);await b_(b,{title:h.title,description:h.description,price:h.price}),e(g=>g.map(v=>v.id===p?{...v,...h}:v)),a(g=>g.map(v=>v.id===p?{...v,...h}:v)),u(null)};return W.jsxs("div",{children:[W.jsx(pn,{to:"/admin",children:W.jsx("button",{className:"admin-button",children:"Ändra Produkt"})}),W.jsx(pn,{to:"/addnewproduct",children:W.jsx("button",{className:"admin-button",children:"Lägg till Produkt"})}),W.jsxs("div",{className:"existing-p-list",children:[W.jsx(pn,{to:"/loggin",children:W.jsx("button",{className:"loggout-button",children:"Logga ut"})}),i.map(p=>W.jsx("div",{className:"product-item",children:o===p.id?W.jsxs(W.Fragment,{children:[W.jsx("input",{name:"name",value:h.name,onChange:T}),W.jsx("input",{name:"description",value:h.name,onChange:T}),W.jsx("input",{name:"price",value:h.name,onChange:T}),W.jsx("input",{name:"image",value:h.name,onChange:T}),W.jsx("button",{className:"add-button",onClick:()=>m(p.id),children:"Spara"})]}):W.jsxs(W.Fragment,{children:[W.jsx("p",{children:p.name}),W.jsx("p",{children:p.description}),W.jsxs("p",{children:[p.price," kr"]}),W.jsx("button",{className:"trashcan",onClick:()=>_(p.id),children:W.jsx("img",{src:Gx,alt:"trashcan",className:"trashcan"})}),W.jsx("button",{className:"edit",onClick:()=>y(p),children:W.jsx("img",{src:Qx,alt:"edit",className:"edit"})})]})},p.id))]})]})}const Kx=_i.object({title:_i.string().min(2).required().messages({"string.empty":"Namn på produkt krävs","string.min":"Produktnamnet måste vara minst 4 tecken"}),description:_i.string().min(5).required().messages({"string.empty":"Beskrivning krävs","string.min":"Beskrivning måste vara minst 5 tecken"}),price:_i.number().min(1).required().messages({"number.base":"Pris måste vara en siffra","number.min":"Priset måste vara minst 1 siffra","any.required":"Pris krävS"}),image:_i.string().min(2).required().messages({"string.empty":"Bild-URL krävs","string.uri":"URL måste vara en giltig länk"})});function Xx(){const[i,e]=te.useState({title:"",description:"",price:"",image:""}),[r,a]=te.useState({}),o=Yd(),u=c=>{e(_=>({..._,[c.target.name]:c.target.value}))},h=async()=>{const c=Kx.validate(i,{abortEarly:!1});if(c.error){const _={};c.error.details.forEach(y=>{_[y.path[0]]=y.message}),a(_);return}try{await dC(Rm(ol,"products"),{...i,price:Number(i.price),isDeleted:!1}),o("/admin")}catch(_){console.error("Fel vid tillägg",_)}};return W.jsxs("div",{children:[W.jsx(pn,{to:"/admin",children:W.jsx("button",{className:"admin-button",children:"Ändra Produkt"})}),W.jsx(pn,{to:"/addnewproduct",children:W.jsx("button",{className:"admin-button",children:"Lägg till Produkt"})}),W.jsxs("div",{className:"add-new",children:[W.jsx("input",{name:"title",placeholder:"Titel",value:i.title,onChange:u}),r.title&&W.jsx("p",{className:"error",children:r.title}),W.jsx("input",{name:"description",placeholder:"Beskrivning",value:i.description,onChange:u}),r.description&&W.jsx("p",{className:"error",children:r.description}),W.jsx("input",{name:"price",type:"number",placeholder:"Pris",value:i.price,onChange:u}),r.price&&W.jsx("p",{className:"error",children:r.price}),W.jsx("input",{name:"image",placeholder:"Bild-URL",value:i.image,onChange:u}),r.image&&W.jsx("p",{className:"error",children:r.image}),W.jsx("button",{className:"add-button",onClick:h,children:"Lägg till produkt"})]})]})}function Zx(){return W.jsx(W.Fragment,{children:W.jsxs("div",{className:"Order",children:[W.jsx("h2",{children:"Tack för din beställning!"}),W.jsx("p",{children:" Ordernummer: "}),W.jsx(pn,{to:"/",children:W.jsx("button",{className:"continue",children:"Fortsätt"})})]})})}function Jx(){return W.jsx(W.Fragment,{children:W.jsxs("div",{children:[W.jsx(p1,{}),W.jsxs(DT,{children:[W.jsx(vi,{path:"/",element:W.jsx(zx,{})}),W.jsx(vi,{path:"/Cart",element:W.jsx(Px,{})}),W.jsx(vi,{path:"/Products",element:W.jsx(Lx,{})}),W.jsx(vi,{path:"/loggIn",element:W.jsx(Hx,{})}),W.jsx(vi,{path:"/admin",element:W.jsx(Yx,{})}),W.jsx(vi,{path:"/addnewproduct",element:W.jsx(Xx,{})}),W.jsx(vi,{path:"/order",element:W.jsx(Zx,{})})]}),W.jsx("main",{}),W.jsx(qx,{})]})})}const Wx=UA.createRoot(document.getElementById("root"));Wx.render(W.jsx(vd.StrictMode,{children:W.jsx(WT,{children:W.jsx(Jx,{})})}));
